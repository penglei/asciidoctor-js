(()=>{var $r=Object.create;var Vt=Object.defineProperty;var or=Object.getOwnPropertyDescriptor;var ar=Object.getOwnPropertyNames;var lr=Object.getPrototypeOf,ur=Object.prototype.hasOwnProperty;var cr=(o,Z)=>()=>(o&&(Z=o(o=0)),Z);var fr=(o,Z)=>()=>(Z||o((Z={exports:{}}).exports,Z),Z.exports),_r=(o,Z)=>{for(var Se in Z)Vt(o,Se,{get:Z[Se],enumerable:!0})},Ot=(o,Z,Se,Me)=>{if(Z&&typeof Z=="object"||typeof Z=="function")for(let he of ar(Z))!ur.call(o,he)&&he!==Se&&Vt(o,he,{get:()=>Z[he],enumerable:!(Me=or(Z,he))||Me.enumerable});return o};var dr=(o,Z,Se)=>(Se=o!=null?$r(lr(o)):{},Ot(Z||!o||!o.__esModule?Vt(Se,"default",{value:o,enumerable:!0}):Se,o)),hr=o=>Ot(Vt({},"__esModule",{value:!0}),o);var tr={};_r(tr,{default:()=>er});function er(o){Opal.modules["asciidoctor/js/opal_ext/browser/file"]=function(e){var H=e.klass,P=e.defs,C=[],K=e.nil;return e.add_stubs("new"),function(c,R,we){var I=H(c,R,"File"),ue=[I].concat(we),g=e.$r(ue);return P(I,"$read",function(oe){var Ce="",ge=-1;try{var ve=new XMLHttpRequest;ve.open("GET",oe,!1),ve.addEventListener("load",function(){ge=this.status,(ge===0||ge===200)&&(Ce=this.responseText)}),ve.overrideMimeType("text/plain"),ve.send()}catch(st){throw g("IOError").$new("Error reading file or directory: "+oe+"; reason: "+st.message)}if(ge===404||ge===0&&!Ce)throw g("IOError").$new("No such file or directory: "+oe);return Ce})}(C[0],null,C)},Opal.modules["asciidoctor/js/opal_ext/browser"]=function(e){var H=e.const_set,P=e.top,C=[],K=e.nil;e.add_stubs("require");var c,R,we,I;if(typeof o=="object"&&typeof o.runtime=="object"){var ue=o.runtime;c=ue.platform,R=ue.engine,we=ue.framework,I=ue.ioModule}return I=I||"xmlhttprequest",c=c||"browser",R=R||"",we=we||"",H(C[0],"JAVASCRIPT_IO_MODULE",I),H(C[0],"JAVASCRIPT_PLATFORM",c),H(C[0],"JAVASCRIPT_ENGINE",R),H(C[0],"JAVASCRIPT_FRAMEWORK",we),P.$require("asciidoctor/js/opal_ext/browser/file")},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/abstract_node"]=function(e){var H=e.module,P=e.klass,C=e.hash2,K=e.truthy,c=e.def,R=[],we=e.nil,I=e.$$$;return e.add_stubs("web_path,path_resolver,uriish?,[],attr?,start_with?,descends_from?,base_dir,join,prepare_source_string,read,fetch,warn,logger,normalize_system_path,read_asset"),function(ue,g){var Ke=H(ue,"Asciidoctor"),oe=[Ke].concat(g);return function(Ce,ge,ve){var st=P(Ce,ge,"AbstractNode"),Ae=[st].concat(ve),et=e.$r(Ae),Ye=st.$$prototype;return Ye.document=we,c(st,"$read_contents",function(Qe,y){var Je=this,p=we,Ve=we,rt=we;if(y==null&&(y=C([],{})),p=Je.document,K(et("Helpers")["$uriish?"](Qe))||K(Ve=y["$[]"]("start"))&&K(et("Helpers")["$uriish?"](Ve))&&K(Qe=p.$path_resolver().$web_path(Qe,Ve)))if(K(p.$path_resolver()["$descends_from?"](Qe,p.$base_dir()))||K(Qe["$start_with?"]("chrome://"))||K(p["$attr?"]("allow-uri-read")))try{return K(y["$[]"]("normalize"))?et("Helpers").$prepare_source_string(I("File").$read(Qe)).$join(et("LF")):I("File").$read(Qe)}catch(z){if(e.rescue(z,[et("StandardError")]))try{return K(y.$fetch("warn_on_failure",!0))&&Je.$logger().$warn("could not retrieve contents of "+(K(rt=y["$[]"]("label"))?rt:"asset")+" at URI: "+Qe),we}finally{e.pop_exception()}else throw z}else return K(y.$fetch("warn_on_failure",!0))&&Je.$logger().$warn("cannot retrieve contents of "+(K(rt=y["$[]"]("label"))?rt:"asset")+" at URI: "+Qe+" (allow-uri-read attribute not enabled)"),we;else return Qe=Je.$normalize_system_path(Qe,y["$[]"]("start"),we,C(["target_name"],{target_name:K(rt=y["$[]"]("label"))?rt:"asset"})),Je.$read_asset(Qe,C(["normalize","warn_on_failure","label"],{normalize:y["$[]"]("normalize"),warn_on_failure:y.$fetch("warn_on_failure",!0),label:y["$[]"]("label")}))},-2),c(st,"$generate_data_uri_from_uri",function(Qe,y){var Je=this;y==null&&(y=!1);var p="",Ve="",rt=-1;try{var z=new XMLHttpRequest;z.open("GET",Qe,!1),z.overrideMimeType("text/plain; charset=x-user-defined"),z.addEventListener("load",function(){if(rt=this.status,rt===0||rt===200){for(var x="",ke=this.responseText,ee=0,ce=ke.length;ee<ce;++ee){var ie=ke.charCodeAt(ee),j=ie&255;x+=String.fromCharCode(j)}Ve=btoa(x),p=this.getResponseHeader("content-type")}}),z.send(null),p||(Qe.endsWith(".jpeg")||Qe.endsWith(".jpg")||Qe.endsWith(".jpe")?p="image/jpg":Qe.endsWith(".png")?p="image/png":Qe.endsWith(".svg")?p="image/svg+xml":Qe.endsWith(".bmp")?p="image/bmp":(Qe.endsWith(".tif")||Qe.endsWith(".tiff"))&&(p="image/tiff"))}catch{rt=0}return rt===404||rt===0&&(!Ve||!p)?(Je.$logger().$warn("could not retrieve image data from URI: "+Qe),Qe):"data:"+p+";base64,"+Ve},-2)}(oe[0],null,oe)}(R[0],R)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/open_uri"]=function(e){var H=e.module,P=e.slice,C=e.send,K=e.to_a,c=e.defs,R=[],we=e.nil;return e.add_stubs("new,path"),function(I,ue){var g=H(I,"OpenURI"),Ke=[g].concat(ue),oe=e.$r(Ke);return c(oe("OpenURI"),"$open_uri",function Ce(ge,ve){var st,Ae,et=Ce.$$p||we,Ye=this,Ue=we;return Ce.$$p=null,st=P(arguments,1),Ae=st,Ue=C(oe("File"),"new",[Ye.$path()].concat(K(Ae))),et!==we?e.yield1(et,Ue):Ue},-2)}(R[0],R)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/path_resolver"]=function(e){var H=e.module,P=e.klass,C=e.truthy,K=e.def,c=[],R=e.nil;return e.add_stubs("absolute_path?,start_with?"),function(we,I){var ue=H(we,"Asciidoctor"),g=[ue].concat(I);return function(Ke,oe){var Ce=P(Ke,oe,"PathResolver");return K(Ce,"$root?",function(ve){var st=this,Ae=R;return C(Ae=st["$absolute_path?"](ve))?Ae:ve["$start_with?"]("file://","http://","https://","chrome://")})}(g[0],null)}(c[0],c)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/reader"]=function(e){var H=e.module,P=e.klass,C=e.truthy,K=e.eqeq,c=e.not,R=e.def,we=[],I=e.nil;return e.add_stubs("posixify,new,base_dir,start_with?,uriish?,key?,attributes,descends_from?,replace_next_line,absolute_path?,==,empty?,!,slice,length"),function(ue,g){var Ke=H(ue,"Asciidoctor"),oe=[Ke].concat(g),Ce=e.$r(oe);return function(ge,ve,st){var Ae=P(ge,ve,"PreprocessorReader"),et=[Ae].concat(st),Ye=e.$r(et),Ue=Ae.$$prototype;return Ue.path_resolver=Ue.document=Ue.include_stack=Ue.dir=I,R(Ae,"$resolve_include_path",function(y,Je,p){var Ve,rt=this,z=I,x=I,ke=I,ee=I,ce=I,ie=I,j=I,Q=I,T=I;if(z=(rt.path_resolver=C(x=rt.path_resolver)?x:Ye("PathResolver").$new("\\")).$posixify(y),Ve=["file",rt.document.$base_dir()],ke=Ve[0],ee=Ve[1],C(z["$start_with?"]("file://")))ce=ie=z;else if(C(Ye("Helpers")["$uriish?"](z))){if(!(C(rt.path_resolver["$descends_from?"](z,ee))||C(rt.document.$attributes()["$key?"]("allow-uri-read"))))return rt.$replace_next_line("link:"+y+"["+Je+"]");ce=ie=z}else if(C(rt.path_resolver["$absolute_path?"](z)))ce=ie="file://"+(C(z["$start_with?"]("/"))?"":"/")+z;else if(K(j=C(Q=rt.include_stack["$empty?"]())?ee:rt.dir,"."))ce=ie=z;else if(C(j["$start_with?"]("file://"))||c(Ye("Helpers")["$uriish?"](j)))ce=""+j+"/"+z,C(Q)?ie=z:K(ee,".")||c(T=rt.path_resolver["$descends_from?"](ce,ee))?ie=ce:ie=ce.$slice(T,ce.$length());else if(C(Q))ce=""+j+"/"+(ie=z);else if(C(T=rt.path_resolver["$descends_from?"](j,ee))||C(rt.document.$attributes()["$key?"]("allow-uri-read")))ce=""+j+"/"+z,ie=C(T)?ce.$slice(T,ce.$length()):z;else return rt.$replace_next_line("link:"+y+"["+Je+"]");return[ce,"file",ie]})}(oe[0],Ce("Reader"),oe)}(we[0],we)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser"]=function(e){var H=e.eqeq,P=e.top,C=[],K=e.$r(C),c=e.nil;return e.add_stubs("==,require"),H(K("JAVASCRIPT_IO_MODULE"),"xmlhttprequest")?(P.$require("asciidoctor/js/asciidoctor_ext/browser/abstract_node"),P.$require("asciidoctor/js/asciidoctor_ext/browser/open_uri"),P.$require("asciidoctor/js/asciidoctor_ext/browser/path_resolver"),P.$require("asciidoctor/js/asciidoctor_ext/browser/reader")):c},Opal.modules.set=Opal.return_val(Opal.nil),Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(e){"use strict";var H=e.module,P=e.slice,C=e.send,K=e.to_a,c=e.def,R=e.return_val,we=[],I=e.nil;return e.add_stubs("new"),function(ue,g){var Ke=H(ue,"Kernel"),oe=[Ke].concat(g),Ce=e.$r(oe);return c(Ke,"$open",function ge(ve,st){var Ae,et,Ye=ge.$$p||I,Ue=I;return ge.$$p=null,Ae=P(arguments,1),et=Ae,Ue=C(Ce("File"),"new",[ve].concat(K(et))),Ye!==I?e.yield1(Ye,Ue):Ue},-2),c(Ke,"$__dir__",R(""))}(we[0],we)},Opal.modules["asciidoctor/js/opal_ext/file"]=function(e){"use strict";var H=e.klass,P=e.def,C=e.truthy,K=e.gvars,c=e.return_val,R=e.defs,we=[],I=e.nil;return e.add_stubs("attr_reader,delete,gsub,read,size,to_enum,chomp,each_line,readlines,split"),function(ue,g,Ke){var oe=H(ue,g,"File"),Ce=[oe].concat(Ke),ge=e.$r(Ce),ve=oe.$$prototype;return ve.eof=ve.path=I,oe.$attr_reader("eof"),oe.$attr_reader("lineno"),oe.$attr_reader("path"),P(oe,"$initialize",function(Ae,et){var Ye=this,Ue=I;return et==null&&(et="r"),Ye.path=Ae,Ye.contents=I,Ye.eof=!1,Ye.lineno=0,et=et.$delete("b"),Ue=/:(.*)/,et=et.$gsub(Ue,""),Ye.flags=et},-2),P(oe,"$read",function(){var Ae=this,et=I;return C(Ae.eof)?"":(et=ge("File").$read(Ae.path),Ae.eof=!0,Ae.lineno=et.$size(),et)}),P(oe,"$each_line",function st(Ae){var et=st.$$p||I,Ye=this,Ue=I;if(K["/"]==null&&(K["/"]=I),st.$$p=null,Ae==null&&(Ae=K["/"]),C(Ye.eof))return et!==I?Ye:[].$to_enum();if(et!==I){Ue=ge("File").$read(Ye.path),Ye.eof=!1,Ye.lineno=0;for(var Qe=Ue.$chomp(),y=Ue.length!=Qe.length,Je=Qe.split(Ae),p=0,Ve=Je.length;p<Ve;p++)Ye.lineno+=1,p<Ve-1||y?e.yield1(et,Je[p]+Ae):e.yield1(et,Je[p]);return Ye.eof=!0,Ye}else return Ye.$read().$each_line()},-1),P(oe,"$readlines",function(){var Ae=this;return ge("File").$readlines(Ae.path)}),function(st,Ae){var et=[st].concat(Ae),Ye=e.$r(et);return P(st,"$readlines",function(Qe,y){var Je=I;return K["/"]==null&&(K["/"]=I),y==null&&(y=K["/"]),Je=Ye("File").$read(Qe),Je.$split(y)},-2),P(st,"$file?",c(!0)),P(st,"$readable?",c(!0)),P(st,"$read",c(""))}(e.get_singleton_class(oe),Ce)}(we[0],null,we),function(ue,g,Ke){var oe=H(ue,g,"IO"),Ce=[oe].concat(Ke),ge=e.$r(Ce);return R(oe,"$read",function(st){return ge("File").$read(st)})}(we[0],null,we)},Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(e){"use strict";var H=e.klass,P=e.send,C=e.def,K=[],c=e.nil;return e.add_stubs("[]="),function(R,we){var I=H(R,we,"MatchData"),ue=I.$$prototype;return ue.matches=c,C(I,"$[]=",function(Ke,oe){var Ce,ge=this;return Ce=[Ke,oe],P(ge.matches,"[]=",Ce),Ce[Ce.length-1]})}(K[0],null)},Opal.modules["asciidoctor/js/opal_ext/string"]=function(e){"use strict";var H=e.klass,P=e.truthy,C=e.rb_lt,K=e.def,c=e.alias,R=e.rb_ge,we=e.eqeq,I=e.rb_minus,ue=[],g=e.nil;return e.add_stubs("method_defined?,<,length,bytes,to_s,byteslice,limit_bytesize,>=,==,-,_original_byteslice,unpack,_original_unpack"),function(Ke,oe){var Ce=H(Ke,oe,"String");return P(Ce["$method_defined?"]("limit_bytesize"))||K(Ce,"$limit_bytesize",function(ve){var st=this,Ae=g;return P(C(ve,st.$bytes().$length()))?(Ae=st.$byteslice(0,ve),Ae.$to_s()):st.$to_s()}),P(Ce["$method_defined?"]("limit"))||c(Ce,"limit","limit_bytesize"),c(Ce,"_original_byteslice","byteslice"),K(Ce,"$byteslice",function(ve,st){var Ae=this;return st==null&&(st=1),we(ve,3)&&P(R(st,ve))&&P(Ae.charCodeAt()===65279)?Ae.substr(1).$byteslice(0,I(st,3)):Ae.$_original_byteslice(ve,st)},-2),c(Ce,"_original_unpack","unpack"),K(Ce,"$unpack",function(ve){var st=this;if(we(ve,"C3")){if(P(st.charCodeAt()===65279))return[239,187,191];for(var Ae=[],et=0;et<3;et++)et<st.length?Ae.push(st.charCodeAt(et)):Ae.push(g);return Ae}else return st.$_original_unpack(ve)})}(ue[0],null)},Opal.modules["asciidoctor/js/opal_ext/uri"]=function(e){"use strict";var H=e.module,P=e.defs,C=e.return_self,K=e.def,c=[],R=e.nil;return e.add_stubs("extend"),function(we,I){var ue=H(we,"URI"),g=[ue].concat(I),Ke=e.$r(g);return P(ue,"$parse",function(Ce){return Ce.$extend(Ke("URI"))}),K(ue,"$path",C)}(c[0],c)},Opal.modules["asciidoctor/js/opal_ext/base64"]=function(e){"use strict";var H=e.module,P=e.defs,C=e.ensure_kwargs,K=e.truthy,c=[],R=e.nil;return e.add_stubs("delete"),function(we){var I=H(we,"Base64"),ue,g;return ue=e.global.btoa||function(Ke){var oe;return Ke instanceof Buffer?oe=Ke:oe=Buffer.from(Ke.toString(),"binary"),oe.toString("base64")},g=e.global.atob||function(Ke){return Buffer.from(Ke,"base64").toString("binary")},P(I,"$decode64",function(oe){return g(oe.replace(/\r?\n/g,""))}),P(I,"$encode64",function(oe){return ue(oe).replace(/(.{60})/g,`$1
`).replace(/([^\n])$/g,`$1
`)}),P(I,"$strict_decode64",function(oe){return g(oe)}),P(I,"$strict_encode64",function(oe){return ue(oe)}),P(I,"$urlsafe_decode64",function(oe){return g(oe.replace(/\-/g,"+").replace(/_/g,"/"))}),P(I,"$urlsafe_encode64",function(oe,Ce){var ge,ve=R;return Ce=C(Ce),ge=Ce.$$smap.padding,ge==null&&(ge=!0),ve=ue(oe).replace(/\+/g,"-").replace(/\//g,"_"),K(ge)||(ve=ve.$delete("=")),ve},-2)}(c[0])},Opal.modules["asciidoctor/js/opal_ext/number"]=function(e){"use strict";var H=e.klass,P=e.truthy,C=e.rb_gt,K=e.def,c=[],R=e.$r(c),we=e.nil;return e.add_stubs("coerce_to!,>"),function(I,ue,g){var Ke=H(I,ue,"Number"),oe=[Ke].concat(g),Ce=e.$r(oe);return K(Ke,"$round",function(ve){var st=this;return ve=Ce("Opal")["$coerce_to!"](ve,Ce("Integer"),"to_int"),P(C(ve,0))?Number(st.toFixed(ve)):Math.round(st)},-1)}(c[0],R("Numeric"),c)},Opal.modules["asciidoctor/js/opal_ext"]=function(e){"use strict";var H=e.top,P=e.nil;e.add_stubs("require"),H.$require("asciidoctor/js/opal_ext/kernel"),H.$require("asciidoctor/js/opal_ext/file"),H.$require("asciidoctor/js/opal_ext/match_data"),H.$require("asciidoctor/js/opal_ext/string"),H.$require("asciidoctor/js/opal_ext/uri"),H.$require("asciidoctor/js/opal_ext/base64"),H.$require("asciidoctor/js/opal_ext/number"),e.config.unsupported_features_severity="ignore",H.$require("asciidoctor/js/opal_ext/browser")},Opal.modules["asciidoctor/js/rx"]=function(e){"use strict";var H=e.module,P=e.const_set,C=e.send,K=e.gvars,c=e.truthy,R=e.defs,we=e.rb_plus,I=[],ue=e.nil;return e.add_stubs("gsub,+,unpack_hex_range"),function(g,Ke){var oe=H(g,"Asciidoctor"),Ce=[oe].concat(Ke),ge=e.$r(Ce);return P(Ce[0],"HEX_RANGE_RX",/([A-F0-9]{4})(?:-([A-F0-9]{4}))?/),R(oe,"$unpack_hex_range",function(st){return C(st,"gsub",[ge("HEX_RANGE_RX")],function(){var et,Ye=ue;return"\\u"+((et=K["~"])===ue?ue:et["$[]"](1))+(c(Ye=(et=K["~"])===ue?ue:et["$[]"](2))?"-\\u"+((et=K["~"])===ue?ue:et["$[]"](2)):Ye)})}),P(Ce[0],"P_L",we("A-Za-z",oe.$unpack_hex_range("00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D037F03860388-038A038C038E-03A103A3-03F503F7-0481048A-052F0531-055605590561-058705D0-05EA05F0-05F20620-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280840-085808A0-08B20904-0939093D09500958-09610971-09800985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA16F1-16F81700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191E1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA67F-A69DA6A0-A6E5A717-A71FA722-A788A78B-A78EA790-A7ADA7B0A7B1A7F7-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFA9E0-A9E4A9E6-A9EFA9FA-A9FEAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA7E-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDAAE0-AAEAAAF2-AAF4AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EAB30-AB5AAB5C-AB5FAB64AB65ABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC"))),P(Ce[0],"P_Nl",oe.$unpack_hex_range("16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF")),P(Ce[0],"P_Nd",we("0-9",oe.$unpack_hex_range("0660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0DE6-0DEF0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19D91A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9A9F0-A9F9AA50-AA59ABF0-ABF9FF10-FF19"))),P(Ce[0],"P_Pc",oe.$unpack_hex_range("005F203F20402054FE33FE34FE4D-FE4FFF3F")),P(Ce[0],"CC_ALPHA",""+ge("P_L")+ge("P_Nl")),P(Ce[0],"CG_ALPHA","["+ge("CC_ALPHA")+"]"),P(Ce[0],"CC_ALNUM",""+ge("CC_ALPHA")+ge("P_Nd")),P(Ce[0],"CG_ALNUM","["+ge("CC_ALNUM")+"]"),P(Ce[0],"CC_WORD",""+ge("CC_ALNUM")+ge("P_Pc")),P(Ce[0],"CG_WORD","["+ge("CC_WORD")+"]"),P(Ce[0],"CG_BLANK","[ \\t]"),P(Ce[0],"CC_EOL","(?=\\n|$)"),P(Ce[0],"CG_GRAPH","[^\\s\\x00-\\x1F\\x7F]"),P(Ce[0],"CC_ALL","[\\s\\S]"),P(Ce[0],"CC_ANY","[^\\n]")}(I[0],I)},Opal.modules.strscan=function(e){"use strict";var H=e.klass,P=e.def,C=e.truthy,K=e.eqeqeq,c=e.Opal,R=e.return_ivar,we=e.send,I=e.alias,ue=[],g=e.nil;return e.add_stubs("attr_reader,anchor,empty?,===,to_s,coerce_to!,scan_until,length,size,rest,pos=,beginning_of_line?,get_byte,private"),function(Ke,oe,Ce){var ge=H(Ke,oe,"StringScanner"),ve=[ge].concat(Ce),st=e.$r(ve),Ae=ge.$$prototype;return Ae.pos=Ae.string=Ae.working=Ae.matched=Ae.prev_pos=Ae.match=g,ge.$attr_reader("pos","matched"),P(ge,"$initialize",function(Ye){var Ue=this;return Ue.string=Ye,Ue.pos=0,Ue.matched=g,Ue.working=Ye,Ue.match=[]}),ge.$attr_reader("string"),P(ge,"$beginning_of_line?",function(){var Ye=this;return Ye.pos===0||Ye.string.charAt(Ye.pos-1)===`
`}),P(ge,"$scan",function(Ye){var Ue=this;Ye=Ue.$anchor(Ye);var Qe=Ye.exec(Ue.working);return Qe==null?Ue.matched=g:(Ue.prev_pos=Ue.pos,Ue.pos+=Qe[0].length,Ue.working=Ue.working.substring(Qe[0].length),Ue.matched=Qe[0],Ue.match=Qe,Qe[0])}),P(ge,"$scan_until",function(Ye){var Ue=this;Ye=Ue.$anchor(Ye);for(var Qe=Ue.working,y=0;Qe.length!=y;++y){var Je=Ye.exec(Qe.substr(y));if(Je!==null){var p=y+Je[0].length,Ve=Qe.substr(0,p);return Ue.matched=Je[0],Ue.match=Je,Ue.prev_pos=Ue.pos+y,Ue.pos+=p,Ue.working=Qe.substr(p),Ve}}return Ue.matched=g}),P(ge,"$[]",function(Ye){var Ue=this,Qe=g;if(C(Ue.match["$empty?"]()))return g;K(st("Symbol"),Qe=Ye)?Ye=Ye.$to_s():K(st("String"),Qe)||(Ye=c["$coerce_to!"](Ye,st("Integer"),"to_int"));var y=Ue.match;return Ye<0&&(Ye+=y.length),Ye<0||Ye>=y.length||y[Ye]==null?g:y[Ye]}),P(ge,"$check",function(Ye){var Ue=this;Ye=Ue.$anchor(Ye);var Qe=Ye.exec(Ue.working);return Qe==null?Ue.matched=g:Ue.matched=Qe[0]}),P(ge,"$check_until",function(Ye){var Ue=this,Qe=Ue.prev_pos,y=Ue.pos,Je=Ue.working,p=Ue.$scan_until(Ye);return Ue.prev_pos=Qe,Ue.pos=y,Ue.working=Je,p}),P(ge,"$peek",function(Ye){var Ue=this;return Ue.working.substring(0,Ye)}),P(ge,"$eos?",function(){var Ye=this;return Ye.working.length===0}),P(ge,"$exist?",function(Ye){var Ue=this,Qe=Ye.exec(Ue.working);return Qe==null?g:Qe.index==0?0:Qe.index+1}),P(ge,"$skip",function(Ye){var Ue=this;Ye=Ue.$anchor(Ye);var Qe=Ye.exec(Ue.working);if(Qe==null)return Ue.match=[],Ue.matched=g;var y=Qe[0],Je=y.length;return Ue.matched=y,Ue.match=Qe,Ue.prev_pos=Ue.pos,Ue.pos+=Je,Ue.working=Ue.working.substring(Je),Je}),P(ge,"$skip_until",function(Ye){var Ue=this,Qe=Ue.$scan_until(Ye);return Qe===g?g:(Ue.matched=Qe.substr(-1),Qe.length)}),P(ge,"$get_byte",function(){var Ye=this,Ue=g;return Ye.pos<Ye.string.length?(Ye.prev_pos=Ye.pos,Ye.pos+=1,Ue=Ye.matched=Ye.working.substring(0,1),Ye.working=Ye.working.substring(1)):Ye.matched=g,Ue}),P(ge,"$match?",function(Ye){var Ue=this;Ye=Ue.$anchor(Ye);var Qe=Ye.exec(Ue.working);return Qe==null?g:(Ue.prev_pos=Ue.pos,Qe[0].length)}),P(ge,"$pos=",function(Ye){var Ue=this;return Ye<0&&(Ye+=Ue.string.$length()),Ue.pos=Ye,Ue.working=Ue.string.slice(Ye)}),P(ge,"$matched_size",function(){var Ye=this;return Ye.matched===g?g:Ye.matched.length}),P(ge,"$post_match",function(){var Ye=this;return Ye.matched===g?g:Ye.string.substr(Ye.pos)}),P(ge,"$pre_match",function(){var Ye=this;return Ye.matched===g?g:Ye.string.substr(0,Ye.prev_pos)}),P(ge,"$reset",function(){var Ye=this;return Ye.working=Ye.string,Ye.matched=g,Ye.pos=0}),P(ge,"$rest",R("working")),P(ge,"$rest?",function(){var Ye=this;return Ye.working.length!==0}),P(ge,"$rest_size",function(){var Ye=this;return Ye.$rest().$size()}),P(ge,"$terminate",function(){var Ye,Ue=this;return Ue.match=g,Ye=[Ue.string.$length()],we(Ue,"pos=",Ye),Ye[Ye.length-1]}),P(ge,"$unscan",function(){var Ye=this;return Ye.pos=Ye.prev_pos,Ye.prev_pos=g,Ye.match=g,Ye}),I(ge,"bol?","beginning_of_line?"),I(ge,"getch","get_byte"),ge.$private(),P(ge,"$anchor",function(Ye){var Ue=Ye.toString().match(/\/([^\/]+)$/);return Ue=Ue?Ue[1]:void 0,new RegExp("^(?:"+Ye.source+")",Ue)})}(ue[0],null,ue)},Opal.modules["asciidoctor/js"]=function(e){"use strict";var H=e.top,P=e.nil;return e.add_stubs("require"),H.$require("asciidoctor/js/opal_ext"),H.$require("asciidoctor/js/rx"),H.$require("strscan")},Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function(e){"use strict";var H=e.klass,P=e.truthy,C=e.alias,K=[],c=e.nil;return e.add_stubs("method_defined?,nil?,empty?"),function(R,we){var I=H(R,we,"NilClass");return P(I["$method_defined?"]("nil_or_empty?"))?c:C(I,"nil_or_empty?","nil?")}(K[0],null),function(R,we){var I=H(R,we,"String");return P(I["$method_defined?"]("nil_or_empty?"))?c:C(I,"nil_or_empty?","empty?")}(K[0],null),function(R,we){var I=H(R,we,"Array");return P(I["$method_defined?"]("nil_or_empty?"))?c:C(I,"nil_or_empty?","empty?")}(K[0],null),function(R,we){var I=H(R,we,"Hash");return P(I["$method_defined?"]("nil_or_empty?"))?c:C(I,"nil_or_empty?","empty?")}(K[0],null),function(R,we){var I=H(R,we,"Numeric");return P(I["$method_defined?"]("nil_or_empty?"))?c:C(I,"nil_or_empty?","nil?")}(K[0],null)},Opal.modules["asciidoctor/core_ext/hash/merge"]=function(e){"use strict";var H=e.eqeq,P=e.send,C=e.slice,K=e.truthy,c=e.rb_lt,R=e.rb_gt,we=e.send2,I=e.find_super,ue=e.def,g=e.top,Ke=[],oe=e.$r(Ke),Ce=e.nil;return e.add_stubs("==,arity,instance_method,send,new,<,length,dup,>,inject,merge,[]"),H(oe("Hash").$instance_method("merge").$arity(),1)?oe("Hash").$send("prepend",P(oe("Module"),"new",[],function ge(){var ve=ge.$$s==null?this:ge.$$s;return ue(ve,"$merge",function st(Ae){var et,Ye,Ue=st.$$p||Ce,Qe=this,y=Ce;return st.$$p=null,et=C(arguments),Ye=et,K(c(y=Ye.$length(),1))?Qe.$dup():K(R(y,1))?P(Ye,"inject",[Qe],function(p,Ve){return p==null&&(p=Ce),Ve==null&&(Ve=Ce),p.$merge(Ve)}):we(Qe,I(Qe,"merge",st,!1,!0),"merge",[Ye["$[]"](0)],null)},-1)},{$$s:g})):Ce},Opal.modules["asciidoctor/core_ext/match_data/names"]=function(e){"use strict";var H=e.truthy,P=e.klass,C=e.def,K=[],c=e.$r(K),R=e.nil;return e.add_stubs("method_defined?"),H(c("MatchData")["$method_defined?"]("names"))?R:function(we,I){var ue=P(we,I,"MatchData");return C(ue,"$names",function(){return[]})}(K[0],null)},Opal.modules["asciidoctor/core_ext"]=function(e){"use strict";var H=e.top,P=e.nil;return H.$require("asciidoctor/core_ext.rb/../core_ext/nil_or_empty"),H.$require("asciidoctor/core_ext.rb/../core_ext/hash/merge"),H.$require("asciidoctor/core_ext.rb/../core_ext/match_data/names")},Opal.modules["asciidoctor/helpers"]=function(e){"use strict";var H=e.module,P=e.truthy,C=e.eqeq,K=e.gvars,c=e.def,R=e.send,we=e.neqeq,I=e.const_set,ue=e.hash2,g=e.to_ary,Ke=e.rb_times,oe=e.eqeqeq,Ce=e.rb_plus,ge=e.Class,ve=e.Object,st=[],Ae=e.nil,et=e.$$$;return e.add_stubs("module_function,require,include?,include,==,path,message,raise,warn,logger,chomp,empty?,slice,unpack,[],[]=,byteslice,bytesize,map,rstrip,encode,encoding,nil_or_empty?,!=,tap,each_line,<<,!,start_with?,match?,gsub,rindex,index,basename,extname,length,directory?,dirname,mkdir_p,mkdir,private_constant,join,divmod,*,===,+,to_s,to_i,succ,class_for_name,const_get"),function(Ye,Ue){var Qe=H(Ye,"Asciidoctor"),y=[Qe].concat(Ue);return function(Je,p){var Ve=H(Je,"Helpers"),rt=[Ve].concat(p),z=e.$r(rt);return Ve.$module_function(),c(Ve,"$require_library",function(ke,ee,ce){var ie=this,j=Ae;K["!"]==null&&(K["!"]=Ae),ee==null&&(ee=!0),ce==null&&(ce="abort");try{return ie.$require(ke)}catch(Q){if(e.rescue(Q,[et("LoadError")]))try{if(P(ie["$include?"](z("Logging")))||ie.$include(z("Logging")),P(ee))switch(C(ee,!0)&&(ee=ke),ce){case"abort":j=C(K["!"].$path(),ee)?"":" (reason: "+(P(K["!"].$path())?"cannot load '"+K["!"].$path()+"'":K["!"].$message())+")",ie.$raise(et("LoadError"),"asciidoctor: FAILED: required gem '"+ee+"' is not available"+j+". Processing aborted.");break;case"warn":j=C(K["!"].$path(),ee)?"":" (reason: "+(P(K["!"].$path())?"cannot load '"+K["!"].$path()+"'":K["!"].$message())+")",ie.$logger().$warn("optional gem '"+ee+"' is not available"+j+". Functionality disabled.");break;default:}else switch(ce){case"abort":ie.$raise(et("LoadError"),"asciidoctor: FAILED: "+K["!"].$message().$chomp(".")+". Processing aborted.");break;case"warn":ie.$logger().$warn(""+K["!"].$message().$chomp(".")+". Functionality disabled.");break;default:}return Ae}finally{e.pop_exception()}else throw Q}},-2),c(Ve,"$prepare_source_array",function(ke,ee){var ce=Ae,ie=Ae,j=Ae;return ee==null&&(ee=!0),P(ke["$empty?"]())?[]:C(ce=(ie=(j=ke["$[]"](0)).$unpack("C3")).$slice(0,2),z("BOM_BYTES_UTF_16LE"))?(ke["$[]="](0,j.$byteslice(2,j.$bytesize())),P(ee)?R(ke,"map",[],function(T){return T==null&&(T=Ae),T.$encode(z("UTF_8"),et(et("Encoding"),"UTF_16LE")).$rstrip()}):R(ke,"map",[],function(T){return T==null&&(T=Ae),T.$encode(z("UTF_8"),et(et("Encoding"),"UTF_16LE")).$chomp()})):C(ce,z("BOM_BYTES_UTF_16BE"))?(ke["$[]="](0,j.$byteslice(2,j.$bytesize())),P(ee)?R(ke,"map",[],function(T){return T==null&&(T=Ae),T.$encode(z("UTF_8"),et(et("Encoding"),"UTF_16BE")).$rstrip()}):R(ke,"map",[],function(T){return T==null&&(T=Ae),T.$encode(z("UTF_8"),et(et("Encoding"),"UTF_16BE")).$chomp()})):(C(ie,z("BOM_BYTES_UTF_8"))&&ke["$[]="](0,j.$byteslice(3,j.$bytesize())),C(j.$encoding(),z("UTF_8"))?P(ee)?R(ke,"map",[],function(T){return T==null&&(T=Ae),T.$rstrip()}):R(ke,"map",[],function(T){return T==null&&(T=Ae),T.$chomp()}):P(ee)?R(ke,"map",[],function(T){return T==null&&(T=Ae),T.$encode(z("UTF_8")).$rstrip()}):R(ke,"map",[],function(T){return T==null&&(T=Ae),T.$encode(z("UTF_8")).$chomp()}))},-2),c(Ve,"$prepare_source_string",function(ke,ee){var ce=Ae,ie=Ae;return ee==null&&(ee=!0),P(ke["$nil_or_empty?"]())?[]:(C(ce=(ie=ke.$unpack("C3")).$slice(0,2),z("BOM_BYTES_UTF_16LE"))?ke=ke.$byteslice(2,ke.$bytesize()).$encode(z("UTF_8"),et(et("Encoding"),"UTF_16LE")):C(ce,z("BOM_BYTES_UTF_16BE"))?ke=ke.$byteslice(2,ke.$bytesize()).$encode(z("UTF_8"),et(et("Encoding"),"UTF_16BE")):C(ie,z("BOM_BYTES_UTF_8"))?(ke=ke.$byteslice(3,ke.$bytesize()),C(ke.$encoding(),z("UTF_8"))||(ke=ke.$encode(z("UTF_8")))):we(ke.$encoding(),z("UTF_8"))&&(ke=ke.$encode(z("UTF_8"))),P(ee)?R([],"tap",[],function(Q){return Q==null&&(Q=Ae),R(ke,"each_line",[],function(E){return E==null&&(E=Ae),Q["$<<"](E.$rstrip())})}):R([],"tap",[],function(Q){return Q==null&&(Q=Ae),R(ke,"each_line",[],function(E){return E==null&&(E=Ae),Q["$<<"](E.$chomp())})}))},-2),C(et("RUBY_ENGINE"),"jruby")?c(Ve,"$uriish?",function(ke){var ee=Ae,ce=Ae;return P(ee=P(ce=ke["$include?"](":"))?ke["$start_with?"]("uri:classloader:")["$!"]():ce)?z("UriSniffRx")["$match?"](ke):ee}):c(Ve,"$uriish?",function(ke){var ee=Ae;return P(ee=ke["$include?"](":"))?z("UriSniffRx")["$match?"](ke):ee}),c(Ve,"$encode_uri_component",function(ke){return encodeURIComponent(ke).replace(/%20|[!'()*]/g,function(ee){return ee==="%20"?"+":"%"+ee.charCodeAt(0).toString(16)})}),c(Ve,"$encode_spaces_in_uri",function(ke){return P(ke["$include?"](" "))?ke.$gsub(" ","%20"):ke}),c(Ve,"$rootname",function(ke){var ee=Ae;return P(ee=ke.$rindex("."))?P(ke.$index("/",ee))?ke:ke.$slice(0,ee):ke}),c(Ve,"$basename",function(ke,ee){var ce=this;return ee==null&&(ee=Ae),P(ee)?et("File").$basename(ke,C(ee,!0)?ce.$extname(ke):ee):et("File").$basename(ke)},-2),c(Ve,"$extname?",function(ke){var ee=Ae,ce=Ae;return P(ee=ce=ke.$rindex("."))?ke.$index("/",ce)["$!"]():ee}),P(et(et("File"),"ALT_SEPARATOR"))?c(Ve,"$extname",function(ke,ee){var ce=Ae;return ee==null&&(ee=""),P(ce=ke.$rindex("."))?P(ke.$index("/",ce))||P(ke.$index(et(et("File"),"ALT_SEPARATOR"),ce))?ee:ke.$slice(ce,ke.$length()):ee},-2):c(Ve,"$extname",function(ke,ee){var ce=Ae;return ee==null&&(ee=""),P(ce=ke.$rindex("."))?P(ke.$index("/",ce))?ee:ke.$slice(ce,ke.$length()):ee},-2),c(Ve,"$mkdir_p",function(ke){var ee=this,ce=Ae;if(P(et("File")["$directory?"](ke)))return Ae;C(ce=et("File").$dirname(ke),".")||ee.$mkdir_p(ce);try{return et("Dir").$mkdir(ke)}catch(ie){if(e.rescue(ie,[et("SystemCallError")]))try{return P(et("File")["$directory?"](ke))?Ae:ee.$raise()}finally{e.pop_exception()}else throw ie}}),I(rt[0],"ROMAN_NUMERALS",ue(["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],{M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1})),Ve.$private_constant("ROMAN_NUMERALS"),c(Ve,"$int_to_roman",function(ke){return R(z("ROMAN_NUMERALS"),"map",[],function(ce,ie){var j,Q,T=Ae;return ce==null&&(ce=Ae),ie==null&&(ie=Ae),Q=ke.$divmod(ie),j=g(Q),T=j[0]==null?Ae:j[0],ke=j[1]==null?Ae:j[1],Ke(ce,T)}).$join()}),c(Ve,"$nextval",function(ke){var ee=Ae;return oe(et("Integer"),ke)?Ce(ke,1):C((ee=ke.$to_i()).$to_s(),ke.$to_s())?Ce(ee,1):ke.$succ()}),c(Ve,"$resolve_class",function(ke){var ee=this;return oe(ge,ke)?ke:oe(et("String"),ke)?ee.$class_for_name(ke):Ae}),c(Ve,"$class_for_name",function(ke){var ee=this,ce=Ae;try{return oe(ge,ce=ve.$const_get(ke,!1))||ee.$raise(),ce}catch(ie){if(e.rescue(ie,[z("StandardError")]))try{return ee.$raise(et("NameError"),"Could not resolve class for name: "+ke)}finally{e.pop_exception()}else throw ie}})}(y[0],y)}(st[0],st)},Opal.modules.logger=function(e){"use strict";var H=e.klass,P=e.module,C=e.const_set,K=e.send,c=e.def,R=e.eqeqeq,we=e.rb_plus,I=e.truthy,ue=e.rb_le,g=e.rb_lt,Ke=[],oe=e.nil,Ce=e.$$$;return e.add_stubs("include,to_h,map,constants,const_get,to_s,format,chr,strftime,message_as_string,===,+,message,class,join,backtrace,inspect,attr_reader,attr_accessor,new,key,upcase,raise,add,to_proc,<=,<,write,call,[],now"),function(ge,ve,st){var Ae=H(ge,ve,"Logger"),et=[Ae].concat(st),Ye=e.$r(et),Ue=Ae.$$prototype;return Ue.level=Ue.progname=Ue.pipe=Ue.formatter=oe,function(Qe,y){var Je=P(Qe,"Severity"),p=[Je].concat(y);return C(p[0],"DEBUG",0),C(p[0],"INFO",1),C(p[0],"WARN",2),C(p[0],"ERROR",3),C(p[0],"FATAL",4),C(p[0],"UNKNOWN",5)}(et[0],et),Ae.$include(Ye("Severity")),C(et[0],"SEVERITY_LABELS",K(Ye("Severity").$constants(),"map",[],function(y){return y==null&&(y=oe),[Ye("Severity").$const_get(y),y.$to_s()]}).$to_h()),function(Qe,y,Je){var p=H(Qe,y,"Formatter"),Ve=[p].concat(Je),rt=e.$r(Ve);return C(Ve[0],"MESSAGE_FORMAT",`%s, [%s] %5s -- %s: %s
`),C(Ve[0],"DATE_TIME_FORMAT","%Y-%m-%dT%H:%M:%S.%6N"),c(p,"$call",function(x,ke,ee,ce){var ie=this;return ie.$format(rt("MESSAGE_FORMAT"),x.$chr(),ke.$strftime(rt("DATE_TIME_FORMAT")),x,ee,ie.$message_as_string(ce))}),c(p,"$message_as_string",function(x){var ke=oe,ee=oe;return R(Ce("String"),ke=x)?x:R(Ce("Exception"),ke)?we(""+x.$message()+" ("+x.$class()+`)
`,(I(ee=x.$backtrace())?ee:[]).$join(`
`)):x.$inspect()})}(et[0],null,et),Ae.$attr_reader("level"),Ae.$attr_accessor("progname"),Ae.$attr_accessor("formatter"),c(Ae,"$initialize",function(y){var Je=this;return Je.pipe=y,Je.level=Ye("DEBUG"),Je.formatter=Ye("Formatter").$new()}),c(Ae,"$level=",function(y){var Je=this,p=oe;return R(Ce("Integer"),y)?Je.level=y:I(p=Ye("SEVERITY_LABELS").$key(y.$to_s().$upcase()))?Je.level=p:Je.$raise(Ye("ArgumentError"),"invalid log level: "+y)}),c(Ae,"$info",function Qe(y){var Je=Qe.$$p||oe,p=this;return Qe.$$p=null,y==null&&(y=oe),K(p,"add",[Ye("INFO"),oe,y],Je.$to_proc())},-1),c(Ae,"$debug",function Qe(y){var Je=Qe.$$p||oe,p=this;return Qe.$$p=null,y==null&&(y=oe),K(p,"add",[Ye("DEBUG"),oe,y],Je.$to_proc())},-1),c(Ae,"$warn",function Qe(y){var Je=Qe.$$p||oe,p=this;return Qe.$$p=null,y==null&&(y=oe),K(p,"add",[Ye("WARN"),oe,y],Je.$to_proc())},-1),c(Ae,"$error",function Qe(y){var Je=Qe.$$p||oe,p=this;return Qe.$$p=null,y==null&&(y=oe),K(p,"add",[Ye("ERROR"),oe,y],Je.$to_proc())},-1),c(Ae,"$fatal",function Qe(y){var Je=Qe.$$p||oe,p=this;return Qe.$$p=null,y==null&&(y=oe),K(p,"add",[Ye("FATAL"),oe,y],Je.$to_proc())},-1),c(Ae,"$unknown",function Qe(y){var Je=Qe.$$p||oe,p=this;return Qe.$$p=null,y==null&&(y=oe),K(p,"add",[Ye("UNKNOWN"),oe,y],Je.$to_proc())},-1),c(Ae,"$info?",function(){var y=this;return ue(y.level,Ye("INFO"))}),c(Ae,"$debug?",function(){var y=this;return ue(y.level,Ye("DEBUG"))}),c(Ae,"$warn?",function(){var y=this;return ue(y.level,Ye("WARN"))}),c(Ae,"$error?",function(){var y=this;return ue(y.level,Ye("ERROR"))}),c(Ae,"$fatal?",function(){var y=this;return ue(y.level,Ye("FATAL"))}),c(Ae,"$add",function Qe(y,Je,p){var Ve=Qe.$$p||oe,rt=this,z=oe;return Qe.$$p=null,Je==null&&(Je=oe),p==null&&(p=oe),I(g(y=I(z=y)?z:Ye("UNKNOWN"),rt.level))||(p=I(z=p)?z:rt.progname,I(Je)||(Ve!==oe?Je=e.yieldX(Ve,[]):(Je=p,p=rt.progname)),rt.pipe.$write(rt.formatter.$call(I(z=Ye("SEVERITY_LABELS")["$[]"](y))?z:"ANY",Ce("Time").$now(),p,Je))),!0},-2)}(Ke[0],null,Ke)},Opal.modules["asciidoctor/logging"]=function(e){"use strict";var H=e.module,P=e.klass,C=e.slice,K=e.send2,c=e.find_super,R=e.to_a,we=e.send,I=e.def,ue=e.truthy,g=e.rb_gt,Ke=e.const_set,oe=e.hash2,Ce=e.eqeqeq,ge=e.gvars,ve=e.alias,st=e.defs,Ae=e.top,et=[],Ye=e.nil,Ue=e.$$$;return e.add_stubs("require,attr_reader,progname=,formatter=,new,level=,>,[],===,inspect,to_h,map,constants,const_get,<<,clear,empty?,max,attr_accessor,memoize_logger,private,logger,extend,private_class_method,merge"),Ae.$require("logger"),function(Qe,y){var Je=H(Qe,"Asciidoctor"),p=[Je].concat(y);return function(Ve,rt,z){var x=P(Ve,rt,"Logger"),ke=[x].concat(z),ee=e.$r(ke),ce=x.$$prototype;return ce.max_severity=Ye,x.$attr_reader("max_severity"),I(x,"$initialize",function ie(j){var Q,T,E,w=ie.$$p||Ye,U=this;return ie.$$p=null,Q=C(arguments),T=Q,K(U,c(U,"initialize",ie,!1,!0),"initialize",R(T),w),U["$progname="]("asciidoctor"),U["$formatter="](ee("BasicFormatter").$new()),E=[ee("WARN")],we(U,"level=",E),E[E.length-1]},-1),I(x,"$add",function ie(j,Q,T){var E=ie.$$p||Ye,w=this,U=Ye;return ie.$$p=null,Q==null&&(Q=Ye),T==null&&(T=Ye),ue(g(j=ue(U=j)?U:ee("UNKNOWN"),w.max_severity=ue(U=w.max_severity)?U:j))&&(w.max_severity=j),K(w,c(w,"add",ie,!1,!0),"add",[j,Q,T],E)},-2),function(ie,j,Q){var T=P(ie,j,"BasicFormatter"),E=[T].concat(Q),w=e.$r(E);return Ke(E[0],"SEVERITY_LABEL_SUBSTITUTES",oe(["WARN","FATAL"],{WARN:"WARNING",FATAL:"FAILED"})),I(T,"$call",function(L,Y,S,u){var t=Ye;return""+S+": "+(ue(t=w("SEVERITY_LABEL_SUBSTITUTES")["$[]"](L))?t:L)+": "+(Ce(Ue("String"),u)?u:u.$inspect())+w("LF")})}(ke[0],ee("Formatter"),ke),function(ie){var j=H(ie,"AutoFormattingMessage");return I(j,"$inspect",function(){var T=this,E=Ye;return ue(E=T["$[]"]("source_location"))?""+E+": "+T["$[]"]("text"):T["$[]"]("text")})}(ke[0])}(p[0],Ue("Logger"),p),function(Ve,rt,z){var x=P(Ve,rt,"MemoryLogger"),ke=[x].concat(z),ee=e.$r(ke),ce=x.$$prototype;return ce.messages=Ye,Ke(ke[0],"SEVERITY_SYMBOL_BY_VALUE",we(ee("Severity").$constants(!1),"map",[],function(j){return j==null&&(j=Ye),[ee("Severity").$const_get(j),j]}).$to_h()),x.$attr_reader("messages"),I(x,"$initialize",function(){var j=this;return j["$level="](ee("WARN")),j.messages=[]}),I(x,"$add",function ie(j,Q,T){var E=ie.$$p||Ye,w=this,U=Ye;return ie.$$p=null,Q==null&&(Q=Ye),T==null&&(T=Ye),Q=ue(U=Q)?U:E!==Ye?e.yieldX(E,[]):T,w.messages["$<<"](oe(["severity","message"],{severity:ee("SEVERITY_SYMBOL_BY_VALUE")["$[]"](ue(U=j)?U:ee("UNKNOWN")),message:Q})),!0},-2),I(x,"$clear",function(){var j=this;return j.messages.$clear()}),I(x,"$empty?",function(){var j=this;return j.messages["$empty?"]()}),I(x,"$max_severity",function(){var j=this;return ue(j["$empty?"]())?Ye:we(j.messages,"map",[],function(T){return T==null&&(T=Ye),ee("Severity").$const_get(T["$[]"]("severity"))}).$max()})}(p[0],Ue("Logger"),p),function(Ve,rt,z){var x=P(Ve,rt,"NullLogger"),ke=[x].concat(z),ee=e.$r(ke),ce=x.$$prototype;return ce.max_severity=Ye,x.$attr_reader("max_severity"),I(x,"$initialize",function(){var j,Q=this;return j=[ee("WARN")],we(Q,"level=",j),j[j.length-1]}),I(x,"$add",function(j,Q,T){var E=this,w=Ye;return Q==null&&(Q=Ye),T==null&&(T=Ye),ue(g(j=ue(w=j)?w:ee("UNKNOWN"),E.max_severity=ue(w=E.max_severity)?w:j))&&(E.max_severity=j),!0},-2)}(p[0],Ue("Logger"),p),function(Ve,rt){var z=H(Ve,"LoggerManager"),x=[z].concat(rt),ke=e.$r(x);return z.logger_class=ke("Logger"),function(ee,ce){var ie=[ee].concat(ce);return ee.$attr_accessor("logger_class"),I(ee,"$logger",function(Q){var T=this,E=Ye;return T.logger==null&&(T.logger=Ye),T.logger_class==null&&(T.logger_class=Ye),ge.stderr==null&&(ge.stderr=Ye),Q==null&&(Q=ge.stderr),T.$memoize_logger(),T.logger=ue(E=T.logger)?E:T.logger_class.$new(Q)},-1),I(ee,"$logger=",function(Q){var T=this,E=Ye;return T.logger_class==null&&(T.logger_class=Ye),ge.stderr==null&&(ge.stderr=Ye),T.logger=ue(E=Q)?E:T.logger_class.$new(ge.stderr)}),ee.$private(),I(ee,"$memoize_logger",function(){var Q=this;return function(T,E){return ve(T,"logger","logger"),T.$attr_reader("logger")}(e.get_singleton_class(Q),ie)})}(e.get_singleton_class(z),x)}(p[0],p),function(Ve,rt){var z=H(Ve,"Logging"),x=[z].concat(rt),ke=e.$r(x);return st(z,"$included",function(ce){return ce.$extend(ke("Logging"))}),z.$private_class_method("included"),I(z,"$logger",function(){return ke("LoggerManager").$logger()}),I(z,"$message_with_context",function(ce,ie){return ie==null&&(ie=oe([],{})),oe(["text"],{text:ce}).$merge(ie).$extend(Ue(ke("Logger"),"AutoFormattingMessage"))},-2)}(p[0],p)}(et[0],et)},Opal.modules["asciidoctor/rx"]=function(e){"use strict";var H=e.module,P=e.const_set,C=e.regexp,K=e.hash2,c=e.send,R=e.truthy,we=e.hash,I=[],ue=e.nil,g=e.$$$;return e.add_stubs("join,to_a,new,[]=,empty?,escape"),function(Ke,oe){var Ce=H(Ke,"Asciidoctor"),ge=[Ce].concat(oe),ve=e.$r(ge);return H(ge[0],"Rx"),P(ge[0],"AuthorInfoLineRx",C(["^(",ve("CG_WORD"),"[",ve("CC_WORD"),"\\-'.]*)(?: +(",ve("CG_WORD"),"[",ve("CC_WORD"),"\\-'.]*))?(?: +(",ve("CG_WORD"),"[",ve("CC_WORD"),"\\-'.]*))?(?: +<([^>]+)>)?$"])),P(ge[0],"AuthorDelimiterRx",/;(?: |$)/),P(ge[0],"RevisionInfoLineRx",C(["^(?:[^\\d{]*(",ve("CC_ANY"),"*?),)? *(?!:)(",ve("CC_ANY"),"*?)(?: *(?!^),?: *(",ve("CC_ANY"),"*))?$"])),P(ge[0],"ManpageTitleVolnumRx",C(["^(",ve("CC_ANY"),"+?) *\\( *(",ve("CC_ANY"),"+?) *\\)$"])),P(ge[0],"ManpageNamePurposeRx",C(["^(",ve("CC_ANY"),"+?) +- +(",ve("CC_ANY"),"+)$"])),P(ge[0],"ConditionalDirectiveRx",C(["^(\\\\)?(ifdef|ifndef|ifeval|endif)::(\\S*?(?:([,+])\\S*?)?)\\[(",ve("CC_ANY"),"+)?\\]$"])),P(ge[0],"EvalExpressionRx",C(["^(",ve("CC_ANY"),"+?) *([=!><]=|[><]) *(",ve("CC_ANY"),"+)$"])),P(ge[0],"IncludeDirectiveRx",C(["^(\\\\)?include::([^\\s\\[](?:[^\\[]*[^\\s\\[])?)\\[(",ve("CC_ANY"),"+)?\\]$"])),P(ge[0],"TagDirectiveRx",/\b(?:tag|(e)nd)::(\S+?)\[\](?=$|[ \r])/m),P(ge[0],"AttributeEntryRx",C(["^:(!?",ve("CG_WORD"),"[^:]*):(?:[ \\t]+(",ve("CC_ANY"),"*))?$"])),P(ge[0],"InvalidAttributeNameCharsRx",C(["[^",ve("CC_WORD"),"-]"])),P(ge[0],"AttributeEntryPassMacroRx",C(["^pass:([a-z]+(?:,[a-z-]+)*)?\\[(",ve("CC_ALL"),"*)\\]$"])),P(ge[0],"AttributeReferenceRx",C(["(\\\\)?\\{(",ve("CG_WORD"),"[",ve("CC_WORD"),"-]*|(set|counter2?):",ve("CC_ANY"),"+?)(\\\\)?\\}"])),P(ge[0],"BlockAnchorRx",C(["^\\[\\[(?:|([",ve("CC_ALPHA"),"_:][",ve("CC_WORD"),"\\-:.]*)(?:, *(",ve("CC_ANY"),"+))?)\\]\\]$"])),P(ge[0],"BlockAttributeListRx",C(["^\\[(|[",ve("CC_WORD"),`.#%{,"']`,ve("CC_ANY"),"*)\\]$"])),P(ge[0],"BlockAttributeLineRx",C(["^\\[(?:|[",ve("CC_WORD"),`.#%{,"']`,ve("CC_ANY"),"*|\\[(?:|[",ve("CC_ALPHA"),"_:][",ve("CC_WORD"),"\\-:.]*(?:, *",ve("CC_ANY"),"+)?)\\])\\]$"])),P(ge[0],"BlockTitleRx",C(["^\\.(\\.?[^ \\t.]",ve("CC_ANY"),"*)$"])),P(ge[0],"AdmonitionParagraphRx",C(["^(",ve("ADMONITION_STYLES").$to_a().$join("|"),"):[ \\t]+"])),P(ge[0],"LiteralParagraphRx",C(["^([ \\t]+",ve("CC_ANY"),"*)$"])),P(ge[0],"AtxSectionTitleRx",C(["^(=={0,5})[ \\t]+(",ve("CC_ANY"),"+?)(?:[ \\t]+\\1)?$"])),P(ge[0],"ExtAtxSectionTitleRx",C(["^(=={0,5}|#\\#{0,5})[ \\t]+(",ve("CC_ANY"),"+?)(?:[ \\t]+\\1)?$"])),P(ge[0],"SetextSectionTitleRx",C(["^((?!\\.)",ve("CC_ANY"),"*?",ve("CG_ALNUM"),ve("CC_ANY"),"*)$"])),P(ge[0],"InlineSectionAnchorRx",C([" (\\\\)?\\[\\[([",ve("CC_ALPHA"),"_:][",ve("CC_WORD"),"\\-:.]*)(?:, *(",ve("CC_ANY"),"+))?\\]\\]$"])),P(ge[0],"InvalidSectionIdCharsRx",C(["<[^>]+>|&(?:[a-z][a-z]+\\d{0,2}|#\\d\\d\\d{0,4}|#x[\\da-f][\\da-f][\\da-f]{0,3});|[^ ",ve("CC_WORD"),"\\-.]+?"])),P(ge[0],"SectionLevelStyleRx",/^sect\d$/),P(ge[0],"AnyListRx",C(["^(?:[ \\t]*(?:-|\\*\\**|\\.\\.*|\\u2022|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]|(?!//[^/])[ \\t]*[^ \\t]",ve("CC_ANY"),"*?(?::::{0,2}|;;)(?:$|[ \\t])|<(?:\\d+|\\.)>[ \\t])"])),P(ge[0],"UnorderedListRx",C(["^[ \\t]*(-|\\*\\**|\\u2022)[ \\t]+(",ve("CC_ANY"),"*)$"])),P(ge[0],"OrderedListRx",C(["^[ \\t]*(\\.\\.*|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]+(",ve("CC_ANY"),"*)$"])),P(ge[0],"OrderedListMarkerRxMap",K(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+\./,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/})),P(ge[0],"DescriptionListRx",C(["^(?!//[^/])[ \\t]*([^ \\t]",ve("CC_ANY"),"*?)(:::{0,2}|;;)(?:$|[ \\t]+(",ve("CC_ANY"),"*)$)"])),P(ge[0],"DescriptionListSiblingRx",K(["::",":::","::::",";;"],{"::":C(["^(?!//[^/])[ \\t]*([^ \\t]",ve("CC_ANY"),"*?[^:]|[^ \\t:])(::)(?:$|[ \\t]+(",ve("CC_ANY"),"*)$)"]),":::":C(["^(?!//[^/])[ \\t]*([^ \\t]",ve("CC_ANY"),"*?[^:]|[^ \\t:])(:::)(?:$|[ \\t]+(",ve("CC_ANY"),"*)$)"]),"::::":C(["^(?!//[^/])[ \\t]*([^ \\t]",ve("CC_ANY"),"*?[^:]|[^ \\t:])(::::)(?:$|[ \\t]+(",ve("CC_ANY"),"*)$)"]),";;":C(["^(?!//[^/])[ \\t]*([^ \\t]",ve("CC_ANY"),"*?)(;;)(?:$|[ \\t]+(",ve("CC_ANY"),"*)$)"])})),P(ge[0],"CalloutListRx",C(["^<(\\d+|\\.)>[ \\t]+(",ve("CC_ANY"),"*)$"])),P(ge[0],"CalloutExtractRx",/((?:\/\/|#|--|;;) ?)?(\\)?<!?(|--)(\d+|\.)\3>(?=(?: ?\\?<!?\3(?:\d+|\.)\3>)*$)/),P(ge[0],"CalloutExtractRxt","(\\\\)?<()(\\d+|\\.)>(?=(?: ?\\\\?<(?:\\d+|\\.)>)*$)"),P(ge[0],"CalloutExtractRxMap",c(g("Hash"),"new",[],function(Ae,et){var Ye;return Ae==null&&(Ae=ue),et==null&&(et=ue),Ye=[et,C(["(",R(et["$empty?"]())?"":""+g("Regexp").$escape(et)+" ?",")?",ve("CalloutExtractRxt")])],c(Ae,"[]=",Ye),Ye[Ye.length-1]})),P(ge[0],"CalloutScanRx",C(["\\\\?<!?(|--)(\\d+|\\.)\\1>(?=(?: ?\\\\?<!?\\1(?:\\d+|\\.)\\1>)*",ve("CC_EOL"),")"])),P(ge[0],"CalloutSourceRx",C(["((?://|#|--|;;) ?)?(\\\\)?&lt;!?(|--)(\\d+|\\.)\\3&gt;(?=(?: ?\\\\?&lt;!?\\3(?:\\d+|\\.)\\3&gt;)*",ve("CC_EOL"),")"])),P(ge[0],"CalloutSourceRxt","(\\\\)?&lt;()(\\d+|\\.)&gt;(?=(?: ?\\\\?&lt;(?:\\d+|\\.)&gt;)*"+ve("CC_EOL")+")"),P(ge[0],"CalloutSourceRxMap",c(g("Hash"),"new",[],function(Ae,et){var Ye;return Ae==null&&(Ae=ue),et==null&&(et=ue),Ye=[et,C(["(",R(et["$empty?"]())?"":""+g("Regexp").$escape(et)+" ?",")?",ve("CalloutSourceRxt")])],c(Ae,"[]=",Ye),Ye[Ye.length-1]})),P(ge[0],"ListRxMap",K(["ulist","olist","dlist","colist"],{ulist:ve("UnorderedListRx"),olist:ve("OrderedListRx"),dlist:ve("DescriptionListRx"),colist:ve("CalloutListRx")})),P(ge[0],"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?|~)?([a-z])?$/),P(ge[0],"CellSpecStartRx",/^[ \t]*(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),P(ge[0],"CellSpecEndRx",/[ \t]+(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),P(ge[0],"CustomBlockMacroRx",C(["^(",ve("CG_WORD"),"[",ve("CC_WORD"),"-]*)::(|\\S|\\S",ve("CC_ANY"),"*?\\S)\\[(",ve("CC_ANY"),"+)?\\]$"])),P(ge[0],"BlockMediaMacroRx",C(["^(image|video|audio)::(\\S|\\S",ve("CC_ANY"),"*?\\S)\\[(",ve("CC_ANY"),"+)?\\]$"])),P(ge[0],"BlockTocMacroRx",C(["^toc::\\[(",ve("CC_ANY"),"+)?\\]$"])),P(ge[0],"InlineAnchorRx",C(["(\\\\)?(?:\\[\\[([",ve("CC_ALPHA"),"_:][",ve("CC_WORD"),"\\-:.]*)(?:, *(",ve("CC_ANY"),"+?))?\\]\\]|anchor:([",ve("CC_ALPHA"),"_:][",ve("CC_WORD"),"\\-:.]*)\\[(?:\\]|(",ve("CC_ANY"),"*?[^\\\\])\\]))"])),P(ge[0],"InlineAnchorScanRx",C(["(?:^|[^\\\\\\[])\\[\\[([",ve("CC_ALPHA"),"_:][",ve("CC_WORD"),"\\-:.]*)(?:, *(",ve("CC_ANY"),"+?))?\\]\\]|(?:^|[^\\\\])anchor:([",ve("CC_ALPHA"),"_:][",ve("CC_WORD"),"\\-:.]*)\\[(?:\\]|(",ve("CC_ANY"),"*?[^\\\\])\\])"])),P(ge[0],"LeadingInlineAnchorRx",C(["^\\[\\[([",ve("CC_ALPHA"),"_:][",ve("CC_WORD"),"\\-:.]*)(?:, *(",ve("CC_ANY"),"+?))?\\]\\]"])),P(ge[0],"InlineBiblioAnchorRx",C(["^\\[\\[\\[([",ve("CC_ALPHA"),"_:][",ve("CC_WORD"),"\\-:.]*)(?:, *(",ve("CC_ANY"),"+?))?\\]\\]\\]"])),P(ge[0],"InlineEmailRx",C(["([\\\\>:/])?",ve("CG_WORD"),"(?:&amp;|[",ve("CC_WORD"),"\\-.%+])*@",ve("CG_ALNUM"),"[",ve("CC_ALNUM"),"_\\-.]*\\.[a-zA-Z]{2,5}\\b"])),P(ge[0],"InlineFootnoteMacroRx",C(["\\\\?footnote(?:(ref):|:([",ve("CC_WORD"),"-]+)?)\\[(?:|(",ve("CC_ALL"),"*?[^\\\\]))\\](?!</a>)"],"m")),P(ge[0],"InlineImageMacroRx",C(["\\\\?i(?:mage|con):([^:\\s\\[](?:[^\\n\\[]*[^\\s\\[])?)\\[(|",ve("CC_ALL"),"*?[^\\\\])\\]"],"m")),P(ge[0],"InlineIndextermMacroRx",C(["\\\\?(?:(indexterm2?):\\[(",ve("CC_ALL"),"*?[^\\\\])\\]|\\(\\((",ve("CC_ALL"),"+?)\\)\\)(?!\\)))"],"m")),P(ge[0],"InlineKbdBtnMacroRx",C(["(\\\\)?(kbd|btn):\\[(",ve("CC_ALL"),"*?[^\\\\])\\]"],"m")),P(ge[0],"InlineLinkRx",C(["(^|link:|",ve("CG_BLANK"),`|&lt;|[>\\(\\)\\[\\];"'])(\\\\?(?:https?|file|ftp|irc)://)(?:([^\\s\\[\\]]+)\\[(|`,ve("CC_ALL"),"*?[^\\\\])\\]|([^\\s\\[\\]<]*([^\\s,.?!\\[\\]<\\)])))"],"m")),P(ge[0],"InlineLinkMacroRx",C(["\\\\?(?:link|(mailto)):(|[^:\\s\\[][^\\s\\[]*)\\[(|",ve("CC_ALL"),"*?[^\\\\])\\]"],"m")),P(ge[0],"MacroNameRx",C(["^",ve("CG_WORD"),"[",ve("CC_WORD"),"-]*$"])),P(ge[0],"InlineStemMacroRx",C(["\\\\?(stem|(?:latex|ascii)math):([a-z]+(?:,[a-z-]+)*)?\\[(",ve("CC_ALL"),"*?[^\\\\])\\]"],"m")),P(ge[0],"InlineMenuMacroRx",C(["\\\\?menu:(",ve("CG_WORD"),"|[",ve("CC_WORD"),"&][^\\n\\[]*[^\\s\\[])\\[ *(?:|(",ve("CC_ALL"),"*?[^\\\\]))\\]"],"m")),P(ge[0],"InlineMenuRx",C(['\\\\?"([',ve("CC_WORD"),'&][^"]*?[ \\n]+&gt;[ \\n]+[^"]*)"'])),P(ge[0],"InlinePassRx",we(!1,["+","-]",C(["((?:^|[^",ve("CC_WORD"),";:\\\\])(?=(\\[)|\\+)|\\\\(?=\\[)|(?=\\\\\\+))(?:\\2(x-|[^\\]]+ x-)\\]|(?:\\[([^\\]]+)\\])?(?=(\\\\)?\\+))(\\5?(\\+|`)(\\S|\\S",ve("CC_ALL"),"*?\\S)\\7)(?!",ve("CG_WORD"),")"],"m")],!0,["`",ue,C(["(^|[^`",ve("CC_WORD"),"])(?:(\\Z)()|\\[([^\\]]+)\\](?=(\\\\))?)?(\\5?(`)([^`\\s]|[^`\\s]",ve("CC_ALL"),"*?\\S)\\7)(?![`",ve("CC_WORD"),"])"],"m")])),P(ge[0],"InlinePassMacroRx",C(["(?:(?:(\\\\?)\\[([^\\]]+)\\])?(\\\\{0,2})(\\+\\+\\+?|\\$\\$)(",ve("CC_ALL"),"*?)\\4|(\\\\?)pass:([a-z]+(?:,[a-z-]+)*)?\\[(|",ve("CC_ALL"),"*?[^\\\\])\\])"],"m")),P(ge[0],"InlineXrefMacroRx",C(["\\\\?(?:&lt;&lt;([",ve("CC_WORD"),"#/.:{]",ve("CC_ALL"),"*?)&gt;&gt;|xref:([",ve("CC_WORD"),"#/.:{]",ve("CC_ALL"),"*?)\\[(?:\\]|(",ve("CC_ALL"),"*?[^\\\\])\\]))"],"m")),P(ge[0],"HardLineBreakRx",C(["^(",ve("CC_ANY"),"*) \\+$"],"m")),P(ge[0],"MarkdownThematicBreakRx",/^ {0,3}([-*_])( *)\1\2\1$/),P(ge[0],"ExtLayoutBreakRx",/^(?:'{3,}|<{3,}|([-*_])( *)\1\2\1)$/),P(ge[0],"BlankLineRx",/\n{2,}/),P(ge[0],"EscapedSpaceRx",/\\([ \t\n])/),P(ge[0],"ReplaceableTextRx",/[&']|--|\.\.\.|\([CRT]M?\)/),P(ge[0],"SpaceDelimiterRx",/([^\\])[ \t\n]+/),P(ge[0],"SubModifierSniffRx",/[+-]/),P(ge[0],"TrailingDigitsRx",/\d+$/),P(ge[0],"UriSniffRx",C(["^",ve("CG_ALPHA"),"[",ve("CC_ALNUM"),".+-]+:/{0,2}"])),P(ge[0],"XmlSanitizeRx",/<[^>]+>/)}(I[0],I)},Opal.modules["asciidoctor/substitutors"]=function(e){"use strict";var H=e.module,P=e.const_set,C=e.hash2,K=e.hash,c=e.rb_plus,R=e.regexp,we=e.not,I=e.truthy,ue=e.send,g=e.def,Ke=e.alias,oe=e.gvars,Ce=e.eqeq,ge=e.to_ary,ve=e.neqeq,st=e.to_a,Ae=e.eqeqeq,et=e.rb_gt,Ye=e.slice,Ue=e.rb_minus,Qe=e.rb_lt,y=e.rb_times,Je=[],p=e.nil,Ve=e.$$$;return e.add_stubs("freeze,+,keys,!,empty?,===,[],join,include?,extract_passthroughs,each,sub_specialchars,sub_quotes,sub_attributes,sub_replacements,sub_macros,highlight_source,sub_callouts,sub_post_replacements,warn,logger,restore_passthroughs,clear,split,apply_subs,gsub,match?,compat_mode,convert_quoted_text,attributes,==,shift,store_attribute,!=,attribute_undefined,counter,key?,downcase,attribute_missing,info,squeeze,delete,reject,start_with?,do_replacement,inline_macros?,extensions,inline_macros,regexp,instance,slice,length,names,config,merge,[]=,normalize_text,parse_attributes,process_method,expand_subs,text=,text,convert,class,strip,index,min,compact,>,end_with?,map,chop,new,pop,rstrip,register,tr,basename,parse,lstrip,split_simple_csv,-,partition,extract_attributes_from_text,sub,encode_uri_component,style,extname?,rindex,catalog,info?,fetch,outfilesuffix,natural_xrefs,resolve_id,find,footnotes,id,<,size,<<,attr?,attr,to_s,read_next_id,callouts,highlight?,syntax_highlighter,sub_source,extract_callouts,name,to_i,to_sym,resolve_lines_to_highlight,highlight,nil_or_empty?,restore_callouts,count,to_a,|,sort,*,parse_quoted_text_attributes,resolve_pass_subs,basebackend?,error,chr,drop,&,resolve_subs,resolve_block_subs,parse_into,private,shorthand_property_syntax,each_char"),function(rt,z){var x=H(rt,"Asciidoctor"),ke=[x].concat(z);return function(ee,ce){var ie=H(ee,"Substitutors"),j=[ie].concat(ce),Q=e.$r(j);return P(j[0],"SpecialCharsRx",/[<&>]/),P(j[0],"SpecialCharsTr",C([">","<","&"],{">":"&gt;","<":"&lt;","&":"&amp;"})),P(j[0],"QuotedTextSniffRx",K(!1,/[*_`#^~]/,!0,/[*'_+#^~]/)),P(j[0],"BASIC_SUBS",["specialcharacters"]).$freeze(),P(j[0],"HEADER_SUBS",["specialcharacters","attributes"]).$freeze(),P(j[0],"NO_SUBS",[]).$freeze(),P(j[0],"NORMAL_SUBS",["specialcharacters","quotes","attributes","replacements","macros","post_replacements"]).$freeze(),P(j[0],"REFTEXT_SUBS",["specialcharacters","quotes","replacements"]).$freeze(),P(j[0],"VERBATIM_SUBS",["specialcharacters","callouts"]).$freeze(),P(j[0],"SUB_GROUPS",C(["none","normal","verbatim","specialchars"],{none:Q("NO_SUBS"),normal:Q("NORMAL_SUBS"),verbatim:Q("VERBATIM_SUBS"),specialchars:Q("BASIC_SUBS")})),P(j[0],"SUB_HINTS",C(["a","m","n","p","q","r","c","v"],{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"})),P(j[0],"SUB_OPTIONS",C(["block","inline"],{block:c(c(Q("SUB_GROUPS").$keys(),Q("NORMAL_SUBS")),["callouts"]),inline:c(Q("SUB_GROUPS").$keys(),Q("NORMAL_SUBS"))})),P(j[0],"CAN",""),P(j[0],"DEL","\x7F"),P(j[0],"PASS_START","\x96"),P(j[0],"PASS_END","\x97"),P(j[0],"PassSlotRx",R([Q("PASS_START"),"(\\d+)",Q("PASS_END")])),P(j[0],"HighlightedPassSlotRx",R(["<span\\b[^>]*>",Q("PASS_START"),"</span>[^\\d]*(\\d+)[^\\d]*<span\\b[^>]*>",Q("PASS_END"),"</span>"])),P(j[0],"RS","\\"),P(j[0],"R_SB","]"),P(j[0],"ESC_R_SB","\\]"),P(j[0],"PLUS","+"),g(ie,"$apply_subs",function(E,w){var U=this,L=p,Y=p,S=p,u=p;return U.passthroughs==null&&(U.passthroughs=p),U.passthroughs_locked==null&&(U.passthroughs_locked=p),w==null&&(w=Q("NORMAL_SUBS")),I(E["$empty?"]())||we(w)?E:(I(L=Ve("Array")["$==="](E))&&(E=I(E["$[]"](1))?E.$join(Q("LF")):E["$[]"](0)),I(w["$include?"]("macros"))&&(E=U.$extract_passthroughs(E),I(U.passthroughs["$empty?"]())||(Y=U.passthroughs,U.passthroughs_locked=I(S=U.passthroughs_locked)?S:u=!0)),ue(w,"each",[],function t(a){var v=t.$$s==null?this:t.$$s;switch(a==null&&(a=p),a){case"specialcharacters":return E=v.$sub_specialchars(E);case"quotes":return E=v.$sub_quotes(E);case"attributes":return I(E["$include?"](Q("ATTR_REF_HEAD")))?E=v.$sub_attributes(E):p;case"replacements":return E=v.$sub_replacements(E);case"macros":return E=v.$sub_macros(E);case"highlight":return E=v.$highlight_source(E,w["$include?"]("callouts"));case"callouts":return I(w["$include?"]("highlight"))?p:E=v.$sub_callouts(E);case"post_replacements":return E=v.$sub_post_replacements(E);default:return v.$logger().$warn("unknown substitution type "+a)}},{$$s:U}),I(Y)&&(E=U.$restore_passthroughs(E),I(u)&&(Y.$clear(),U.passthroughs_locked=p)),I(L)?E.$split(Q("LF"),-1):E)},-2),g(ie,"$apply_normal_subs",function(E){var w=this;return w.$apply_subs(E,Q("NORMAL_SUBS"))}),g(ie,"$apply_header_subs",function(E){var w=this;return w.$apply_subs(E,Q("HEADER_SUBS"))}),Ke(ie,"apply_title_subs","apply_subs"),g(ie,"$apply_reftext_subs",function(E){var w=this;return w.$apply_subs(E,Q("REFTEXT_SUBS"))}),g(ie,"$sub_specialchars",function(E){return I(E["$include?"](">"))||I(E["$include?"]("&"))||I(E["$include?"]("<"))?E.$gsub(Q("SpecialCharsRx"),Q("SpecialCharsTr")):E}),Ke(ie,"sub_specialcharacters","sub_specialchars"),g(ie,"$sub_quotes",function(E){var w=this,U=p;return w.document==null&&(w.document=p),I(Q("QuotedTextSniffRx")["$[]"](U=w.document.$compat_mode())["$match?"](E))&&ue(Q("QUOTE_SUBS")["$[]"](U),"each",[],function L(Y,S,u){var t=L.$$s==null?this:L.$$s;return Y==null&&(Y=p),S==null&&(S=p),u==null&&(u=p),E=ue(E,"gsub",[u],function a(){var v=a.$$s==null?this:a.$$s;return oe["~"]==null&&(oe["~"]=p),v.$convert_quoted_text(oe["~"],Y,S)},{$$s:t})},{$$s:w}),E}),g(ie,"$sub_attributes",function(E,w){var U=this,L=p,Y=p,S=p,u=p,t=p,a=p,v=p,_=p;return U.document==null&&(U.document=p),w==null&&(w=C([],{})),L=U.document.$attributes(),Y=S=u=t=a=v=p,E=ue(E,"gsub",[Q("AttributeReferenceRx")],function l(){var F,A,M=l.$$s==null?this:l.$$s,W=p,ne=p,O=p,He=p,Xe=p,it=p,nt=p;if(M.document==null&&(M.document=p),Ce((F=oe["~"])===p?p:F["$[]"](1),Q("RS"))||Ce((F=oe["~"])===p?p:F["$[]"](4),Q("RS")))return"{"+((F=oe["~"])===p?p:F["$[]"](2))+"}";if(I((F=oe["~"])===p?p:F["$[]"](3)))switch((W=((F=oe["~"])===p?p:F["$[]"](2)).$split(":",3)).$shift()){case"set":return A=Q("Parser").$store_attribute(W["$[]"](0),I(ne=W["$[]"](1))?ne:"",M.document),F=ge(A),O=F[0]==null?p:F[0],He=F[1]==null?p:F[1],I(He)||ve(a=I(ne=a)?ne:I(Xe=L["$[]"]("attribute-undefined"))?Xe:Q("Compliance").$attribute_undefined(),"drop-line")?Y=t=Q("DEL"):Y=S=Q("CAN");case"counter2":return ue(M.document,"counter",st(W)),Y=t=Q("DEL");default:return ue(M.document,"counter",st(W))}else{if(I(L["$key?"](it=((F=oe["~"])===p?p:F["$[]"](2)).$downcase())))return L["$[]"](it);if(I(He=Q("INTRINSIC_ATTRIBUTES")["$[]"](it)))return He;switch(v=I(ne=v)?ne:I(Xe=I(nt=w["$[]"]("attribute_missing"))?nt:L["$[]"]("attribute-missing"))?Xe:Q("Compliance").$attribute_missing()){case"drop":return Y=t=Q("DEL");case"drop-line":return Ce(u=I(ne=u)?ne:I(Xe=w["$[]"]("drop_line_severity"))?Xe:"info","info")&&ue(M.$logger(),"info",[],function(){return"dropping line containing reference to missing attribute: "+it}),Y=S=Q("CAN");case"warn":return M.$logger().$warn("skipping reference to missing attribute: "+it),(F=oe["~"])===p?p:F["$[]"](0);default:return(F=oe["~"])===p?p:F["$[]"](0)}}},{$$s:U}),I(Y)?I(t)?(_=E.$squeeze(Q("DEL")).$split(Q("LF"),-1),I(S)?ue(_,"reject",[],function(F){var A=p,M=p,W=p;return F==null&&(F=p),I(A=I(M=I(W=F["$=="](Q("DEL")))?W:F["$=="](Q("CAN")))?M:F["$start_with?"](Q("CAN")))?A:F["$include?"](Q("CAN"))}).$join(Q("LF")).$delete(Q("DEL")):ue(_,"reject",[],function(F){return F==null&&(F=p),F["$=="](Q("DEL"))}).$join(Q("LF")).$delete(Q("DEL"))):I(E["$include?"](Q("LF")))?ue(E.$split(Q("LF"),-1),"reject",[],function(F){var A=p,M=p;return F==null&&(F=p),I(A=I(M=F["$=="](Q("CAN")))?M:F["$start_with?"](Q("CAN")))?A:F["$include?"](Q("CAN"))}).$join(Q("LF")):"":E},-2),g(ie,"$sub_replacements",function(E){var w=this;return I(Q("ReplaceableTextRx")["$match?"](E))&&ue(Q("REPLACEMENTS"),"each",[],function U(L,Y,S){var u=U.$$s==null?this:U.$$s;return L==null&&(L=p),Y==null&&(Y=p),S==null&&(S=p),E=ue(E,"gsub",[L],function t(){var a=t.$$s==null?this:t.$$s;return oe["~"]==null&&(oe["~"]=p),a.$do_replacement(oe["~"],Y,S)},{$$s:u})},{$$s:w}),E}),g(ie,"$sub_macros",function(E){var w=this,U=p,L=p,Y=p,S=p,u=p,t=p,a=p,v=p;return w.document==null&&(w.document=p),w.parent==null&&(w.parent=p),w.context==null&&(w.context=p),U=E["$include?"]("["),L=E["$include?"](":"),Y=I(S=U)?L:S,u=I(S=Y)?E["$include?"](":["):S,t=(a=w.document).$attributes(),I(v=a.$extensions())&&I(v["$inline_macros?"]())&&ue(v.$inline_macros(),"each",[],function _(l){var F=_.$$s==null?this:_.$$s;return l==null&&(l=p),E=ue(E,"gsub",[l.$instance().$regexp()],function A(){var M,W,ne=A.$$s==null?this:A.$$s,O=p,He=p,Xe=p,it=p,nt=p,at=p,ct=p,ut=p,_t=p;return oe["~"]==null&&(oe["~"]=p),I((O=(M=oe["~"])===p?p:M["$[]"](0))["$start_with?"](Q("RS")))?((M=oe["~"])===p?p:M["$[]"](0)).$slice(1,((M=oe["~"])===p?p:M["$[]"](0)).$length()):(I(oe["~"].$names()["$empty?"]())?(M=[(W=oe["~"])===p?p:W["$[]"](1),(W=oe["~"])===p?p:W["$[]"](2)],He=M[0],Xe=M[1]):(M=[function(){try{return oe["~"]["$[]"]("target")}catch(ft){if(e.rescue(ft,[Q("StandardError")]))try{return p}finally{e.pop_exception()}else throw ft}}(),function(){try{return oe["~"]["$[]"]("content")}catch(ft){if(e.rescue(ft,[Q("StandardError")]))try{return p}finally{e.pop_exception()}else throw ft}}()],He=M[0],Xe=M[1]),it=I(nt=(at=l.$config())["$[]"]("default_attrs"))?nt.$merge():C([],{}),I(Xe)&&(I(Xe["$empty?"]())?Ce(at["$[]"]("content_model"),"attributes")||it["$[]="]("text",Xe):(Xe=ne.$normalize_text(Xe,!0,!0),Ce(at["$[]"]("content_model"),"attributes")?ne.$parse_attributes(Xe,I(S=I(ct=at["$[]"]("positional_attrs"))?ct:at["$[]"]("pos_attrs"))?S:[],C(["into"],{into:it})):it["$[]="]("text",Xe)),He=I(S=He)?S:Ce(at["$[]"]("format"),"short")?Xe:He),Ae(Q("Inline"),ut=l.$process_method()["$[]"](ne,He,it))?(I(_t=ut.$attributes().$delete("subs"))&&I(_t=ne.$expand_subs(_t,"custom inline macro"))&&ut["$text="](ne.$apply_subs(ut.$text(),_t)),ut.$convert()):I(ut)?(ue(ne.$logger(),"info",[],function(){return"expected substitution value for custom inline macro to be of type Inline; got "+ut.$class()+": "+O}),ut):"")},{$$s:F})},{$$s:w}),I(t["$key?"]("experimental"))&&(I(u)&&(I(E["$include?"]("kbd:"))||I(E["$include?"]("btn:")))&&(E=ue(E,"gsub",[Q("InlineKbdBtnMacroRx")],function _(){var l,F=_.$$s==null?this:_.$$s,A=p,M=p,W=p;return I((l=oe["~"])===p?p:l["$[]"](1))?((l=oe["~"])===p?p:l["$[]"](0)).$slice(1,((l=oe["~"])===p?p:l["$[]"](0)).$length()):Ce((l=oe["~"])===p?p:l["$[]"](2),"kbd")?(I((A=((l=oe["~"])===p?p:l["$[]"](3)).$strip())["$include?"](Q("R_SB")))&&(A=A.$gsub(Q("ESC_R_SB"),Q("R_SB"))),I(et(A.$length(),1))&&I(M=I(M=A.$index(",",1))?[M,A.$index("+",1)].$compact().$min():A.$index("+",1))?(W=A.$slice(M,1),I(A["$end_with?"](W))?(A=ue(A.$chop().$split(W,-1),"map",[],function(O){return O==null&&(O=p),O.$strip()}),A["$[]="](-1,c(A["$[]"](-1),W))):A=ue(A.$split(W),"map",[],function(O){return O==null&&(O=p),O.$strip()})):A=[A],Q("Inline").$new(F,"kbd",p,C(["attributes"],{attributes:C(["keys"],{keys:A})})).$convert()):Q("Inline").$new(F,"button",F.$normalize_text((l=oe["~"])===p?p:l["$[]"](3),!0,!0)).$convert()},{$$s:w})),I(Y)&&I(E["$include?"]("menu:"))&&(E=ue(E,"gsub",[Q("InlineMenuMacroRx")],function _(){var l,F=_.$$s==null?this:_.$$s,A=p,M=p,W=p,ne=p,O=p;return I(((l=oe["~"])===p?p:l["$[]"](0))["$start_with?"](Q("RS")))?((l=oe["~"])===p?p:l["$[]"](0)).$slice(1,((l=oe["~"])===p?p:l["$[]"](0)).$length()):(A=(l=oe["~"])===p?p:l["$[]"](1),I(M=(l=oe["~"])===p?p:l["$[]"](2))?(I(M["$include?"](Q("R_SB")))&&(M=M.$gsub(Q("ESC_R_SB"),Q("R_SB"))),I(W=I(M["$include?"]("&gt;"))?"&gt;":I(M["$include?"](","))?",":p)?(ne=ue(M.$split(W),"map",[],function(Xe){return Xe==null&&(Xe=p),Xe.$strip()}),O=ne.$pop()):(l=[[],M.$rstrip()],ne=l[0],O=l[1])):(l=[[],p],ne=l[0],O=l[1]),Q("Inline").$new(F,"menu",p,C(["attributes"],{attributes:C(["menu","submenus","menuitem"],{menu:A,submenus:ne,menuitem:O})})).$convert())},{$$s:w})),I(E["$include?"]('"'))&&I(E["$include?"]("&gt;"))&&(E=ue(E,"gsub",[Q("InlineMenuRx")],function _(){var l,F,A,M=_.$$s==null?this:_.$$s,W=p,ne=p,O=p;return I(((l=oe["~"])===p?p:l["$[]"](0))["$start_with?"](Q("RS")))?((l=oe["~"])===p?p:l["$[]"](0)).$slice(1,((l=oe["~"])===p?p:l["$[]"](0)).$length()):(F=ue(((A=oe["~"])===p?p:A["$[]"](1)).$split("&gt;"),"map",[],function(Xe){return Xe==null&&(Xe=p),Xe.$strip()}),l=ge(F),W=l[0]==null?p:l[0],ne=Ye(l,1),O=ne.$pop(),Q("Inline").$new(M,"menu",p,C(["attributes"],{attributes:C(["menu","submenus","menuitem"],{menu:W,submenus:ne,menuitem:O})})).$convert())},{$$s:w}))),I(Y)&&(I(E["$include?"]("image:"))||I(E["$include?"]("icon:")))&&(E=ue(E,"gsub",[Q("InlineImageMacroRx")],function _(){var l,F=_.$$s==null?this:_.$$s,A=p,M=p,W=p,ne=p;return I(((l=oe["~"])===p?p:l["$[]"](0))["$start_with?"](Q("RS")))?((l=oe["~"])===p?p:l["$[]"](0)).$slice(1,((l=oe["~"])===p?p:l["$[]"](0)).$length()):(I(((l=oe["~"])===p?p:l["$[]"](0))["$start_with?"]("icon:"))?(l=["icon",["size"]],A=l[0],M=l[1]):(l=["image",["alt","width","height"]],A=l[0],M=l[1]),W=(l=oe["~"])===p?p:l["$[]"](1),ne=F.$parse_attributes((l=oe["~"])===p?p:l["$[]"](2),M,C(["unescape_input"],{unescape_input:!0})),Ce(A,"icon")||(a.$register("images",W),ne["$[]="]("imagesdir",t["$[]"]("imagesdir"))),I(S=ne["$[]"]("alt"))||ne["$[]="]("alt",(l=["default-alt",Q("Helpers").$basename(W,!0).$tr("_-"," ")],ue(ne,"[]=",l),l[l.length-1])),Q("Inline").$new(F,"image",p,C(["type","target","attributes"],{type:A,target:W,attributes:ne})).$convert())},{$$s:w})),(I(E["$include?"]("(("))&&I(E["$include?"]("))"))||I(u)&&I(E["$include?"]("dexterm")))&&(E=ue(E,"gsub",[Q("InlineIndextermMacroRx")],function _(){var l,F,A=_.$$s==null?this:_.$$s,M=p,W=p,ne=p,O=p,He=p,Xe=p,it=p,nt=p,at=p,ct=p,ut=p,_t=p,ft=p,mt=p,yt=p;switch((l=oe["~"])===p?p:l["$[]"](1)){case"indexterm":return I(((l=oe["~"])===p?p:l["$[]"](0))["$start_with?"](Q("RS")))?((l=oe["~"])===p?p:l["$[]"](0)).$slice(1,((l=oe["~"])===p?p:l["$[]"](0)).$length()):(I((M=A.$normalize_text((l=oe["~"])===p?p:l["$[]"](2),!0,!0))["$include?"]("="))?I(W=(ne=Q("AttributeList").$new(M,A).$parse())["$[]"](1))?(ne["$[]="]("terms",[W]),I(O=ne["$[]"]("see-also"))&&ne["$[]="]("see-also",I(O["$include?"](","))?ue(O.$split(","),"map",[],function(kt){return kt==null&&(kt=p),kt.$lstrip()}):[O])):ne=C(["terms"],{terms:M}):ne=C(["terms"],{terms:A.$split_simple_csv(M)}),Q("Inline").$new(A,"indexterm",p,C(["attributes"],{attributes:ne})).$convert());case"indexterm2":return I(((l=oe["~"])===p?p:l["$[]"](0))["$start_with?"](Q("RS")))?((l=oe["~"])===p?p:l["$[]"](0)).$slice(1,((l=oe["~"])===p?p:l["$[]"](0)).$length()):(I((He=A.$normalize_text((l=oe["~"])===p?p:l["$[]"](2),!0,!0))["$include?"]("="))&&(He=I(Xe=I(it=(ne=Q("AttributeList").$new(He,A).$parse())["$[]"](1))?it:ne=p)?Xe:He,I(ne)&&I(O=ne["$[]"]("see-also"))&&ne["$[]="]("see-also",I(O["$include?"](","))?ue(O.$split(","),"map",[],function(kt){return kt==null&&(kt=p),kt.$lstrip()}):[O])),Q("Inline").$new(A,"indexterm",He,C(["attributes","type"],{attributes:ne,type:"visible"})).$convert());default:if(nt=(l=oe["~"])===p?p:l["$[]"](3),I(((l=oe["~"])===p?p:l["$[]"](0))["$start_with?"](Q("RS"))))if(I(nt["$start_with?"]("("))&&I(nt["$end_with?"](")")))nt=nt.$slice(1,Ue(nt.$length(),2)),l=[!0,"(",")"],at=l[0],ct=l[1],ut=l[2];else return((l=oe["~"])===p?p:l["$[]"](0)).$slice(1,((l=oe["~"])===p?p:l["$[]"](0)).$length());else at=!0,I(nt["$start_with?"]("("))?I(nt["$end_with?"](")"))?(l=[nt.$slice(1,Ue(nt.$length(),2)),!1],nt=l[0],at=l[1]):(l=[nt.$slice(1,nt.$length()),"(",""],nt=l[0],ct=l[1],ut=l[2]):I(nt["$end_with?"](")"))&&(l=[nt.$chop(),"",")"],nt=l[0],ct=l[1],ut=l[2]);return I(at)?(I((He=A.$normalize_text(nt,!0))["$include?"](";&"))&&(I(He["$include?"](" &gt;&gt; "))?(F=He.$partition(" &gt;&gt; "),l=ge(F),He=l[0]==null?p:l[0],_t=l[1]==null?p:l[1],ft=l[2]==null?p:l[2],ne=C(["see"],{see:ft})):I(He["$include?"](" &amp;&gt; "))&&(F=He.$split(" &amp;&gt; "),l=ge(F),He=l[0]==null?p:l[0],O=Ye(l,1),ne=C(["see-also"],{"see-also":O}))),mt=Q("Inline").$new(A,"indexterm",He,C(["attributes","type"],{attributes:ne,type:"visible"})).$convert()):(ne=C([],{}),I((yt=A.$normalize_text(nt,!0))["$include?"](";&"))&&(I(yt["$include?"](" &gt;&gt; "))?(F=yt.$partition(" &gt;&gt; "),l=ge(F),yt=l[0]==null?p:l[0],_t=l[1]==null?p:l[1],ft=l[2]==null?p:l[2],ne["$[]="]("see",ft)):I(yt["$include?"](" &amp;&gt; "))&&(F=yt.$split(" &amp;&gt; "),l=ge(F),yt=l[0]==null?p:l[0],O=Ye(l,1),ne["$[]="]("see-also",O))),ne["$[]="]("terms",A.$split_simple_csv(yt)),mt=Q("Inline").$new(A,"indexterm",p,C(["attributes"],{attributes:ne})).$convert()),I(ct)?""+ct+mt+ut:mt}},{$$s:w})),I(L)&&I(E["$include?"]("://"))&&(E=ue(E,"gsub",[Q("InlineLinkRx")],function _(){var l,F,A=_.$$s==null?this:_.$$s,M=p,W=p,ne=p,O=p,He=p,Xe=p,it=p,nt=p,at=p;if(I((M=c((l=oe["~"])===p?p:l["$[]"](2),I(S=(l=oe["~"])===p?p:l["$[]"](3))?S:(l=oe["~"])===p?p:l["$[]"](5)))["$start_with?"](Q("RS"))))return c(((l=oe["~"])===p?p:l["$[]"](0)).$slice(0,W=((l=oe["~"])===p?p:l["$[]"](1)).$length()),((l=oe["~"])===p?p:l["$[]"](0)).$slice(c(W,1),((l=oe["~"])===p?p:l["$[]"](0)).$length()));if(l=[(F=oe["~"])===p?p:F["$[]"](1),""],ne=l[0],O=l[1],I((l=oe["~"])===p?p:l["$[]"](4)))Ce(ne,"link:")&&(ne=""),I((He=(l=oe["~"])===p?p:l["$[]"](4))["$empty?"]())&&(He=p);else{switch(ne){case"link:":case'"':case"'":return(l=oe["~"])===p?p:l["$[]"](0);default:}switch((l=oe["~"])===p?p:l["$[]"](6)){case";":if(I(ne["$start_with?"]("&lt;"))&&I(M["$end_with?"]("&gt;"))?(ne=ne.$slice(4,ne.$length()),M=M.$slice(0,Ue(M.$length(),4))):I((M=M.$chop())["$end_with?"](")"))?(M=M.$chop(),O=");"):O=";",I(M["$end_with?"]("://")))return(l=oe["~"])===p?p:l["$[]"](0);break;case":":if(I((M=M.$chop())["$end_with?"](")"))?(M=M.$chop(),O="):"):O=":",I(M["$end_with?"]("://")))return(l=oe["~"])===p?p:l["$[]"](0);break;default:}}return l=[p,C(["type"],{type:"link"})],Xe=l[0],it=l[1],I(He)?(I(He["$include?"](Q("R_SB")))&&(nt=He=He.$gsub(Q("ESC_R_SB"),Q("R_SB"))),we(a.$compat_mode())&&I(He["$include?"]("="))&&(F=A.$extract_attributes_from_text(He,""),l=ge(F),He=l[0]==null?p:l[0],Xe=l[1]==null?p:l[1],nt=He,it["$[]="]("id",Xe["$[]"]("id"))),I(He["$end_with?"]("^"))&&(nt=He=He.$chop(),I(Xe)?I(S=Xe["$[]"]("window"))||Xe["$[]="]("window","_blank"):Xe=C(["window"],{window:"_blank"})),I(nt)&&I(nt["$empty?"]())&&(He=I(t["$key?"]("hide-uri-scheme"))?M.$sub(Q("UriSniffRx"),""):M,at=!0)):(He=I(t["$key?"]("hide-uri-scheme"))?M.$sub(Q("UriSniffRx"),""):M,at=!0),I(at)&&(I(Xe)?Xe["$[]="]("role",I(Xe["$key?"]("role"))?"bare "+Xe["$[]"]("role"):"bare"):Xe=C(["role"],{role:"bare"})),a.$register("links",(l=["target",M],ue(it,"[]=",l),l[l.length-1])),I(Xe)&&it["$[]="]("attributes",Xe),""+ne+Q("Inline").$new(A,"anchor",He,it).$convert()+O},{$$s:w})),I(Y)&&(I(E["$include?"]("link:"))||I(E["$include?"]("ilto:")))&&(E=ue(E,"gsub",[Q("InlineLinkMacroRx")],function _(){var l,F,A=_.$$s==null?this:_.$$s,M=p,W=p,ne=p,O=p,He=p,Xe=p;return I(((l=oe["~"])===p?p:l["$[]"](0))["$start_with?"](Q("RS")))?((l=oe["~"])===p?p:l["$[]"](0)).$slice(1,((l=oe["~"])===p?p:l["$[]"](0)).$length()):(I(M=(l=oe["~"])===p?p:l["$[]"](1))?W=c("mailto:",ne=(l=oe["~"])===p?p:l["$[]"](2)):W=(l=oe["~"])===p?p:l["$[]"](2),l=[p,C(["type"],{type:"link"})],O=l[0],He=l[1],I((Xe=(l=oe["~"])===p?p:l["$[]"](3))["$empty?"]())||(I(Xe["$include?"](Q("R_SB")))&&(Xe=Xe.$gsub(Q("ESC_R_SB"),Q("R_SB"))),I(M)?we(a.$compat_mode())&&I(Xe["$include?"](","))&&(F=A.$extract_attributes_from_text(Xe,""),l=ge(F),Xe=l[0]==null?p:l[0],O=l[1]==null?p:l[1],He["$[]="]("id",O["$[]"]("id")),I(O["$key?"](2))&&(I(O["$key?"](3))?W=""+W+"?subject="+Q("Helpers").$encode_uri_component(O["$[]"](2))+"&amp;body="+Q("Helpers").$encode_uri_component(O["$[]"](3)):W=""+W+"?subject="+Q("Helpers").$encode_uri_component(O["$[]"](2)))):we(a.$compat_mode())&&I(Xe["$include?"]("="))&&(F=A.$extract_attributes_from_text(Xe,""),l=ge(F),Xe=l[0]==null?p:l[0],O=l[1]==null?p:l[1],He["$[]="]("id",O["$[]"]("id"))),I(Xe["$end_with?"]("^"))&&(Xe=Xe.$chop(),I(O)?I(S=O["$[]"]("window"))||O["$[]="]("window","_blank"):O=C(["window"],{window:"_blank"}))),I(Xe["$empty?"]())&&(I(M)?Xe=ne:(I(t["$key?"]("hide-uri-scheme"))?I((Xe=W.$sub(Q("UriSniffRx"),""))["$empty?"]())&&(Xe=W):Xe=W,I(O)?O["$[]="]("role",I(O["$key?"]("role"))?"bare "+O["$[]"]("role"):"bare"):O=C(["role"],{role:"bare"}))),a.$register("links",(l=["target",W],ue(He,"[]=",l),l[l.length-1])),I(O)&&He["$[]="]("attributes",O),Q("Inline").$new(A,"anchor",Xe,He).$convert())},{$$s:w})),I(E["$include?"]("@"))&&(E=ue(E,"gsub",[Q("InlineEmailRx")],function _(){var l,F=_.$$s==null?this:_.$$s,A=p,M=p;return I((l=oe["~"])===p?p:l["$[]"](1))?Ce((l=oe["~"])===p?p:l["$[]"](1),Q("RS"))?((l=oe["~"])===p?p:l["$[]"](0)).$slice(1,((l=oe["~"])===p?p:l["$[]"](0)).$length()):(l=oe["~"])===p?p:l["$[]"](0):(A=c("mailto:",M=(l=oe["~"])===p?p:l["$[]"](0)),a.$register("links",A),Q("Inline").$new(F,"anchor",M,C(["type","target"],{type:"link",target:A})).$convert())},{$$s:w})),I(U)&&Ce(w.context,"list_item")&&Ce(w.parent.$style(),"bibliography")&&(E=ue(E,"sub",[Q("InlineBiblioAnchorRx")],function _(){var l,F=_.$$s==null?this:_.$$s;return Q("Inline").$new(F,"anchor",(l=oe["~"])===p?p:l["$[]"](2),C(["type","id"],{type:"bibref",id:(l=oe["~"])===p?p:l["$[]"](1)})).$convert()},{$$s:w})),(I(U)&&I(E["$include?"]("[["))||I(Y)&&I(E["$include?"]("or:")))&&(E=ue(E,"gsub",[Q("InlineAnchorRx")],function _(){var l,F=_.$$s==null?this:_.$$s,A=p,M=p;return I((l=oe["~"])===p?p:l["$[]"](1))?((l=oe["~"])===p?p:l["$[]"](0)).$slice(1,((l=oe["~"])===p?p:l["$[]"](0)).$length()):(I(A=(l=oe["~"])===p?p:l["$[]"](2))?M=(l=oe["~"])===p?p:l["$[]"](3):(A=(l=oe["~"])===p?p:l["$[]"](4),I(M=(l=oe["~"])===p?p:l["$[]"](5))&&I(M["$include?"](Q("R_SB")))&&(M=M.$gsub(Q("ESC_R_SB"),Q("R_SB")))),Q("Inline").$new(F,"anchor",M,C(["type","id"],{type:"ref",id:A})).$convert())},{$$s:w})),(I(E["$include?"]("&"))&&I(E["$include?"](";&l"))||I(Y)&&I(E["$include?"]("xref:")))&&(E=ue(E,"gsub",[Q("InlineXrefMacroRx")],function _(){var l,F,A=_.$$s==null?this:_.$$s,M=p,W=p,ne=p,O=p,He=p,Xe=p,it=p,nt=p,at=p,ct=p,ut=p;return I(((l=oe["~"])===p?p:l["$[]"](0))["$start_with?"](Q("RS")))?((l=oe["~"])===p?p:l["$[]"](0)).$slice(1,((l=oe["~"])===p?p:l["$[]"](0)).$length()):(M=C([],{}),I(W=(l=oe["~"])===p?p:l["$[]"](1))?I(W["$include?"](","))&&(F=W.$partition(","),l=ge(F),W=l[0]==null?p:l[0],ne=l[1]==null?p:l[1],O=l[2]==null?p:l[2],I((O=O.$lstrip())["$empty?"]())&&(O=p)):(He=!0,W=(l=oe["~"])===p?p:l["$[]"](2),I(O=(l=oe["~"])===p?p:l["$[]"](3))&&(I(O["$include?"](Q("R_SB")))&&(O=O.$gsub(Q("ESC_R_SB"),Q("R_SB"))),we(a.$compat_mode())&&I(O["$include?"]("="))&&(F=A.$extract_attributes_from_text(O),l=ge(F),O=l[0]==null?p:l[0],M=l[1]==null?p:l[1]))),I(a.$compat_mode())?Xe=W:I(it=W.$index("#"))&&ve(W["$[]"](Ue(it,1)),"&")?I(et(it,0))?(I(et(nt=Ue(Ue(W.$length(),1),it),0))?(l=[W.$slice(0,it),W.$slice(c(it,1),nt)],at=l[0],Xe=l[1]):at=W.$chop(),I(He)?I(at["$end_with?"](".adoc"))?ct=at=at.$slice(0,Ue(at.$length(),5)):we(Q("Helpers")["$extname?"](at))&&(ct=at):I(ue(at,"end_with?",st(Q("ASCIIDOC_EXTENSIONS").$keys())))?ct=at=at.$slice(0,at.$rindex(".")):ct=at):(l=[W,W.$slice(1,W.$length())],ut=l[0],Xe=l[1]):I(He)?I(W["$end_with?"](".adoc"))?ct=at=W.$slice(0,Ue(W.$length(),5)):I(Q("Helpers")["$extname?"](W))?at=W:Xe=W:Xe=W,I(ut)?(W=Xe,I(A.$logger()["$info?"]())&&we(a.$catalog()["$[]"]("refs")["$[]"](W))&&A.$logger().$info("possible invalid reference: "+W)):I(at)?I(ct)&&(Ce(a.$attributes()["$[]"]("docname"),at)||I(a.$catalog()["$[]"]("includes")["$[]"](at)))?I(Xe)?(l=[Xe,p,"#"+Xe],W=l[0],at=l[1],ut=l[2],I(A.$logger()["$info?"]())&&we(a.$catalog()["$[]"]("refs")["$[]"](W))&&A.$logger().$info("possible invalid reference: "+W)):(l=[p,p,"#"],W=l[0],at=l[1],ut=l[2]):(l=[at,""+(I(S=a.$attributes()["$[]"]("relfileprefix"))?S:"")+at+(I(ct)?a.$attributes().$fetch("relfilesuffix",a.$outfilesuffix()):"")],W=l[0],at=l[1],I(Xe)?(l=[""+W+"#"+Xe,""+at+"#"+Xe],W=l[0],ut=l[1]):ut=at):I(a.$compat_mode())||we(Q("Compliance").$natural_xrefs())?(l=[Xe,"#"+Xe],W=l[0],ut=l[1],I(A.$logger()["$info?"]())&&we(a.$catalog()["$[]"]("refs")["$[]"](W))&&A.$logger().$info("possible invalid reference: "+W)):I(a.$catalog()["$[]"]("refs")["$[]"](Xe))?(l=[Xe,"#"+Xe],W=l[0],ut=l[1]):(I(Xe["$include?"](" "))||ve(Xe.$downcase(),Xe))&&I(W=a.$resolve_id(Xe))?(l=[W,"#"+W],Xe=l[0],ut=l[1]):(l=[Xe,"#"+Xe],W=l[0],ut=l[1],I(A.$logger()["$info?"]())&&A.$logger().$info("possible invalid reference: "+W)),M["$[]="]("path",at),M["$[]="]("fragment",Xe),M["$[]="]("refid",W),Q("Inline").$new(A,"anchor",O,C(["type","target","attributes"],{type:"xref",target:ut,attributes:M})).$convert())},{$$s:w})),I(Y)&&I(E["$include?"]("tnote"))&&(E=ue(E,"gsub",[Q("InlineFootnoteMacroRx")],function _(){var l,F,A,M=_.$$s==null?this:_.$$s,W=p,ne=p,O=p,He=p,Xe=p,it=p;if(I(((l=oe["~"])===p?p:l["$[]"](0))["$start_with?"](Q("RS"))))return((l=oe["~"])===p?p:l["$[]"](0)).$slice(1,((l=oe["~"])===p?p:l["$[]"](0)).$length());if(I((l=oe["~"])===p?p:l["$[]"](1)))if(I((l=oe["~"])===p?p:l["$[]"](3)))F=((A=oe["~"])===p?p:A["$[]"](3)).$split(",",2),l=ge(F),W=l[0]==null?p:l[0],ne=l[1]==null?p:l[1],I(a.$compat_mode())||M.$logger().$warn("found deprecated footnoteref macro: "+((l=oe["~"])===p?p:l["$[]"](0))+"; use footnote macro with target instead");else return(l=oe["~"])===p?p:l["$[]"](0);else W=(l=oe["~"])===p?p:l["$[]"](2),ne=(l=oe["~"])===p?p:l["$[]"](3);if(I(W))I(O=ue(a.$footnotes(),"find",[],function(at){return at==null&&(at=p),at.$id()["$=="](W)}))?(l=[O.$index(),O.$text()],He=l[0],ne=l[1],l=["xref",W,p],Xe=l[0],it=l[1],W=l[2]):I(ne)?(ne=M.$restore_passthroughs(M.$normalize_text(ne,!0,!0)),He=a.$counter("footnote-number"),a.$register("footnotes",Ve(Q("Document"),"Footnote").$new(He,W,ne)),l=["ref",p],Xe=l[0],it=l[1]):(M.$logger().$warn("invalid footnote reference: "+W),l=["xref",W,W,p],Xe=l[0],it=l[1],ne=l[2],W=l[3]);else if(I(ne))ne=M.$restore_passthroughs(M.$normalize_text(ne,!0,!0)),He=a.$counter("footnote-number"),a.$register("footnotes",Ve(Q("Document"),"Footnote").$new(He,W,ne)),Xe=it=p;else return(l=oe["~"])===p?p:l["$[]"](0);return Q("Inline").$new(M,"footnote",ne,C(["attributes","id","target","type"],{attributes:C(["index"],{index:He}),id:W,target:it,type:Xe})).$convert()},{$$s:w})),E}),g(ie,"$sub_post_replacements",function(E){var w=this,U=p,L=p;return w.document==null&&(w.document=p),w.attributes==null&&(w.attributes=p),I(w.attributes["$[]"]("hardbreaks-option"))||I(w.document.$attributes()["$[]"]("hardbreaks-option"))?(U=E.$split(Q("LF"),-1),I(Qe(U.$size(),2))?E:(L=U.$pop(),ue(U,"map",[],function Y(S){var u=Y.$$s==null?this:Y.$$s;return S==null&&(S=p),Q("Inline").$new(u,"break",I(S["$end_with?"](Q("HARD_LINE_BREAK")))?S.$slice(0,Ue(S.$length(),2)):S,C(["type"],{type:"line"})).$convert()},{$$s:w})["$<<"](L).$join(Q("LF")))):I(E["$include?"](Q("PLUS")))&&I(E["$include?"](Q("HARD_LINE_BREAK")))?ue(E,"gsub",[Q("HardLineBreakRx")],function Y(){var S,u=Y.$$s==null?this:Y.$$s;return Q("Inline").$new(u,"break",(S=oe["~"])===p?p:S["$[]"](1),C(["type"],{type:"line"})).$convert()},{$$s:w}):E}),g(ie,"$sub_source",function(E,w){var U=this;return I(w)?U.$sub_callouts(U.$sub_specialchars(E)):U.$sub_specialchars(E)}),g(ie,"$sub_callouts",function(E){var w=this,U=p,L=p;return U=I(w["$attr?"]("line-comment"))?Q("CalloutSourceRxMap")["$[]"](w.$attr("line-comment")):Q("CalloutSourceRx"),L=0,ue(E,"gsub",[U],function Y(){var S,u=Y.$$s==null?this:Y.$$s,t=p;return u.document==null&&(u.document=p),I((S=oe["~"])===p?p:S["$[]"](2))?((S=oe["~"])===p?p:S["$[]"](0)).$sub(Q("RS"),""):Q("Inline").$new(u,"callout",Ce((S=oe["~"])===p?p:S["$[]"](4),".")?(L=c(L,1)).$to_s():(S=oe["~"])===p?p:S["$[]"](4),C(["id","attributes"],{id:u.document.$callouts().$read_next_id(),attributes:C(["guard"],{guard:I(t=(S=oe["~"])===p?p:S["$[]"](1))?t:Ce((S=oe["~"])===p?p:S["$[]"](3),"--")?["<!--","-->"]:p})})).$convert()},{$$s:w})}),g(ie,"$highlight_source",function(E,w){var U,L,Y=this,S=p,u=p,t=p,a=p,v=p,_=p,l=p,F=p,A=p,M=p;return Y.document==null&&(Y.document=p),Y.passthroughs==null&&(Y.passthroughs=p),I(S=Y.document.$syntax_highlighter())&&I(S["$highlight?"]())?(I(w)&&(L=Y.$extract_callouts(E),U=ge(L),E=U[0]==null?p:U[0],u=U[1]==null?p:U[1]),t=Y.document.$attributes(),a=S.$name(),I(_=I(Y["$attr?"]("linenums"))?(I(l=t["$[]"](""+a+"-linenums-mode"))?l:"table").$to_sym():p)&&I(Qe(v=Y.$attr("start",1).$to_i(),1))&&(v=1),I(Y["$attr?"]("highlight"))&&(F=Y.$resolve_lines_to_highlight(E,Y.$attr("highlight"),v)),L=S.$highlight(Y,E,Y.$attr("language"),C(["callouts","css_mode","highlight_lines","number_lines","start_line_number","style"],{callouts:u,css_mode:(I(l=t["$[]"](""+a+"-css"))?l:"class").$to_sym(),highlight_lines:F,number_lines:_,start_line_number:v,style:t["$[]"](""+a+"-style")})),U=ge(L),A=U[0]==null?p:U[0],M=U[1]==null?p:U[1],I(Y.passthroughs["$empty?"]())||(A=A.$gsub(Q("HighlightedPassSlotRx"),""+Q("PASS_START")+"\\1"+Q("PASS_END"))),I(u["$nil_or_empty?"]())?A:Y.$restore_callouts(A,u,M)):Y.$sub_source(E,w)}),g(ie,"$resolve_lines_to_highlight",function(E,w,U){var L=p,Y=p;return U==null&&(U=p),L=[],I(w["$include?"](" "))&&(w=w.$delete(" ")),ue(I(w["$include?"](","))?w.$split(","):w.$split(";"),"map",[],function(u){var t,a,v=p,_=p,l=p,F=p,A=p,M=p;return u==null&&(u=p),I(u["$start_with?"]("!"))&&(u=u.$slice(1,u.$length()),v=!0),I(_=I(u["$include?"](".."))?"..":I(u["$include?"]("-"))?"-":p)?(a=u.$partition(_),t=ge(a),l=t[0]==null?p:t[0],F=t[1]==null?p:t[1],A=t[2]==null?p:t[2],(I(A["$empty?"]())||I(Qe(A=A.$to_i(),0)))&&(A=c(E.$count(Q("LF")),1)),I(v)?L=Ue(L,e.Range.$new(l.$to_i(),A,!1).$to_a()):L=L["$|"](e.Range.$new(l.$to_i(),A,!1).$to_a())):I(v)?L.$delete(u.$to_i()):we(L["$include?"](M=u.$to_i()))?L["$<<"](M):p}),Ce(Y=I(U)?Ue(U,1):0,0)||(L=ue(L,"map",[],function(u){return u==null&&(u=p),Ue(u,Y)})),L.$sort()},-3),g(ie,"$extract_passthroughs",function(E){var w,U,L=this,Y=p,S=p,u=p,t=p,a=p;return L.document==null&&(L.document=p),L.passthroughs==null&&(L.passthroughs=p),Y=L.document.$compat_mode(),S=L.passthroughs,(I(E["$include?"]("++"))||I(E["$include?"]("$$"))||I(E["$include?"]("ss:")))&&(E=ue(E,"gsub",[Q("InlinePassMacroRx")],function v(){var _,l=v.$$s==null?this:v.$$s,F=p,A=p,M=p,W=p,ne=p,O=p,He=p,Xe=p,it=p;if(I(F=(_=oe["~"])===p?p:_["$[]"](4))){if(I(Y)&&Ce(F,"++"))return(I((_=oe["~"])===p?p:_["$[]"](2))?""+((_=oe["~"])===p?p:_["$[]"](1))+"["+((_=oe["~"])===p?p:_["$[]"](2))+"]"+((_=oe["~"])===p?p:_["$[]"](3)):""+((_=oe["~"])===p?p:_["$[]"](1))+((_=oe["~"])===p?p:_["$[]"](3)))+"++"+l.$extract_passthroughs((_=oe["~"])===p?p:_["$[]"](5))+"++";if(I(A=(_=oe["~"])===p?p:_["$[]"](2))){if(I(et(M=((_=oe["~"])===p?p:_["$[]"](3)).$length(),0)))return""+((_=oe["~"])===p?p:_["$[]"](1))+"["+A+"]"+y(Q("RS"),Ue(M,1))+F+((_=oe["~"])===p?p:_["$[]"](5))+F;Ce((_=oe["~"])===p?p:_["$[]"](1),Q("RS"))?W="["+A+"]":Ce(F,"++")?Ce(A,"x-")?(ne=!0,O=C([],{})):I(A["$end_with?"](" x-"))?(ne=!0,O=l.$parse_quoted_text_attributes(A.$slice(0,Ue(A.$length(),3)))):O=l.$parse_quoted_text_attributes(A):O=l.$parse_quoted_text_attributes(A)}else if(I(et(M=((_=oe["~"])===p?p:_["$[]"](3)).$length(),0)))return""+y(Q("RS"),Ue(M,1))+F+((_=oe["~"])===p?p:_["$[]"](5))+F;He=Ce(F,"+++")?[]:Q("BASIC_SUBS"),I(O)?I(ne)?S["$[]="](Xe=S.$size(),C(["text","subs","type","attributes"],{text:(_=oe["~"])===p?p:_["$[]"](5),subs:Q("NORMAL_SUBS"),type:"monospaced",attributes:O})):S["$[]="](Xe=S.$size(),C(["text","subs","type","attributes"],{text:(_=oe["~"])===p?p:_["$[]"](5),subs:He,type:"unquoted",attributes:O})):S["$[]="](Xe=S.$size(),C(["text","subs"],{text:(_=oe["~"])===p?p:_["$[]"](5),subs:He}))}else{if(Ce((_=oe["~"])===p?p:_["$[]"](6),Q("RS")))return((_=oe["~"])===p?p:_["$[]"](0)).$slice(1,((_=oe["~"])===p?p:_["$[]"](0)).$length());I(He=(_=oe["~"])===p?p:_["$[]"](7))?S["$[]="](Xe=S.$size(),C(["text","subs"],{text:l.$normalize_text((_=oe["~"])===p?p:_["$[]"](8),p,!0),subs:l.$resolve_pass_subs(He)})):S["$[]="](Xe=S.$size(),C(["text"],{text:l.$normalize_text((_=oe["~"])===p?p:_["$[]"](8),p,!0)}))}return""+(I(it=W)?it:"")+Q("PASS_START")+Xe+Q("PASS_END")},{$$s:L})),U=Q("InlinePassRx")["$[]"](Y),w=ge(U),u=w[0]==null?p:w[0],t=w[1]==null?p:w[1],a=w[2]==null?p:w[2],(I(E["$include?"](u))||I(t)&&I(E["$include?"](t)))&&(E=ue(E,"gsub",[a],function v(){var _,l=v.$$s==null?this:v.$$s,F=p,A=p,M=p,W=p,ne=p,O=p,He=p,Xe=p,it=p,nt=p,at=p,ct=p;if(F=(_=oe["~"])===p?p:_["$[]"](1),A=I(M=(_=oe["~"])===p?p:_["$[]"](4))?M:(_=oe["~"])===p?p:_["$[]"](3),I((_=oe["~"])===p?p:_["$[]"](5))&&(W=!0),ne=(_=oe["~"])===p?p:_["$[]"](6),O=(_=oe["~"])===p?p:_["$[]"](7),He=(_=oe["~"])===p?p:_["$[]"](8),I(Y)?Xe=!0:I(A)&&(Ce(A,"x-")||I(A["$end_with?"](" x-")))&&(Xe=it=!0),I(A)){if(I(W))return""+F+"["+A+"]"+ne.$slice(1,ne.$length());if(Ce(F,Q("RS"))){if(I(it)&&Ce(O,"`"))return""+F+"["+A+"]"+ne;F="["+A+"]"}else I(it)?nt=Ce(A,"x-")?C([],{}):l.$parse_quoted_text_attributes(A.$slice(0,Ue(A.$length(),3))):nt=l.$parse_quoted_text_attributes(A)}else{if(I(W))return""+F+ne.$slice(1,ne.$length());if(I(Y)&&Ce(F,Q("RS")))return ne}return I(Y)?S["$[]="](at=S.$size(),C(["text","subs","attributes","type"],{text:He,subs:Q("BASIC_SUBS"),attributes:nt,type:"monospaced"})):I(nt)?I(Xe)?(ct=Ce(O,"`")?Q("BASIC_SUBS"):Q("NORMAL_SUBS"),S["$[]="](at=S.$size(),C(["text","subs","attributes","type"],{text:He,subs:ct,attributes:nt,type:"monospaced"}))):S["$[]="](at=S.$size(),C(["text","subs","attributes","type"],{text:He,subs:Q("BASIC_SUBS"),attributes:nt,type:"unquoted"})):S["$[]="](at=S.$size(),C(["text","subs"],{text:He,subs:Q("BASIC_SUBS")})),""+F+Q("PASS_START")+at+Q("PASS_END")},{$$s:L})),I(E["$include?"](":"))&&(I(E["$include?"]("stem:"))||I(E["$include?"]("math:")))&&(E=ue(E,"gsub",[Q("InlineStemMacroRx")],function v(){var _,l=v.$$s==null?this:v.$$s,F=p,A=p,M=p,W=p;return l.document==null&&(l.document=p),I(((_=oe["~"])===p?p:_["$[]"](0))["$start_with?"](Q("RS")))?((_=oe["~"])===p?p:_["$[]"](0)).$slice(1,((_=oe["~"])===p?p:_["$[]"](0)).$length()):(Ce(F=((_=oe["~"])===p?p:_["$[]"](1)).$to_sym(),"stem")&&(F=Q("STEM_TYPE_ALIASES")["$[]"](l.document.$attributes()["$[]"]("stem")).$to_sym()),A=(_=oe["~"])===p?p:_["$[]"](2),M=l.$normalize_text((_=oe["~"])===p?p:_["$[]"](3),p,!0),Ce(F,"latexmath")&&I(M["$start_with?"]("$"))&&I(M["$end_with?"]("$"))&&(M=M.$slice(1,Ue(M.$length(),2))),A=I(A)?l.$resolve_pass_subs(A):I(l.document["$basebackend?"]("html"))?Q("BASIC_SUBS"):p,S["$[]="](W=S.$size(),C(["text","subs","type"],{text:M,subs:A,type:F})),""+Q("PASS_START")+W+Q("PASS_END"))},{$$s:L})),E}),g(ie,"$restore_passthroughs",function(E){var w=this,U=p;return w.passthroughs==null&&(w.passthroughs=p),U=w.passthroughs,ue(E,"gsub",[Q("PassSlotRx")],function L(){var Y,S=L.$$s==null?this:L.$$s,u=p,t=p,a=p,v=p,_=p;return I(u=U["$[]"](((Y=oe["~"])===p?p:Y["$[]"](1)).$to_i()))?(t=S.$apply_subs(u["$[]"]("text"),u["$[]"]("subs")),I(a=u["$[]"]("type"))&&(I(v=u["$[]"]("attributes"))&&(_=v["$[]"]("id")),t=Q("Inline").$new(S,"quoted",t,C(["type","id","attributes"],{type:a,id:_,attributes:v})).$convert()),I(t["$include?"](Q("PASS_START")))?S.$restore_passthroughs(t):t):(S.$logger().$error("unresolved passthrough detected: "+E),"??pass??")},{$$s:w})}),g(ie,"$resolve_subs",function(E,w,U,L){var Y=this,S=p,u=p,t=p,a=p;return w==null&&(w="block"),U==null&&(U=p),L==null&&(L=p),I(E["$nil_or_empty?"]())||(S=p,I(E["$include?"](" "))&&(E=E.$delete(" ")),u=Q("SubModifierSniffRx")["$match?"](E),ue(E.$split(","),"each",[],function(_){var l=p,F=p,A=p,M=p,W=p,ne=p;if(_==null&&(_=p),l=p,I(u)&&(Ce(F=_.$chr(),"+")?(l="append",_=_.$slice(1,_.$length())):Ce(F,"-")?(l="remove",_=_.$slice(1,_.$length())):I(_["$end_with?"]("+"))&&(l="prepend",_=_.$chop())),_=_.$to_sym(),Ce(w,"inline")&&(Ce(_,"verbatim")||Ce(_,"v"))?A=Q("BASIC_SUBS"):I(Q("SUB_GROUPS")["$key?"](_))?A=Q("SUB_GROUPS")["$[]"](_):Ce(w,"inline")&&Ce(_.$length(),1)&&I(Q("SUB_HINTS")["$key?"](_))?(M=Q("SUB_HINTS")["$[]"](_),I(W=Q("SUB_GROUPS")["$[]"](M))?A=W:A=[M]):A=[_],I(l))switch(S=I(ne=S)?ne:I(U)?U.$drop(0):[],l){case"append":return S=c(S,A);case"prepend":return S=c(A,S);case"remove":return S=Ue(S,A);default:return p}else return S=I(ne=S)?ne:[],S=c(S,A)}),!I(S))?p:(t=S["$&"](Q("SUB_OPTIONS")["$[]"](w)),I(Ue(S,t)["$empty?"]())||(a=Ue(S,t),Y.$logger().$warn("invalid substitution type"+(I(et(a.$size(),1))?"s":"")+(I(L)?" for ":"")+L+": "+a.$join(", "))),t)},-2),g(ie,"$resolve_block_subs",function(E,w,U){var L=this;return L.$resolve_subs(E,"block",w,U)}),g(ie,"$resolve_pass_subs",function(E){var w=this;return w.$resolve_subs(E,"inline",p,"passthrough macro")}),g(ie,"$expand_subs",function(E,w){var U=this,L=p,Y=p,S=p;return w==null&&(w=p),Ae(Ve("Symbol"),L=E)?Ce(E,"none")?p:I(Y=Q("SUB_GROUPS")["$[]"](E))?Y:[E]:Ae(Ve("Array"),L)?(S=[],ue(E,"each",[],function(t){var a=p;return t==null&&(t=p),Ce(t,"none")?p:I(a=Q("SUB_GROUPS")["$[]"](t))?S=c(S,a):S["$<<"](t)}),I(S["$empty?"]())?p:S):U.$resolve_subs(E,"inline",p,w)},-2),g(ie,"$commit_subs",function(){var E=this,w=p,U=p,L=p,Y=p,S=p;if(E.default_subs==null&&(E.default_subs=p),E.content_model==null&&(E.content_model=p),E.context==null&&(E.context=p),E.subs==null&&(E.subs=p),E.attributes==null&&(E.attributes=p),E.document==null&&(E.document=p),E.style==null&&(E.style=p),!I(w=E.default_subs))switch(E.content_model){case"simple":w=Q("NORMAL_SUBS");break;case"verbatim":w=Ce(E.context,"verse")?Q("NORMAL_SUBS"):Q("VERBATIM_SUBS");break;case"raw":w=Ce(E.context,"stem")?Q("BASIC_SUBS"):Q("NO_SUBS");break;default:return E.subs}return I(U=E.attributes["$[]"]("subs"))?E.subs=I(L=E.$resolve_block_subs(U,w,E.context))?L:[]:E.subs=w.$drop(0),Ce(E.context,"listing")&&Ce(E.style,"source")&&I(S=E.document.$syntax_highlighter())&&I(S["$highlight?"]())&&I(Y=E.subs.$index("specialcharacters"))&&E.subs["$[]="](Y,"highlight"),p}),g(ie,"$parse_attributes",function(E,w,U){var L=this,Y=p,S=p;return L.document==null&&(L.document=p),w==null&&(w=[]),U==null&&(U=C([],{})),I(I(E)?E["$empty?"]():!0)?C([],{}):(I(U["$[]"]("unescape_input"))&&(E=L.$normalize_text(E,!0,!0)),I(U["$[]"]("sub_input"))&&I(E["$include?"](Q("ATTR_REF_HEAD")))&&(E=L.document.$sub_attributes(E)),I(U["$[]"]("sub_result"))&&(Y=L),I(S=U["$[]"]("into"))?Q("AttributeList").$new(E,Y).$parse_into(S,w):Q("AttributeList").$new(E,Y).$parse(w))},-2),ie.$private(),g(ie,"$extract_attributes_from_text",function(E,w){var U=this,L=p,Y=p,S=p;return w==null&&(w=p),L=I(E["$include?"](Q("LF")))?E.$tr(Q("LF")," "):E,I(Y=(S=Q("AttributeList").$new(L,U).$parse())["$[]"](1))?Ce(Y,L)?[E,S.$clear()]:[Y,S]:[w,S]},-2),g(ie,"$extract_callouts",function(E){var w=this,U=p,L=p,Y=p,S=p,u=p;return U=C([],{}),L=Y=0,S=p,u=I(w["$attr?"]("line-comment"))?Q("CalloutExtractRxMap")["$[]"](w.$attr("line-comment")):Q("CalloutExtractRx"),E=ue(E.$split(Q("LF"),-1),"map",[],function(a){return a==null&&(a=p),Y=c(Y,1),ue(a,"gsub",[u],function(){var _,l=p;return I((_=oe["~"])===p?p:_["$[]"](2))?((_=oe["~"])===p?p:_["$[]"](0)).$sub(Q("RS"),""):((I(l=U["$[]"](Y))?l:(_=[Y,[]],ue(U,"[]=",_),_[_.length-1]))["$<<"]([I(l=(_=oe["~"])===p?p:_["$[]"](1))?l:Ce((_=oe["~"])===p?p:_["$[]"](3),"--")?["<!--","-->"]:p,Ce((_=oe["~"])===p?p:_["$[]"](4),".")?(L=c(L,1)).$to_s():(_=oe["~"])===p?p:_["$[]"](4)]),S=Y,"")})}).$join(Q("LF")),I(S)?Ce(S,Y)&&(E=""+E+Q("LF")):U=p,[E,U]}),g(ie,"$restore_callouts",function(E,w,U){var L=this,Y=p,S=p;return U==null&&(U=p),I(U)?(Y=E.$slice(0,U),E=E.$slice(U,E.$length())):Y="",S=0,c(Y,ue(E.$split(Q("LF"),-1),"map",[],function u(t){var a,v,_=u.$$s==null?this:u.$$s,l=p,F=p,A=p;return _.document==null&&(_.document=p),t==null&&(t=p),I(l=w.$delete(S=c(S,1)))?Ce(l.$size(),1)?(v=l["$[]"](0),a=ge(v),F=a[0]==null?p:a[0],A=a[1]==null?p:a[1],""+t+Q("Inline").$new(_,"callout",A,C(["id","attributes"],{id:_.document.$callouts().$read_next_id(),attributes:C(["guard"],{guard:F})})).$convert()):""+t+ue(l,"map",[],function M(W,ne){var O=M.$$s==null?this:M.$$s;return O.document==null&&(O.document=p),W==null&&(W=p),ne==null&&(ne=p),Q("Inline").$new(O,"callout",ne,C(["id","attributes"],{id:O.document.$callouts().$read_next_id(),attributes:C(["guard"],{guard:W})})).$convert()},{$$s:_}).$join(" "):t},{$$s:L}).$join(Q("LF")))},-3),g(ie,"$convert_quoted_text",function(E,w,U){var L=this,Y=p,S=p,u=p,t=p,a=p;if(I(E["$[]"](0)["$start_with?"](Q("RS"))))if(Ce(U,"constrained")&&I(Y=E["$[]"](2)))S="["+Y+"]";else return E["$[]"](0).$slice(1,E["$[]"](0).$length());return Ce(U,"constrained")?I(S)?""+S+Q("Inline").$new(L,"quoted",E["$[]"](3),C(["type"],{type:w})).$convert():(I(u=E["$[]"](2))&&(t=(a=L.$parse_quoted_text_attributes(u))["$[]"]("id"),Ce(w,"mark")&&(w="unquoted")),""+E["$[]"](1)+Q("Inline").$new(L,"quoted",E["$[]"](3),C(["type","id","attributes"],{type:w,id:t,attributes:a})).$convert()):(I(u=E["$[]"](1))&&(t=(a=L.$parse_quoted_text_attributes(u))["$[]"]("id"),Ce(w,"mark")&&(w="unquoted")),Q("Inline").$new(L,"quoted",E["$[]"](2),C(["type","id","attributes"],{type:w,id:t,attributes:a})).$convert())}),g(ie,"$do_replacement",function(E,w,U){var L=p;if(I((L=E["$[]"](0))["$include?"](Q("RS"))))return L.$sub(Q("RS"),"");switch(U){case"none":return w;case"bounding":return c(c(E["$[]"](1),w),E["$[]"](2));default:return c(E["$[]"](1),w)}}),g(ie,"$parse_quoted_text_attributes",function(E){var w,U,L=this,Y=p,S=p,u=p,t=p,a=p,v=p;return I(E["$include?"](Q("ATTR_REF_HEAD")))&&(E=L.$sub_attributes(E)),I(E["$include?"](","))&&(E=E.$slice(0,E.$index(","))),I((E=E.$strip())["$empty?"]())?C([],{}):I(E["$start_with?"](".","#"))&&I(Q("Compliance").$shorthand_property_syntax())?(U=E.$partition("#"),w=ge(U),Y=w[0]==null?p:w[0],S=w[1]==null?p:w[1],u=w[2]==null?p:w[2],t=C([],{}),I(u["$empty?"]())?I(et(Y.$length(),1))&&t["$[]="]("role",Y.$tr("."," ").$lstrip()):(U=u.$partition("."),w=ge(U),a=w[0]==null?p:w[0],S=w[1]==null?p:w[1],v=w[2]==null?p:w[2],I(a["$empty?"]())||t["$[]="]("id",a),I(v["$empty?"]())?I(et(Y.$length(),1))&&t["$[]="]("role",Y.$tr("."," ").$lstrip()):I(et(Y.$length(),1))?t["$[]="]("role",c(c(Y,"."),v).$tr("."," ").$lstrip()):t["$[]="]("role",v.$tr("."," "))),t):C(["role"],{role:E})}),g(ie,"$normalize_text",function(E,w,U){return w==null&&(w=p),U==null&&(U=p),I(E["$empty?"]())||(I(w)&&(E=E.$strip().$tr(Q("LF")," ")),I(U)&&I(E["$include?"](Q("R_SB")))&&(E=E.$gsub(Q("ESC_R_SB"),Q("R_SB")))),E},-2),g(ie,"$split_simple_csv",function(E){var w=p,U=p,L=p;return I(E["$empty?"]())?[]:I(E["$include?"]('"'))?(w=[],U="",L=p,ue(E,"each_char",[],function(S){switch(S==null&&(S=p),S){case",":return I(L)?U=c(U,S):(w["$<<"](U.$strip()),U="");case'"':return L=L["$!"]();default:return U=c(U,S)}}),w["$<<"](U.$strip())):ue(E.$split(","),"map",[],function(S){return S==null&&(S=p),S.$strip()})})}(ke[0],ke)}(Je[0],Je)},Opal.modules["asciidoctor/version"]=function(e){"use strict";var H=e.module,P=e.const_set,C=[],K=e.nil;return function(c,R){var we=H(c,"Asciidoctor"),I=[we].concat(R);return P(I[0],"VERSION","2.0.20")}(C[0],C)},Opal.modules["asciidoctor/abstract_node"]=function(e){"use strict";var H=e.module,P=e.klass,C=e.hash2,K=e.eqeq,c=e.truthy,R=e.def,we=e.send,I=e.rb_minus,ue=e.eqeqeq,g=e.rb_lt,Ke=e.not,oe=e.to_ary,Ce=[],ge=e.nil,ve=e.$$$;return e.add_stubs("include,attr_reader,attr_accessor,==,document,to_s,[],merge,raise,converter,attributes,key?,[]=,delete,tap,new,each_key,end_with?,<<,slice,-,length,update,split,include?,===,join,empty?,apply_reftext_subs,attr?,attr,extname?,image_uri,<,safe,normalize_web_path,uriish?,encode_spaces_in_uri,generate_data_uri_from_uri,generate_data_uri,extname,normalize_system_path,readable?,strict_encode64,binread,warn,logger,require_library,!,open_uri,content_type,read,base_dir,root?,path_resolver,system_path,web_path,!=,prepare_source_string,fetch,read_asset"),function(st,Ae){var et=H(st,"Asciidoctor"),Ye=[et].concat(Ae);return function(Ue,Qe,y){var Je=P(Ue,Qe,"AbstractNode"),p=[Je].concat(y),Ve=e.$r(p),rt=Je.$$prototype;return rt.document=rt.attributes=rt.parent=ge,Je.$include(Ve("Logging")),Je.$include(Ve("Substitutors")),Je.$attr_reader("attributes"),Je.$attr_reader("context"),Je.$attr_reader("document"),Je.$attr_accessor("id"),Je.$attr_reader("node_name"),Je.$attr_reader("parent"),R(Je,"$initialize",function(x,ke,ee){var ce=this,ie=ge;return ee==null&&(ee=C([],{})),K(ke,"document")?ce.document=ce:c(x)&&(ce.document=(ce.parent=x).$document()),ce.node_name=(ce.context=ke).$to_s(),ce.attributes=c(ie=ee["$[]"]("attributes"))?ie.$merge():C([],{}),ce.passthroughs=[]},-3),R(Je,"$block?",function(){var x=this;return x.$raise(ve("NotImplementedError"))}),R(Je,"$inline?",function(){var x=this;return x.$raise(ve("NotImplementedError"))}),R(Je,"$converter",function(){var x=this;return x.document.$converter()}),R(Je,"$parent=",function(x){var ke,ee=this;return ke=[x,x.$document()],ee.parent=ke[0],ee.document=ke[1],ke}),R(Je,"$attr",function(x,ke,ee){var ce=this,ie=ge,j=ge,Q=ge,T=ge;return ke==null&&(ke=ge),ee==null&&(ee=ge),c(ie=ce.attributes["$[]"](x.$to_s()))?ie:c(j=c(Q=c(T=ee)?ce.parent:T)?ce.document.$attributes()["$[]"]((K(ee,!0)?x:ee).$to_s()):Q)?j:ke},-2),R(Je,"$attr?",function(x,ke,ee){var ce=this,ie=ge;return ke==null&&(ke=ge),ee==null&&(ee=ge),c(ke)?ke["$=="](c(ie=ce.attributes["$[]"](x.$to_s()))?ie:c(ee)&&c(ce.parent)?ce.document.$attributes()["$[]"]((K(ee,!0)?x:ee).$to_s()):ge):c(ie=ce.attributes["$key?"](x.$to_s()))?ie:c(ee)&&c(ce.parent)?ce.document.$attributes()["$key?"]((K(ee,!0)?x:ee).$to_s()):!1},-2),R(Je,"$set_attr",function(x,ke,ee){var ce=this;return ke==null&&(ke=""),ee==null&&(ee=!0),K(ee,!1)&&c(ce.attributes["$key?"](x))?!1:(ce.attributes["$[]="](x,ke),!0)},-2),R(Je,"$remove_attr",function(x){var ke=this;return ke.attributes.$delete(x)}),R(Je,"$option?",function(x){var ke=this;return!!c(ke.attributes["$[]"](""+x+"-option"))}),R(Je,"$set_option",function(x){var ke=this;return ke.attributes["$[]="](""+x+"-option",""),ge}),R(Je,"$enabled_options",function(){var x=this;return we(ve("Set").$new(),"tap",[],function ke(ee){var ce=ke.$$s==null?this:ke.$$s;return ce.attributes==null&&(ce.attributes=ge),ee==null&&(ee=ge),we(ce.attributes,"each_key",[],function(j){return j==null&&(j=ge),c(j.$to_s()["$end_with?"]("-option"))?ee["$<<"](j.$slice(0,I(j.$length(),7))):ge})},{$$s:x})}),R(Je,"$update_attributes",function(x){var ke=this;return ke.attributes.$update(x)}),R(Je,"$role",function(){var x=this;return x.attributes["$[]"]("role")}),R(Je,"$roles",function(){var x=this,ke=ge;return c(ke=x.attributes["$[]"]("role"))?ke.$split():[]}),R(Je,"$role?",function(x){var ke=this;return x==null&&(x=ge),c(x)?x["$=="](ke.attributes["$[]"]("role")):ke.attributes["$key?"]("role")},-1),R(Je,"$has_role?",function(x){var ke=this,ee=ge;return c(ee=ke.attributes["$[]"]("role"))?(" "+ee+" ")["$include?"](" "+x+" "):!1}),R(Je,"$role=",function(x){var ke,ee=this;return ke=["role",ue(ve("Array"),x)?x.$join(" "):x],we(ee.attributes,"[]=",ke),ke[ke.length-1]}),R(Je,"$add_role",function(x){var ke=this,ee=ge;return c(ee=ke.attributes["$[]"]("role"))?c((" "+ee+" ")["$include?"](" "+x+" "))?!1:(ke.attributes["$[]="]("role",""+ee+" "+x),!0):(ke.attributes["$[]="]("role",x),!0)}),R(Je,"$remove_role",function(x){var ke=this,ee=ge;return c(ee=ke.attributes["$[]"]("role"))&&c((ee=ee.$split()).$delete(x))?(c(ee["$empty?"]())?ke.attributes.$delete("role"):ke.attributes["$[]="]("role",ee.$join(" ")),!0):!1}),R(Je,"$reftext",function(){var x=this,ke=ge;return c(ke=x.attributes["$[]"]("reftext"))?x.$apply_reftext_subs(ke):ge}),R(Je,"$reftext?",function(){var x=this;return x.attributes["$key?"]("reftext")}),R(Je,"$icon_uri",function(x){var ke=this,ee=ge;return c(ke["$attr?"]("icon"))?(ee=ke.$attr("icon"),c(Ve("Helpers")["$extname?"](ee))||(ee=""+ee+"."+ke.document.$attr("icontype","png"))):ee=""+x+"."+ke.document.$attr("icontype","png"),ke.$image_uri(ee,"iconsdir")}),R(Je,"$image_uri",function(x,ke){var ee=this,ce=ge,ie=ge;return ke==null&&(ke="imagesdir"),c(g((ce=ee.document).$safe(),ve(Ve("SafeMode"),"SECURE")))&&c(ce["$attr?"]("data-uri"))?c(Ve("Helpers")["$uriish?"](x))&&c(x=Ve("Helpers").$encode_spaces_in_uri(x))||c(ke)&&c(ie=ce.$attr(ke))&&c(Ve("Helpers")["$uriish?"](ie))&&c(x=ee.$normalize_web_path(x,ie,!1))?c(ce["$attr?"]("allow-uri-read"))?ee.$generate_data_uri_from_uri(x,ce["$attr?"]("cache-uri")):x:ee.$generate_data_uri(x,ke):ee.$normalize_web_path(x,c(ke)?ce.$attr(ke):ge)},-2),R(Je,"$media_uri",function(x,ke){var ee=this;return ke==null&&(ke="imagesdir"),ee.$normalize_web_path(x,c(ke)?ee.document.$attr(ke):ge)},-2),R(Je,"$generate_data_uri",function(x,ke){var ee=this,ce=ge,ie=ge,j=ge;return ke==null&&(ke=ge),c(ce=Ve("Helpers").$extname(x,ge))?ie=K(ce,".svg")?"image/svg+xml":"image/"+ce.$slice(1,ce.$length()):ie="application/octet-stream",c(ke)?j=ee.$normalize_system_path(x,ee.document.$attr(ke),ge,C(["target_name"],{target_name:"image"})):j=ee.$normalize_system_path(x),c(ve("File")["$readable?"](j))?"data:"+ie+";base64,"+ve("Base64").$strict_encode64(ve("File").$binread(j)):(ee.$logger().$warn("image to embed not found or not readable: "+j),"data:"+ie+";base64,")},-2),R(Je,"$generate_data_uri_from_uri",function(x,ke){var ee,ce,ie=this,j=ge,Q=ge;ke==null&&(ke=!1),c(ke)?Ve("Helpers").$require_library("open-uri/cached","open-uri-cached"):Ke(Ve("RUBY_ENGINE_OPAL"))&&ve("OpenURI");try{return ce=we(ve("OpenURI"),"open_uri",[x,Ve("URI_READ_MODE")],function(E){return E==null&&(E=ge),[E.$content_type(),E.$read()]}),ee=oe(ce),j=ee[0]==null?ge:ee[0],Q=ee[1]==null?ge:ee[1],"data:"+j+";base64,"+ve("Base64").$strict_encode64(Q)}catch(T){if(e.rescue(T,[Ve("StandardError")]))try{return ie.$logger().$warn("could not retrieve image data from URI: "+x),x}finally{e.pop_exception()}else throw T}},-2),R(Je,"$normalize_asset_path",function(x,ke,ee){var ce=this;return ke==null&&(ke="path"),ee==null&&(ee=!0),ce.$normalize_system_path(x,ce.document.$base_dir(),ge,C(["target_name","recover"],{target_name:ke,recover:ee}))},-2),R(Je,"$normalize_system_path",function(x,ke,ee,ce){var ie=this,j=ge,Q=ge;return ke==null&&(ke=ge),ee==null&&(ee=ge),ce==null&&(ce=C([],{})),c(g((j=ie.document).$safe(),ve(Ve("SafeMode"),"SAFE")))?c(ke)?c(j.$path_resolver()["$root?"](ke))||(ke=ve("File").$join(j.$base_dir(),ke)):ke=j.$base_dir():(ke=c(Q=ke)?Q:j.$base_dir(),ee=c(Q=ee)?Q:j.$base_dir()),j.$path_resolver().$system_path(x,ke,ee,ce)},-2),R(Je,"$normalize_web_path",function(x,ke,ee){var ce=this;return ke==null&&(ke=ge),ee==null&&(ee=!0),c(ee)&&c(Ve("Helpers")["$uriish?"](x))?Ve("Helpers").$encode_spaces_in_uri(x):ce.document.$path_resolver().$web_path(x,ke)},-2),R(Je,"$read_asset",function(x,ke){var ee=this,ce=ge;return ke==null&&(ke=C([],{})),ue(ve("Hash"),ke)||(ke=C(["warn_on_failure"],{warn_on_failure:ke["$!="](!1)})),c(ve("File")["$readable?"](x))?c(ke["$[]"]("normalize"))?Ve("Helpers").$prepare_source_string(ve("File").$read(x,C(["mode"],{mode:Ve("FILE_READ_MODE")}))).$join(Ve("LF")):ve("File").$read(x,C(["mode"],{mode:Ve("FILE_READ_MODE")})):(c(ke["$[]"]("warn_on_failure"))&&ee.$logger().$warn(""+(c(ce=ee.$attr("docfile"))?ce:"<stdin>")+": "+(c(ce=ke["$[]"]("label"))?ce:"file")+" does not exist or cannot be read: "+x),ge)},-2),R(Je,"$read_contents",function(x,ke){var ee=this,ce=ge,ie=ge,j=ge,Q=ge;if(ke==null&&(ke=C([],{})),ce=ee.document,c(Ve("Helpers")["$uriish?"](x))||c(ie=ke["$[]"]("start"))&&c(Ve("Helpers")["$uriish?"](ie))&&c(x=ce.$path_resolver().$web_path(x,ie)))if(c(ce["$attr?"]("allow-uri-read"))){c(ce["$attr?"]("cache-uri"))&&Ve("Helpers").$require_library("open-uri/cached","open-uri-cached");try{c(ke["$[]"]("normalize"))?j=Ve("Helpers").$prepare_source_string(we(ve("OpenURI"),"open_uri",[x,Ve("URI_READ_MODE")],function(E){return E==null&&(E=ge),E.$read()})).$join(Ve("LF")):j=we(ve("OpenURI"),"open_uri",[x,Ve("URI_READ_MODE")],function(E){return E==null&&(E=ge),E.$read()})}catch(T){if(e.rescue(T,[Ve("StandardError")]))try{c(ke.$fetch("warn_on_failure",!0))&&ee.$logger().$warn("could not retrieve contents of "+(c(Q=ke["$[]"]("label"))?Q:"asset")+" at URI: "+x)}finally{e.pop_exception()}else throw T}}else c(ke.$fetch("warn_on_failure",!0))&&ee.$logger().$warn("cannot retrieve contents of "+(c(Q=ke["$[]"]("label"))?Q:"asset")+" at URI: "+x+" (allow-uri-read attribute not enabled)");else x=ee.$normalize_system_path(x,ke["$[]"]("start"),ge,C(["target_name"],{target_name:c(Q=ke["$[]"]("label"))?Q:"asset"})),j=ee.$read_asset(x,C(["normalize","warn_on_failure","label"],{normalize:ke["$[]"]("normalize"),warn_on_failure:ke.$fetch("warn_on_failure",!0),label:ke["$[]"]("label")}));return c(j)&&c(ke["$[]"]("warn_if_empty"))&&c(j["$empty?"]())&&ee.$logger().$warn("contents of "+(c(Q=ke["$[]"]("label"))?Q:"asset")+" is empty: "+x),j},-2),R(Je,"$is_uri?",function(x){return Ve("Helpers")["$uriish?"](x)})}(Ye[0],null,Ye)}(Ce[0],Ce)},Opal.modules["asciidoctor/abstract_block"]=function(e){"use strict";var H=e.module,P=e.klass,C=e.hash2,K=e.send2,c=e.find_super,R=e.eqeq,we=e.eqeqeq,I=e.def,ue=e.return_val,g=e.truthy,Ke=e.alias,oe=e.send,Ce=e.rb_plus,ge=e.not,ve=e.neqeq,st=[],Ae=e.nil,et=e.$$$;return e.add_stubs("attr_reader,attr_writer,attr_accessor,==,===,level,file,lineno,playback_attributes,convert,converter,join,map,to_s,parent,parent=,<<,empty?,Integer,find_by_internal,to_proc,find_by,context,[],items,+,find_index,include?,next_adjacent_block,blocks,select,sub_specialchars,match?,sub_replacements,title,apply_title_subs,delete,!,reftext,nil_or_empty?,sub_placeholder,sub_quotes,compat_mode,attributes,chomp,increment_and_store_counter,index=,numbered,sectname,numeral=,counter,caption=,numeral,int_to_roman,each,assign_numeral,reindex_sections,protected,has_role?,raise,header?,!=,flatten,head,rows,merge,body,foot,style,inner_document"),function(Ye,Ue){var Qe=H(Ye,"Asciidoctor"),y=[Qe].concat(Ue),Je=e.$r(y);return function(p,Ve,rt){var z=P(p,Ve,"AbstractBlock"),x=[z].concat(rt),ke=e.$r(x),ee=z.$$prototype;return ee.source_location=ee.document=ee.attributes=ee.blocks=ee.numeral=ee.context=ee.parent=ee.caption=ee.style=ee.converted_title=ee.title=ee.subs=ee.next_section_index=ee.next_section_ordinal=ee.id=ee.header=Ae,z.$attr_reader("blocks"),z.$attr_writer("caption"),z.$attr_accessor("content_model"),z.$attr_accessor("level"),z.$attr_accessor("numeral"),z.$attr_accessor("source_location"),z.$attr_accessor("style"),z.$attr_reader("subs"),I(z,"$initialize",function ce(ie,j,Q){var T=ce.$$p||Ae,E=this;return ce.$$p=null,Q==null&&(Q=C([],{})),K(E,c(E,"initialize",ce,!1,!0),"initialize",[ie,j,Q],T),E.content_model="compound",E.blocks=[],E.subs=[],E.id=E.title=E.caption=E.numeral=E.style=E.default_subs=E.source_location=Ae,R(j,"document")||R(j,"section")?(E.level=E.next_section_index=0,E.next_section_ordinal=1):we(ke("AbstractBlock"),ie)?E.level=ie.$level():E.level=Ae},-3),I(z,"$block?",ue(!0)),I(z,"$inline?",ue(!1)),I(z,"$file",function(){var ie=this,j=Ae;return g(j=ie.source_location)?ie.source_location.$file():j}),I(z,"$lineno",function(){var ie=this,j=Ae;return g(j=ie.source_location)?ie.source_location.$lineno():j}),I(z,"$convert",function(){var ie=this;return ie.document.$playback_attributes(ie.attributes),ie.$converter().$convert(ie)}),Ke(z,"render","convert"),I(z,"$content",function(){var ie=this;return oe(ie.blocks,"map",[],function(Q){return Q==null&&(Q=Ae),Q.$convert()}).$join(ke("LF"))}),I(z,"$context=",function(ie){var j=this;return j.node_name=(j.context=ie).$to_s()}),I(z,"$<<",function(ie){var j=this;return R(ie.$parent(),j)||ie["$parent="](j),j.blocks["$<<"](ie),j}),Ke(z,"append","<<"),I(z,"$blocks?",function(){var ie=this;return!g(ie.blocks["$empty?"]())}),I(z,"$sections?",ue(!1)),I(z,"$number",function(){var ie=this;try{return ie.$Integer(ie.numeral)}catch(j){if(e.rescue(j,[ke("StandardError")]))try{return ie.numeral}finally{e.pop_exception()}else throw j}}),I(z,"$number=",function(ie){var j=this;return j.numeral=ie.$to_s()}),I(z,"$find_by",function ce(ie){var j=ce.$$p||Ae,Q=this,T=Ae;ce.$$p=null,ie==null&&(ie=C([],{}));try{return oe(Q,"find_by_internal",[ie,T=[]],j.$to_proc())}catch(E){if(e.rescue(E,[et("StopIteration")]))try{return T}finally{e.pop_exception()}else throw E}},-1),Ke(z,"query","find_by"),I(z,"$next_adjacent_block",function(){var ie=this,j=Ae,Q=Ae;return R(ie.context,"document")?Ae:R((j=ie.parent).$context(),"dlist")&&R(ie.context,"list_item")?g(Q=j.$items()["$[]"](Ce(oe(j.$items(),"find_index",[],function T(E,w){var U=T.$$s==null?this:T.$$s,L=Ae;return E==null&&(E=Ae),w==null&&(w=Ae),g(L=E["$include?"](U))?L:w["$=="](U)},{$$s:ie}),1)))?Q:j.$next_adjacent_block():g(Q=j.$blocks()["$[]"](Ce(j.$blocks().$find_index(ie),1)))?Q:j.$next_adjacent_block()}),I(z,"$sections",function(){var ie=this;return oe(ie.blocks,"select",[],function(Q){return Q==null&&(Q=Ae),Q.$context()["$=="]("section")})}),I(z,"$alt",function(){var ie=this,j=Ae;return g(j=ie.attributes["$[]"]("alt"))?R(j,ie.attributes["$[]"]("default-alt"))?ie.$sub_specialchars(j):(j=ie.$sub_specialchars(j),g(ke("ReplaceableTextRx")["$match?"](j))?ie.$sub_replacements(j):j):""}),I(z,"$caption",function(){var ie=this;return R(ie.context,"admonition")?ie.attributes["$[]"]("textlabel"):ie.caption}),I(z,"$captioned_title",function(){var ie=this;return""+ie.caption+ie.$title()}),I(z,"$list_marker_keyword",function(ie){var j=this,Q=Ae;return ie==null&&(ie=Ae),ke("ORDERED_LIST_KEYWORDS")["$[]"](g(Q=ie)?Q:j.style)},-1),I(z,"$title",function(){var ie=this,j=Ae,Q=Ae;return ie.converted_title=g(j=ie.converted_title)?j:g(Q=ie.title)?ie.$apply_title_subs(ie.title):Q}),I(z,"$title?",function(){var ie=this;return!!g(ie.title)}),I(z,"$title=",function(ie){var j=this;return j.converted_title=Ae,j.title=ie}),I(z,"$sub?",function(ie){var j=this;return j.subs["$include?"](ie)}),I(z,"$remove_sub",function(ie){var j=this;return j.subs.$delete(ie),Ae}),I(z,"$xreftext",function(ie){var j=this,Q=Ae,T=Ae,E=Ae,w=Ae;if(ie==null&&(ie=Ae),g(Q=j.$reftext())&&ge(Q["$empty?"]()))return Q;if(g(ie)&&g(j.title)&&ge(j.caption["$nil_or_empty?"]()))switch(ie){case"full":return T=j.$sub_placeholder(j.$sub_quotes(g(j.document.$compat_mode())?"``%s''":'"`%s`"'),j.$title()),g(j.numeral)&&g(w=ke("CAPTION_ATTRIBUTE_NAMES")["$[]"](j.context))&&g(E=j.document.$attributes()["$[]"](w))?""+E+" "+j.numeral+", "+T:""+j.caption.$chomp(". ")+", "+T;case"short":return g(j.numeral)&&g(w=ke("CAPTION_ATTRIBUTE_NAMES")["$[]"](j.context))&&g(E=j.document.$attributes()["$[]"](w))?""+E+" "+j.numeral:j.caption.$chomp(". ");default:return j.$title()}else return j.$title()},-1),I(z,"$assign_caption",function(ie,j){var Q=this,T=Ae,E=Ae,w=Ae;return j==null&&(j=Q.context),g(Q.caption)||ge(Q.title)||g(Q.caption=g(T=ie)?T:Q.document.$attributes()["$[]"]("caption"))||g(w=ke("CAPTION_ATTRIBUTE_NAMES")["$[]"](j))&&g(E=Q.document.$attributes()["$[]"](w))&&(Q.caption=""+E+" "+(Q.numeral=Q.document.$increment_and_store_counter(""+j+"-number",Q))+". "),Ae},-2),I(z,"$assign_numeral",function(ie){var j,Q=this,T=Ae,E=Ae,w=Ae;return Q.next_section_index=Ce((j=[Q.next_section_index],oe(ie,"index=",j),j[j.length-1]),1),g(T=ie.$numbered())&&(R(E=ie.$sectname(),"appendix")?(ie["$numeral="](Q.document.$counter("appendix-number","A")),ie["$caption="](g(w=Q.document.$attributes()["$[]"]("appendix-caption"))?""+w+" "+ie.$numeral()+": ":""+ie.$numeral()+". ")):R(E,"chapter")||R(T,"chapter")?ie["$numeral="](Q.document.$counter("chapter-number",1).$to_s()):(ie["$numeral="](R(E,"part")?ke("Helpers").$int_to_roman(Q.next_section_ordinal):Q.next_section_ordinal.$to_s()),Q.next_section_ordinal=Ce(Q.next_section_ordinal,1))),Ae}),I(z,"$reindex_sections",function(){var ie=this;return ie.next_section_index=0,ie.next_section_ordinal=1,oe(ie.blocks,"each",[],function j(Q){var T=j.$$s==null?this:j.$$s;return Q==null&&(Q=Ae),R(Q.$context(),"section")?(T.$assign_numeral(Q),Q.$reindex_sections()):Ae},{$$s:ie})}),z.$protected(),I(z,"$find_by_internal",function ce(ie,j){var Q=ce.$$p||Ae,T=this,E=Ae,w=Ae,U=Ae,L=Ae,Y=Ae,S=Ae;if(ce.$$p=null,ie==null&&(ie=C([],{})),j==null&&(j=[]),(g(L=g(Y=ie["$[]"]("context"))?Ae:!0)||R(Y,T.context))&&(ge(U=ie["$[]"]("style"))||R(U,T.style))&&(ge(w=ie["$[]"]("role"))||g(T["$has_role?"](w)))&&(ge(E=ie["$[]"]("id"))||R(E,T.id)))if(Q!==Ae)if(g(S=e.yield1(Q,T)))switch(S){case"prune":return j["$<<"](T),g(E)&&T.$raise(et("StopIteration")),j;case"reject":return g(E)&&T.$raise(et("StopIteration")),j;case"stop":T.$raise(et("StopIteration"));break;default:j["$<<"](T),g(E)&&T.$raise(et("StopIteration"))}else g(E)&&T.$raise(et("StopIteration"));else j["$<<"](T),g(E)&&T.$raise(et("StopIteration"));switch(T.context){case"document":R(Y,"document")||(g(T["$header?"]())&&(g(L)||R(Y,"section"))&&oe(T.header,"find_by_internal",[ie,j],Q.$to_proc()),oe(T.blocks,"each",[],function(t){return t==null&&(t=Ae),R(Y,"section")&&ve(t.$context(),"section")?Ae:oe(t,"find_by_internal",[ie,j],Q.$to_proc())}));break;case"dlist":(g(L)||ve(Y,"section"))&&oe(T.blocks.$flatten(),"each",[],function(t){return t==null&&(t=Ae),g(t)?oe(t,"find_by_internal",[ie,j],Q.$to_proc()):Ae});break;case"table":g(ie["$[]"]("traverse_documents"))?(oe(T.$rows().$head(),"each",[],function(t){return t==null&&(t=Ae),oe(t,"each",[],function(v){return v==null&&(v=Ae),oe(v,"find_by_internal",[ie,j],Q.$to_proc())})}),R(Y,"inner_document")&&(ie=ie.$merge(C(["context"],{context:"document"}))),oe(Ce(T.$rows().$body(),T.$rows().$foot()),"each",[],function(t){return t==null&&(t=Ae),oe(t,"each",[],function(v){return v==null&&(v=Ae),oe(v,"find_by_internal",[ie,j],Q.$to_proc()),R(v.$style(),"asciidoc")?oe(v.$inner_document(),"find_by_internal",[ie,j],Q.$to_proc()):Ae})})):oe(Ce(Ce(T.$rows().$head(),T.$rows().$body()),T.$rows().$foot()),"each",[],function(t){return t==null&&(t=Ae),oe(t,"each",[],function(v){return v==null&&(v=Ae),oe(v,"find_by_internal",[ie,j],Q.$to_proc())})});break;default:oe(T.blocks,"each",[],function(t){return t==null&&(t=Ae),R(Y,"section")&&ve(t.$context(),"section")?Ae:oe(t,"find_by_internal",[ie,j],Q.$to_proc())})}return j},-1)}(y[0],Je("AbstractNode"),y)}(st[0],st)},Opal.modules["asciidoctor/attribute_list"]=function(e){"use strict";var H=e.module,P=e.klass,C=e.const_set,K=e.hash,c=e.regexp,R=e.hash2,we=e.def,I=e.truthy,ue=e.rb_plus,g=e.send,Ke=e.defs,oe=e.eqeqeq,Ce=e.eqeq,ge=e.rb_times,ve=[],st=e.nil,Ae=e.$$$;return e.add_stubs("new,[],update,parse,parse_attribute,eos?,skip_delimiter,+,rekey,each_with_index,[]=,private,skip_blank,===,peek,parse_attribute_value,get_byte,start_with?,scan_name,end_with?,rstrip,string,==,unscan,scan_to_delimiter,*,include?,delete,each,split,empty?,apply_subs,scan_to_quote,gsub,skip,scan"),function(et,Ye){var Ue=H(et,"Asciidoctor"),Qe=[Ue].concat(Ye);return function(y,Je,p){var Ve=P(y,Je,"AttributeList"),rt=[Ve].concat(p),z=e.$r(rt),x=Ve.$$prototype;return x.attributes=x.scanner=x.delimiter=x.block=x.delimiter_skip_pattern=x.delimiter_boundary_pattern=st,C(rt[0],"APOS","'"),C(rt[0],"BACKSLASH","\\"),C(rt[0],"QUOT",'"'),C(rt[0],"BoundaryRx",K(z("QUOT"),/.*?[^\\](?=")/,z("APOS"),/.*?[^\\](?=')/,",",/.*?(?=[ \t]*(,|$))/)),C(rt[0],"EscapedQuotes",K(z("QUOT"),'\\"',z("APOS"),"\\'")),C(rt[0],"NameRx",c([z("CG_WORD"),"[",z("CC_WORD"),"\\-.]*"])),C(rt[0],"BlankRx",/[ \t]+/),C(rt[0],"SkipRx",R([","],{",":/[ \t]*(,|$)/})),we(Ve,"$initialize",function(ee,ce,ie){var j=this;return ce==null&&(ce=st),ie==null&&(ie=","),j.scanner=Ae("StringScanner").$new(ee),j.block=ce,j.delimiter=ie,j.delimiter_skip_pattern=z("SkipRx")["$[]"](ie),j.delimiter_boundary_pattern=z("BoundaryRx")["$[]"](ie),j.attributes=st},-2),we(Ve,"$parse_into",function(ee,ce){var ie=this;return ce==null&&(ce=[]),ee.$update(ie.$parse(ce))},-2),we(Ve,"$parse",function(ee){var ce=this,ie=st;if(ee==null&&(ee=[]),I(ce.attributes))return ce.attributes;for(ce.attributes=R([],{}),ie=0;I(ce.$parse_attribute(ie,ee))&&!I(ce.scanner["$eos?"]());)ce.$skip_delimiter(),ie=ue(ie,1);return ce.attributes},-1),we(Ve,"$rekey",function(ee){var ce=this;return z("AttributeList").$rekey(ce.attributes,ee)}),Ke(Ve,"$rekey",function(ee,ce){return g(ce,"each_with_index",[],function(j,Q){var T,E=st;return j==null&&(j=st),Q==null&&(Q=st),I(j)&&I(E=ee["$[]"](ue(Q,1)))?(T=[j,E],g(ee,"[]=",T),T[T.length-1]):st}),ee}),Ve.$private(),we(Ve,"$parse_attribute",function(ee,ce){var ie=this,j=st,Q=st,T=st,E=st,w=st,U=st,L=st,Y=st,S=st,u=st;if(j=!0,ie.$skip_blank(),oe(z("QUOT"),Q=ie.scanner.$peek(1)))T=ie.$parse_attribute_value(ie.scanner.$get_byte());else if(oe(z("APOS"),Q))T=ie.$parse_attribute_value(ie.scanner.$get_byte()),I(T["$start_with?"](z("APOS")))||(E=!0);else if(w=I(U=I(L=T=ie.$scan_name())?ie.$skip_blank():L)?U:0,I(ie.scanner["$eos?"]())){if(!(I(T)||I(ie.scanner.$string().$rstrip()["$end_with?"](ie.delimiter))))return st;j=st}else if(Ce(Y=ie.scanner.$get_byte(),ie.delimiter))ie.scanner.$unscan();else if(I(T))if(Ce(Y,"=")){if(ie.$skip_blank(),oe(z("QUOT"),U=Y=ie.scanner.$get_byte()))S=ie.$parse_attribute_value(Y);else if(oe(z("APOS"),U))S=ie.$parse_attribute_value(Y),I(S["$start_with?"](z("APOS")))||(E=!0);else if(oe(ie.delimiter,U))S="",ie.scanner.$unscan();else if(oe(st,U))S="";else if(S=""+Y+ie.$scan_to_delimiter(),Ce(S,"None"))return!0}else T=""+T+ge(" ",w)+Y+ie.$scan_to_delimiter();else T=""+Y+ie.$scan_to_delimiter();if(I(S))switch(T){case"options":case"opts":I(S["$include?"](","))?(I(S["$include?"](" "))&&(S=S.$delete(" ")),g(S.$split(","),"each",[],function t(a){var v,_=t.$$s==null?this:t.$$s;return _.attributes==null&&(_.attributes=st),a==null&&(a=st),I(a["$empty?"]())?st:(v=[""+a+"-option",""],g(_.attributes,"[]=",v),v[v.length-1])},{$$s:ie})):I(S["$empty?"]())||ie.attributes["$[]="](""+S+"-option","");break;default:if(I(E)&&I(ie.block))switch(T){case"title":case"reftext":ie.attributes["$[]="](T,S);break;default:ie.attributes["$[]="](T,ie.block.$apply_subs(S))}else ie.attributes["$[]="](T,S)}else I(E)&&I(ie.block)&&(T=ie.block.$apply_subs(T)),I(u=ce["$[]"](ee))&&I(T)&&ie.attributes["$[]="](u,T),ie.attributes["$[]="](ue(ee,1),T);return j}),we(Ve,"$parse_attribute_value",function(ee){var ce=this,ie=st;return Ce(ce.scanner.$peek(1),ee)?(ce.scanner.$get_byte(),""):I(ie=ce.$scan_to_quote(ee))?(ce.scanner.$get_byte(),I(ie["$include?"](z("BACKSLASH")))?ie.$gsub(z("EscapedQuotes")["$[]"](ee),ee):ie):""+ee+ce.$scan_to_delimiter()}),we(Ve,"$skip_blank",function(){var ee=this;return ee.scanner.$skip(z("BlankRx"))}),we(Ve,"$skip_delimiter",function(){var ee=this;return ee.scanner.$skip(ee.delimiter_skip_pattern)}),we(Ve,"$scan_name",function(){var ee=this;return ee.scanner.$scan(z("NameRx"))}),we(Ve,"$scan_to_delimiter",function(){var ee=this;return ee.scanner.$scan(ee.delimiter_boundary_pattern)}),we(Ve,"$scan_to_quote",function(ee){var ce=this;return ce.scanner.$scan(z("BoundaryRx")["$[]"](ee))})}(Qe[0],null,Qe)}(ve[0],ve)},Opal.modules["asciidoctor/block"]=function(e){"use strict";var H=e.module,P=e.klass,C=e.const_set,K=e.hash2,c=e.alias,R=e.send2,we=e.find_super,I=e.truthy,ue=e.eqeqeq,g=e.def,Ke=e.rb_lt,oe=e.eqeq,Ce=[],ge=e.nil,ve=e.$$$;return e.add_stubs("default=,context,attr_accessor,[],key?,===,drop,delete,[]=,to_s,commit_subs,nil_or_empty?,prepare_source_string,apply_subs,join,<,size,empty?,rstrip,shift,pop,==,warn,logger,class,object_id,inspect"),function(st,Ae){var et=H(st,"Asciidoctor"),Ye=[et].concat(Ae),Ue=e.$r(Ye);return function(Qe,y,Je){var p=P(Qe,y,"Block"),Ve=[p].concat(Je),rt=e.$r(Ve),z=p.$$prototype;return z.attributes=z.content_model=z.lines=z.subs=z.blocks=z.context=z.style=ge,C(Ve[0],"DEFAULT_CONTENT_MODEL",K(["audio","image","listing","literal","stem","open","page_break","pass","thematic_break","video"],{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"}))["$default="]("simple"),c(p,"blockname","context"),p.$attr_accessor("lines"),g(p,"$initialize",function x(ke,ee,ce){var ie=x.$$p||ge,j=this,Q=ge,T=ge,E=ge;return x.$$p=null,ce==null&&(ce=K([],{})),R(j,we(j,"initialize",x,!1,!0),"initialize",[ke,ee,ce],ie),j.content_model=I(Q=ce["$[]"]("content_model"))?Q:rt("DEFAULT_CONTENT_MODEL")["$[]"](ee),I(ce["$key?"]("subs"))?I(T=ce["$[]"]("subs"))?(ue("default",Q=T)?j.default_subs=ce["$[]"]("default_subs"):ue(ve("Array"),Q)?(j.default_subs=T.$drop(0),j.attributes.$delete("subs")):(j.default_subs=ge,j.attributes["$[]="]("subs",T.$to_s())),j.$commit_subs()):(j.default_subs=[],j.attributes.$delete("subs")):j.default_subs=ge,I((E=ce["$[]"]("source"))["$nil_or_empty?"]())?j.lines=[]:ue(ve("String"),E)?j.lines=rt("Helpers").$prepare_source_string(E):j.lines=E.$drop(0)},-3),g(p,"$content",function x(){var ke=x.$$p||ge,ee=this,ce=ge,ie=ge,j=ge,Q=ge;switch(x.$$p=null,ee.content_model){case"compound":return R(ee,we(ee,"content",x,!1,!0),"content",[],ke);case"simple":return ee.$apply_subs(ee.lines.$join(rt("LF")),ee.subs);case"verbatim":case"raw":if(ce=ee.$apply_subs(ee.lines,ee.subs),I(Ke(ce.$size(),2)))return I(ie=ce["$[]"](0))?ie:"";for(;I(I(ie=j=ce["$[]"](0))?j.$rstrip()["$empty?"]():ie);)ce.$shift();for(;I(I(ie=Q=ce["$[]"](-1))?Q.$rstrip()["$empty?"]():ie);)ce.$pop();return ce.$join(rt("LF"));break;default:return oe(ee.content_model,"empty")||ee.$logger().$warn("unknown content model '"+ee.content_model+"' for block: "+ee),ge}}),g(p,"$source",function(){var ke=this;return ke.lines.$join(rt("LF"))}),g(p,"$to_s",function(){var ke=this,ee=ge;return ee=oe(ke.content_model,"compound")?"blocks: "+ke.blocks.$size():"lines: "+ke.lines.$size(),"#<"+ke.$class()+"@"+ke.$object_id()+" {context: "+ke.context.$inspect()+", content_model: "+ke.content_model.$inspect()+", style: "+ke.style.$inspect()+", "+ee+"}>"})}(Ye[0],Ue("AbstractBlock"),Ye)}(Ce[0],Ce)},Opal.modules["asciidoctor/callouts"]=function(e){"use strict";var H=e.module,P=e.klass,C=e.def,K=e.hash2,c=e.rb_plus,R=e.truthy,we=e.rb_le,I=e.rb_minus,ue=e.send,g=e.eqeq,Ke=e.rb_lt,oe=[],Ce=e.nil;return e.add_stubs("next_list,<<,current_list,to_i,generate_next_callout_id,+,<=,size,[],-,chop,join,map,==,<,private,generate_callout_id"),function(ge,ve){var st=H(ge,"Asciidoctor"),Ae=[st].concat(ve);return function(et,Ye){var Ue=P(et,Ye,"Callouts"),Qe=Ue.$$prototype;return Qe.co_index=Qe.lists=Qe.list_index=Ce,C(Ue,"$initialize",function(){var Je=this;return Je.lists=[],Je.list_index=0,Je.$next_list()}),C(Ue,"$register",function(Je){var p=this,Ve=Ce;return p.$current_list()["$<<"](K(["ordinal","id"],{ordinal:Je.$to_i(),id:Ve=p.$generate_next_callout_id()})),p.co_index=c(p.co_index,1),Ve}),C(Ue,"$read_next_id",function(){var Je=this,p=Ce,Ve=Ce;return p=Ce,Ve=Je.$current_list(),R(we(Je.co_index,Ve.$size()))&&(p=Ve["$[]"](I(Je.co_index,1))["$[]"]("id")),Je.co_index=c(Je.co_index,1),p}),C(Ue,"$callout_ids",function(Je){var p=this;return ue(p.$current_list(),"map",[],function(rt){return rt==null&&(rt=Ce),g(rt["$[]"]("ordinal"),Je)?""+rt["$[]"]("id")+" ":""}).$join().$chop()}),C(Ue,"$current_list",function(){var Je=this;return Je.lists["$[]"](I(Je.list_index,1))}),C(Ue,"$next_list",function(){var Je=this;return Je.list_index=c(Je.list_index,1),R(Ke(Je.lists.$size(),Je.list_index))&&Je.lists["$<<"]([]),Je.co_index=1,Ce}),C(Ue,"$rewind",function(){var Je=this;return Je.list_index=1,Je.co_index=1,Ce}),Ue.$private(),C(Ue,"$generate_next_callout_id",function(){var Je=this;return Je.$generate_callout_id(Je.list_index,Je.co_index)}),C(Ue,"$generate_callout_id",function(Je,p){return"CO"+Je+"-"+p})}(Ae[0],null)}(oe[0],oe)},Opal.modules["asciidoctor/converter/composite"]=function(e){"use strict";var H=e.module,P=e.klass,C=e.slice,K=e.extract_kwargs,c=e.ensure_kwargs,R=e.send,we=e.truthy,I=e.def,ue=e.thrower,g=[],Ke=e.nil,oe=e.$$$;return e.add_stubs("attr_reader,each,respond_to?,composed,init_backend_traits,backend_traits,new,[]=,find_converter,convert,converter_for,node_name,[],handles?,raise"),function(Ce,ge){var ve=H(Ce,"Asciidoctor"),st=[ve].concat(ge),Ae=e.$r(st);return function(et,Ye){var Ue=P(et,Ye,"CompositeConverter"),Qe=Ue.$$prototype;return Qe.converter_cache=Qe.converters=Ke,Ue.$attr_reader("converters"),I(Ue,"$initialize",function(Je,p,Ve){var rt,z,x,ke,ee=this;return rt=C(arguments,1),z=K(rt),z=c(z),x=rt,ke=z.$$smap.backend_traits_source,ke==null&&(ke=Ke),ee.backend=Je,R(ee.converters=x,"each",[],function ce(ie){var j=ce.$$s==null?this:ce.$$s;return ie==null&&(ie=Ke),we(ie["$respond_to?"]("composed"))?ie.$composed(j):Ke},{$$s:ee}),we(ke)&&ee.$init_backend_traits(ke.$backend_traits()),ee.converter_cache=R(oe("Hash"),"new",[],function ce(ie,j){var Q,T=ce.$$s==null?this:ce.$$s;return ie==null&&(ie=Ke),j==null&&(j=Ke),Q=[j,T.$find_converter(j)],R(ie,"[]=",Q),Q[Q.length-1]},{$$s:ee})},-2),I(Ue,"$convert",function(Je,p,Ve){var rt=this,z=Ke;return p==null&&(p=Ke),Ve==null&&(Ve=Ke),rt.$converter_for(p=we(z=p)?z:Je.$node_name()).$convert(Je,p,Ve)},-2),I(Ue,"$converter_for",function(Je){var p=this;return p.converter_cache["$[]"](Je)}),I(Ue,"$find_converter",function(Je){try{var p=ue("return"),Ve=this;return R(Ve.converters,"each",[],function(z){if(z==null&&(z=Ke),we(z["$handles?"](Je)))p.$throw(z);else return Ke},{$$ret:p}),Ve.$raise("Could not find a converter to handle transform: "+Je)}catch(rt){if(rt===p)return rt.$v;throw rt}})}(Ae("Converter"),oe(Ae("Converter"),"Base"))}(g[0],g)},Opal.modules["asciidoctor/converter"]=function(e){"use strict";var H=e.module,P=e.hash2,C=e.def,K=e.return_val,c=e.truthy,R=e.eqeq,we=e.defs,I=e.send,ue=e.alias,g=e.slice,Ke=e.to_a,oe=e.extract_kwargs,Ce=e.ensure_kwargs,ge=e.eqeqeq,ve=e.Class,st=e.klass,Ae=e.class_variable_set,et=e.class_variable_get,Ye=e.rb_plus,Ue=e.gvars,Qe=[],y=e.nil,Je=e.$$$;return e.add_stubs("autoload,attr_reader,raise,class,[],sub,slice,length,==,[]=,backend_traits,derive_backend_traits,register,map,to_s,new,create,default,each,default=,registry,for,===,supports_templates?,merge,private,include,delete,clear,send,extend,private_class_method,node_name,+,name,receiver,warn,logger,respond_to?,content"),function(p,Ve){var rt=H(p,"Asciidoctor"),z=[rt].concat(Ve);return function(x,ke){var ee=H(x,"Converter"),ce=[ee].concat(ke),ie=e.$r(ce);return ee.$autoload("CompositeConverter","asciidoctor/converter/composite"),ee.$attr_reader("backend"),C(ee,"$initialize",function(Q,T){var E=this;return T==null&&(T=P([],{})),E.backend=Q},-2),C(ee,"$convert",function(Q,T,E){var w=this;return w.backend==null&&(w.backend=y),T==null&&(T=y),E==null&&(E=y),w.$raise(Je("NotImplementedError"),""+w.$class()+" (backend: "+w.backend+") must implement the #convert method")},-2),C(ee,"$handles?",K(!0)),we(ee,"$derive_backend_traits",function(Q,T){var E=y,w=y,U=y;return T==null&&(T=y),c(Q)?(c(E=ie("DEFAULT_EXTENSIONS")["$[]"](T=c(w=T)?w:Q.$sub(ie("TrailingDigitsRx"),"")))?U=E.$slice(1,E.$length()):E="."+(U=T),R(U,"html")?P(["basebackend","filetype","htmlsyntax","outfilesuffix"],{basebackend:T,filetype:U,htmlsyntax:"html",outfilesuffix:E}):P(["basebackend","filetype","outfilesuffix"],{basebackend:T,filetype:U,outfilesuffix:E})):P([],{})},-2),function(j,Q){var T=H(j,"BackendTraits"),E=[T].concat(Q),w=e.$r(E);return C(T,"$basebackend",function(L){var Y,S=this;return L==null&&(L=y),c(L)?(Y=["basebackend",L],I(S.$backend_traits(L),"[]=",Y),Y[Y.length-1]):S.$backend_traits()["$[]"]("basebackend")},-1),C(T,"$filetype",function(L){var Y,S=this;return L==null&&(L=y),c(L)?(Y=["filetype",L],I(S.$backend_traits(),"[]=",Y),Y[Y.length-1]):S.$backend_traits()["$[]"]("filetype")},-1),C(T,"$htmlsyntax",function(L){var Y,S=this;return L==null&&(L=y),c(L)?(Y=["htmlsyntax",L],I(S.$backend_traits(),"[]=",Y),Y[Y.length-1]):S.$backend_traits()["$[]"]("htmlsyntax")},-1),C(T,"$outfilesuffix",function(L){var Y,S=this;return L==null&&(L=y),c(L)?(Y=["outfilesuffix",L],I(S.$backend_traits(),"[]=",Y),Y[Y.length-1]):S.$backend_traits()["$[]"]("outfilesuffix")},-1),C(T,"$supports_templates",function(L){var Y,S=this;return L==null&&(L=!0),Y=["supports_templates",L],I(S.$backend_traits(),"[]=",Y),Y[Y.length-1]},-1),C(T,"$supports_templates?",function(){var L=this;return L.$backend_traits()["$[]"]("supports_templates")}),C(T,"$init_backend_traits",function(L){var Y=this,S=y;return L==null&&(L=y),Y.backend_traits=c(S=L)?S:P([],{})},-1),C(T,"$backend_traits",function(L){var Y=this,S=y;return Y.backend_traits==null&&(Y.backend_traits=y),Y.backend==null&&(Y.backend=y),L==null&&(L=y),Y.backend_traits=c(S=Y.backend_traits)?S:w("Converter").$derive_backend_traits(Y.backend,L)},-1),ue(T,"backend_info","backend_traits"),we(T,"$derive_backend_traits",function(L,Y){return Y==null&&(Y=y),w("Converter").$derive_backend_traits(L,Y)},-2)}(ce[0],ce),function(j,Q){var T=H(j,"Config"),E=[T].concat(Q),w=e.$r(E);return C(T,"$register_for",function(L){var Y,S,u=this;return Y=g(arguments),S=Y,I(w("Converter"),"register",[u].concat(Ke(I(S,"map",[],function(a){return a==null&&(a=y),a.$to_s()}))))},-1)}(ce[0],ce),function(j,Q){var T=H(j,"Factory"),E=[T].concat(Q),w=e.$r(E);return we(T,"$new",function(L,Y){var S,u,t,a;return S=g(arguments),u=oe(S),u=Ce(u),S.length>0&&(t=S.shift()),t==null&&(t=y),a=u.$$smap.proxy_default,a==null&&(a=!0),c(a)?w("DefaultFactoryProxy").$new(t):w("CustomFactory").$new(t)},-1),we(T,"$default",function(L){var Y,S;return Y=g(arguments),S=Y,w("Converter")},-1),we(T,"$create",function(L,Y){var S=this;return Y==null&&(Y=P([],{})),S.$default().$create(L,Y)},-2),C(T,"$register",function(L,Y){var S,u,t=this;return S=g(arguments,1),u=S,I(u,"each",[],function a(v){var _,l=a.$$s==null?this:a.$$s;return v==null&&(v=y),R(v,"*")?(_=[L],I(l.$registry(),"default=",_),_[_.length-1]):(_=[v,L],I(l.$registry(),"[]=",_),_[_.length-1])},{$$s:t})},-2),C(T,"$for",function(L){var Y=this;return Y.$registry()["$[]"](L)}),C(T,"$create",function(L,Y){var S=this,u=y,t=y,a=y;return Y==null&&(Y=P([],{})),c(u=S.$for(L))?(ge(ve,u)&&(u=u.$new(L,Y)),c(t=Y["$[]"]("template_dirs"))&&ge(w("BackendTraits"),u)&&c(u["$supports_templates?"]())?w("CompositeConverter").$new(L,w("TemplateConverter").$new(L,t,Y),u,P(["backend_traits_source"],{backend_traits_source:u})):u):c(t=Y["$[]"]("template_dirs"))?c(a=Y["$[]"]("delegate_backend"))&&c(u=S.$for(a))?(ge(ve,u)&&(u=u.$new(a,Y)),w("CompositeConverter").$new(L,w("TemplateConverter").$new(L,t,Y),u,P(["backend_traits_source"],{backend_traits_source:u}))):w("TemplateConverter").$new(L,t,Y):y},-2),C(T,"$converters",function(){var L=this;return L.$registry().$merge()}),T.$private(),C(T,"$registry",function(){var L=this;return L.$raise(Je("NotImplementedError"),""+w("Factory")+" subclass "+L.$class()+" must implement the #registry method")})}(ce[0],ce),function(j,Q,T){var E=st(j,Q,"CustomFactory"),w=[E].concat(T),U=e.$r(w);return E.$include(U("Factory")),C(E,"$initialize",function(Y){var S=this;return Y==null&&(Y=y),c(Y)?(Y["$default="](Y.$delete("*")),S.registry=Y):S.registry=P([],{})},-1),C(E,"$unregister_all",function(){var Y,S=this;return Y=[y],I(S.$registry().$clear(),"default=",Y),Y[Y.length-1]}),E.$private(),E.$attr_reader("registry")}(ce[0],null,ce),function(j,Q){var T=H(j,"DefaultFactory"),E=[T].concat(Q),w=e.$r(E);return T.$include(w("Factory")),T.$private(),Ae(E[0],"@@registry",P([],{})),C(T,"$registry",function(){return et(E[0],"@@registry",!1)}),y}(ce[0],ce),function(j,Q,T){var E=st(j,Q,"DefaultFactoryProxy"),w=[E].concat(T),U=e.$r(w);return E.$include(U("DefaultFactory")),y}(ce[0],ie("CustomFactory"),ce),we(ee,"$included",function(Q){return Q.$send("include",ie("BackendTraits")),Q.$extend(ie("Config"))}),ee.$private_class_method("included"),function(j,Q,T){var E=st(j,Q,"Base"),w=[E].concat(T),U=e.$r(w),L=E.$$prototype;return L.backend=y,E.$include(U("Logging")),E.$include(U("Converter")),C(E,"$convert",function(S,u,t){var a=this,v=y;Ue["!"]==null&&(Ue["!"]=y),u==null&&(u=S.$node_name()),t==null&&(t=y);try{return c(t)?a.$send(Ye("convert_",u),S,t):a.$send(Ye("convert_",u),S)}catch(_){if(e.rescue(_,[U("StandardError")]))try{return ge(Je("NoMethodError"),v=Ue["!"])&&R(v.$receiver(),a)&&R(v.$name().$to_s(),u)||a.$raise(),a.$logger().$warn("missing convert handler for "+v.$name()+" node in "+a.backend+" backend ("+a.$class()+")"),y}finally{e.pop_exception()}else throw _}},-2),C(E,"$handles?",function(S){var u=this;return u["$respond_to?"]("convert_"+S)}),C(E,"$content_only",function(S){return S.$content()}),C(E,"$skip",K(y))}(ce[0],null,ce),ee.$extend(ie("DefaultFactory"))}(z[0],z)}(Qe[0],Qe)},Opal.modules["asciidoctor/document"]=function(e){"use strict";var H=e.module,P=e.klass,C=e.const_set,K=e.send,c=e.alias,R=e.truthy,we=e.def,I=e.hash2,ue=e.not,g=e.to_ary,Ke=e.return_ivar,oe=e.send2,Ce=e.find_super,ge=e.rb_minus,ve=e.eqeq,st=e.eqeqeq,Ae=e.hash,et=e.rb_ge,Ye=e.rb_plus,Ue=e.neqeq,Qe=e.thrower,y=e.rb_gt,Je=e.rb_lt,p=e.gvars,Ve=e.to_a,rt=[],z=e.nil,x=e.$$$;return e.add_stubs("new,target,attr_reader,nil?,<<,[],[]=,main,include?,strip,squeeze,gsub,!,empty?,rpartition,attr_accessor,catalog,delete,base_dir,options,merge,instance_variable_get,attributes,safe,compat_mode,outfilesuffix,sourcemap,path_resolver,converter,extensions,syntax_highlighter,each,end_with?,start_with?,slice,-,length,chop,==,downcase,===,extname,value_for_name,key?,freeze,attribute_undefined,attribute_missing,update,&,keys,name_for_value,expand_path,pwd,to_s,>=,+,abs,to_i,delete_if,update_doctype_attributes,cursor,parse,restore_attributes,update_backend_attributes,fetch,fill_datetime_attributes,activate,groups,create,to_proc,preprocessors?,preprocessors,process_method,tree_processors?,tree_processors,!=,counter,nil_or_empty?,attribute_locked?,nextval,value,save_to,increment_and_store_counter,register,tap,xreftext,>,source,source_lines,doctitle,sectname=,title=,first_section,title,reftext,<,find,context,header?,assign_numeral,clear_playback_attributes,save_attributes,name,negate,rewind,replace,apply_attribute_value_subs,delete?,start,doctype,content_model,warn,logger,content,convert,postprocessors?,postprocessors,record,write,respond_to?,chomp,class,write_alternate_pages,map,split,resolve_docinfo_subs,normalize_system_path,read_asset,apply_subs,docinfo_processors?,join,concat,compact,docinfo_processors,object_id,inspect,size,private,=~,resolve_pass_subs,apply_header_subs,limit_bytesize,bytesize,valid_encoding?,byteslice,resolve_subs,utc,at,Integer,now,index,strftime,year,utc_offset,partition,create_converter,basebackend,filetype,htmlsyntax,derive_backend_traits,raise"),function(ke,ee){var ce=H(ke,"Asciidoctor"),ie=[ce].concat(ee),j=e.$r(ie);return function(Q,T,E){var w=P(Q,T,"Document"),U=[w].concat(E),L=e.$r(U),Y=w.$$prototype;return Y.attributes=Y.safe=Y.sourcemap=Y.reader=Y.base_dir=Y.parsed=Y.parent_document=Y.extensions=Y.options=Y.counters=Y.catalog=Y.reftexts=Y.next_section_index=Y.header=Y.blocks=Y.header_attributes=Y.attributes_modified=Y.backend=Y.attribute_overrides=Y.timings=Y.converter=Y.outfilesuffix=Y.docinfo_processor_extensions=Y.document=Y.max_attribute_value_size=Y.id=Y.doctype=z,C(U[0],"ImageReference",K(x("Struct"),"new",["target","imagesdir"],function S(){var u=S.$$s==null?this:S.$$s;return c(u,"to_s","target")},{$$s:w})),C(U[0],"Footnote",x("Struct").$new("index","id","text")),function(S,u){var t=P(S,u,"AttributeEntry");return t.$attr_reader("name","value","negate"),we(t,"$initialize",function(v,_,l){var F=this;return l==null&&(l=z),F.name=v,F.value=_,F.negate=R(l["$nil?"]())?_["$nil?"]():l},-3),we(t,"$save_to",function(v){var _,l=this,F=z;return(R(F=v["$[]"]("attribute_entries"))?F:(_=["attribute_entries",[]],K(v,"[]=",_),_[_.length-1]))["$<<"](l),l})}(U[0],null),function(S,u,t){var a=P(S,u,"Title"),v=[a].concat(t),_=e.$r(v),l=a.$$prototype;return l.subtitle=z,a.$attr_reader("main"),c(a,"title","main"),a.$attr_reader("subtitle"),a.$attr_reader("combined"),we(a,"$initialize",function(A,M){var W,ne,O=this,He=z,Xe=z,it=z;return M==null&&(M=I([],{})),R(O.sanitized=M["$[]"]("sanitize"))&&R(A["$include?"]("<"))&&(A=A.$gsub(_("XmlSanitizeRx"),"").$squeeze(" ").$strip()),R((He=R(Xe=M["$[]"]("separator"))?Xe:":")["$empty?"]())||ue(A["$include?"](He=""+He+" "))?(O.main=A,O.subtitle=z):(ne=A.$rpartition(He),W=g(ne),O.main=W[0]==null?z:W[0],it=W[1]==null?z:W[1],O.subtitle=W[2]==null?z:W[2]),O.combined=A},-2),we(a,"$sanitized?",Ke("sanitized")),we(a,"$subtitle?",function(){var A=this;return!!R(A.subtitle)}),we(a,"$to_s",Ke("combined"))}(U[0],null,U),C(U[0],"Author",x("Struct").$new("name","firstname","middlename","lastname","initials","email")),w.$attr_reader("safe"),w.$attr_reader("compat_mode"),w.$attr_reader("backend"),w.$attr_reader("doctype"),w.$attr_accessor("sourcemap"),w.$attr_reader("catalog"),c(w,"references","catalog"),w.$attr_reader("counters"),w.$attr_reader("header"),w.$attr_reader("base_dir"),w.$attr_reader("options"),w.$attr_reader("outfilesuffix"),w.$attr_reader("parent_document"),w.$attr_reader("reader"),w.$attr_reader("path_resolver"),w.$attr_reader("converter"),w.$attr_reader("syntax_highlighter"),w.$attr_reader("extensions"),we(w,"$initialize",function S(u,t){var a,v,_,l,F,A=S.$$p||z,M=this,W=z,ne=z,O=z,He=z,Xe=z,it=z,nt=z,at=z,ct=z,ut=z,_t=z,ft=z,mt=z,yt=z,wt=z,kt=z,Rt=z,zt=z;return S.$$p=null,u==null&&(u=z),t==null&&(t=I([],{})),oe(M,Ce(M,"initialize",S,!1,!0),"initialize",[M,"document"],null),R(W=t.$delete("parent"))?(M.parent_document=W,R(ne=t["$[]"]("base_dir"))||t["$[]="]("base_dir",W.$base_dir()),R(W.$options()["$[]"]("catalog_assets"))&&t["$[]="]("catalog_assets",!0),R(W.$options()["$[]"]("to_dir"))&&t["$[]="]("to_dir",W.$options()["$[]"]("to_dir")),M.catalog=W.$catalog().$merge(I(["footnotes"],{footnotes:[]})),M.attribute_overrides=O=W.$instance_variable_get("@attribute_overrides").$merge(W.$attributes()),O.$delete("compat-mode"),He=O.$delete("doctype"),O.$delete("notitle"),O.$delete("showtitle"),O.$delete("toc"),M.attributes["$[]="]("toc-placement",R(ne=O.$delete("toc-placement"))?ne:"auto"),O.$delete("toc-position"),M.safe=W.$safe(),R(M.compat_mode=W.$compat_mode())&&M.attributes["$[]="]("compat-mode",""),M.outfilesuffix=W.$outfilesuffix(),M.sourcemap=W.$sourcemap(),M.timings=z,M.path_resolver=W.$path_resolver(),M.converter=W.$converter(),Xe=z,M.extensions=W.$extensions(),M.syntax_highlighter=W.$syntax_highlighter()):(M.parent_document=z,M.catalog=I(["ids","refs","footnotes","links","images","callouts","includes"],{ids:I([],{}),refs:I([],{}),footnotes:[],links:[],images:[],callouts:L("Callouts").$new(),includes:I([],{})}),M.attribute_overrides=O=I([],{}),K(R(ne=t["$[]"]("attributes"))?ne:I([],{}),"each",[],function(St,At){var qt;return St==null&&(St=z),At==null&&(At=z),R(St["$end_with?"]("@"))?R(St["$start_with?"]("!"))?(qt=[St.$slice(1,ge(St.$length(),2)),!1],St=qt[0],At=qt[1]):R(St["$end_with?"]("!@"))?(qt=[St.$slice(0,ge(St.$length(),2)),!1],St=qt[0],At=qt[1]):(qt=[St.$chop(),""+At+"@"],St=qt[0],At=qt[1]):R(St["$start_with?"]("!"))?(qt=[St.$slice(1,St.$length()),ve(At,"@")?!1:z],St=qt[0],At=qt[1]):R(St["$end_with?"]("!"))&&(qt=[St.$chop(),ve(At,"@")?!1:z],St=qt[0],At=qt[1]),qt=[St.$downcase(),At],K(O,"[]=",qt),qt[qt.length-1]}),st(x("String"),it=t["$[]"]("to_file"))&&O["$[]="]("outfilesuffix",L("Helpers").$extname(it)),ue(nt=t["$[]"]("safe"))?M.safe=x(L("SafeMode"),"SECURE"):st(x("Integer"),nt)?M.safe=nt:M.safe=function(){try{return L("SafeMode").$value_for_name(nt)}catch(Tt){if(e.rescue(Tt,[L("StandardError")]))try{return x(L("SafeMode"),"SECURE")}finally{e.pop_exception()}else throw Tt}}(),at=t.$delete("input_mtime"),M.compat_mode=O["$key?"]("compat-mode"),M.sourcemap=t["$[]"]("sourcemap"),M.timings=t.$delete("timings"),M.path_resolver=L("PathResolver").$new(),Xe=R((v=x("::","Asciidoctor","skip_raise"))&&(a=x(v,"Extensions","skip_raise"))?"constant":z)||R(t["$key?"]("extensions"))?x(x("Asciidoctor"),"Extensions"):z,M.extensions=z,R(t["$key?"]("header_footer"))&&ue(t["$key?"]("standalone"))&&t["$[]="]("standalone",t["$[]"]("header_footer"))),M.parsed=M.reftexts=M.header=M.header_attributes=z,M.counters=I([],{}),M.attributes_modified=x("Set").$new(),M.docinfo_processor_extensions=I([],{}),ct=t["$[]"]("standalone"),(M.options=t).$freeze(),ut=M.attributes,R(W)||(ut["$[]="]("attribute-undefined",L("Compliance").$attribute_undefined()),ut["$[]="]("attribute-missing",L("Compliance").$attribute_missing()),ut.$update(L("DEFAULT_ATTRIBUTES"))),R(ct)?(O["$[]="]("embedded",z),ut["$[]="]("copycss",""),ut["$[]="]("iconfont-remote",""),ut["$[]="]("stylesheet",""),ut["$[]="]("webfonts","")):(O["$[]="]("embedded",""),R(O["$key?"]("showtitle"))&&ve(O.$keys()["$&"](["notitle","showtitle"])["$[]"](-1),"showtitle")?O["$[]="]("notitle",Ae(z,"",!1,"@","@",!1)["$[]"](O["$[]"]("showtitle"))):R(O["$key?"]("notitle"))?O["$[]="]("showtitle",Ae(z,"",!1,"@","@",!1)["$[]"](O["$[]"]("notitle"))):ut["$[]="]("notitle","")),O["$[]="]("asciidoctor",""),O["$[]="]("asciidoctor-version",x(x("Asciidoctor"),"VERSION")),O["$[]="]("safe-mode-name",_t=L("SafeMode").$name_for_value(M.safe)),O["$[]="]("safe-mode-"+_t,""),O["$[]="]("safe-mode-level",M.safe),R(ne=O["$[]"]("max-include-depth"))||O["$[]="]("max-include-depth",64),R(ne=O["$[]"]("allow-uri-read"))||O["$[]="]("allow-uri-read",z),R(O["$key?"]("numbered"))&&O["$[]="]("sectnums",O.$delete("numbered")),R(O["$key?"]("hardbreaks"))&&O["$[]="]("hardbreaks-option",O.$delete("hardbreaks")),R(ft=t["$[]"]("base_dir"))?M.base_dir=(_=["docdir",x("File").$expand_path(ft)],K(O,"[]=",_),_[_.length-1]):R(O["$[]"]("docdir"))?M.base_dir=O["$[]"]("docdir"):M.base_dir=(_=["docdir",x("Dir").$pwd()],K(O,"[]=",_),_[_.length-1]),R(mt=t["$[]"]("backend"))&&O["$[]="]("backend",mt.$to_s()),R(yt=t["$[]"]("doctype"))&&O["$[]="]("doctype",yt.$to_s()),R(et(M.safe,x(L("SafeMode"),"SERVER")))?(R(ne=O["$[]"]("copycss"))||O["$[]="]("copycss",z),R(ne=O["$[]"]("source-highlighter"))||O["$[]="]("source-highlighter",z),R(ne=O["$[]"]("backend"))||O["$[]="]("backend",L("DEFAULT_BACKEND")),ue(W)&&R(O["$key?"]("docfile"))&&O["$[]="]("docfile",O["$[]"]("docfile")["$[]"](e.Range.$new(Ye(O["$[]"]("docdir").$length(),1),-1,!1))),O["$[]="]("docdir",""),R(ne=O["$[]"]("user-home"))||O["$[]="]("user-home","."),R(et(M.safe,x(L("SafeMode"),"SECURE")))&&(R(O["$key?"]("max-attribute-value-size"))||O["$[]="]("max-attribute-value-size",4096),R(O["$key?"]("linkcss"))||O["$[]="]("linkcss",""),R(ne=O["$[]"]("icons"))||O["$[]="]("icons",z))):R(ne=O["$[]"]("user-home"))||O["$[]="]("user-home",L("USER_HOME")),M.max_attribute_value_size=R(wt=R(ne=O["$[]"]("max-attribute-value-size"))?ne:(_=["max-attribute-value-size",z],K(O,"[]=",_),_[_.length-1]))?wt.$to_i().$abs():z,K(O,"delete_if",[],function(St,At){var qt,Bt=z;return St==null&&(St=z),At==null&&(At=z),R(At)?(st(x("String"),At)&&R(At["$end_with?"]("@"))&&(qt=[At.$chop(),!0],At=qt[0],Bt=qt[1]),ut["$[]="](St,At)):(ut.$delete(St),Bt=At["$=="](!1)),Bt}),R(W)?(M.backend=ut["$[]"]("backend"),ve(M.doctype=(_=["doctype",He],K(ut,"[]=",_),_[_.length-1]),L("DEFAULT_DOCTYPE"))||M.$update_doctype_attributes(L("DEFAULT_DOCTYPE")),M.reader=L("Reader").$new(u,t["$[]"]("cursor")),R(M.sourcemap)&&(M.source_location=M.reader.$cursor()),L("Parser").$parse(M.reader,M),M.$restore_attributes(),M.parsed=!0):(M.backend=z,ve(kt=R(ne=ut["$[]"]("backend"))?ne:L("DEFAULT_BACKEND"),"manpage")?M.doctype=(_=["doctype",(l=["doctype","manpage"],K(O,"[]=",l),l[l.length-1])],K(ut,"[]=",_),_[_.length-1]):M.doctype=R(ne=ut["$[]"]("doctype"))?ne:(_=["doctype",L("DEFAULT_DOCTYPE")],K(ut,"[]=",_),_[_.length-1]),M.$update_backend_attributes(kt,!0),R(ne=ut["$[]"]("stylesdir"))||ut["$[]="]("stylesdir","."),R(ne=ut["$[]"]("iconsdir"))||ut["$[]="]("iconsdir",""+ut.$fetch("imagesdir","./images")+"/icons"),M.$fill_datetime_attributes(ut,at),R(Xe)&&(R(Rt=t["$[]"]("extension_registry"))?(st(x(L("Extensions"),"Registry"),Rt)||R((F=x("::","AsciidoctorJ","skip_raise"))&&(l=x(F,"Extensions","skip_raise"))&&(_=x(l,"ExtensionRegistry","skip_raise"))?"constant":z)&&st(x(x(x("AsciidoctorJ"),"Extensions"),"ExtensionRegistry"),Rt))&&(M.extensions=Rt.$activate(M)):R((zt=t["$[]"]("extensions"))["$nil?"]())?R(L("Extensions").$groups()["$empty?"]())||(M.extensions=x(L("Extensions"),"Registry").$new().$activate(M)):st(x("Proc"),zt)&&(M.extensions=K(L("Extensions"),"create",[],zt.$to_proc()).$activate(M))),M.reader=L("PreprocessorReader").$new(M,u,x(L("Reader"),"Cursor").$new(ut["$[]"]("docfile"),M.base_dir),I(["normalize"],{normalize:!0})),R(M.sourcemap)?M.source_location=M.reader.$cursor():z)},-1),we(w,"$parse",function(u){var t=this,a=z,v=z;return u==null&&(u=z),R(t.parsed)?t:(a=t,R(u)&&(t.reader=L("PreprocessorReader").$new(a,u,x(L("Reader"),"Cursor").$new(t.attributes["$[]"]("docfile"),t.base_dir),I(["normalize"],{normalize:!0})),R(t.sourcemap)&&(t.source_location=t.reader.$cursor())),R(v=R(t.parent_document)?z:t.extensions)&&R(v["$preprocessors?"]())&&K(v.$preprocessors(),"each",[],function _(l){var F=_.$$s==null?this:_.$$s,A=z;return F.reader==null&&(F.reader=z),l==null&&(l=z),F.reader=R(A=l.$process_method()["$[]"](a,F.reader))?A:F.reader},{$$s:t}),L("Parser").$parse(t.reader,a,I(["header_only"],{header_only:t.options["$[]"]("parse_header_only")})),t.$restore_attributes(),R(v)&&R(v["$tree_processors?"]())&&K(v.$tree_processors(),"each",[],function(l){var F=z;return l==null&&(l=z),R(F=l.$process_method()["$[]"](a))&&st(L("Document"),F)&&Ue(F,a)?a=F:z}),t.parsed=!0,a)},-1),we(w,"$parsed?",Ke("parsed")),we(w,"$counter",function(u,t){var a,v=this,_=z,l=z,F=z;return t==null&&(t=z),R(v.parent_document)?v.parent_document.$counter(u,t):(R(l=v["$attribute_locked?"](u))&&R(_=v.counters["$[]"](u))||ue((_=v.attributes["$[]"](u))["$nil_or_empty?"]())?F=(a=[u,L("Helpers").$nextval(_)],K(v.counters,"[]=",a),a[a.length-1]):R(t)?F=(a=[u,ve(t,t.$to_i().$to_s())?t.$to_i():t],K(v.counters,"[]=",a),a[a.length-1]):F=(a=[u,1],K(v.counters,"[]=",a),a[a.length-1]),R(l)||v.attributes["$[]="](u,F),F)},-2),we(w,"$increment_and_store_counter",function(u,t){var a=this;return L("AttributeEntry").$new(u,a.$counter(u)).$save_to(t.$attributes()).$value()}),c(w,"counter_increment","increment_and_store_counter"),we(w,"$register",function(u,t){var a=this,v=z,_=z,l=z,F=z;switch(u){case"ids":return a.$register("refs",[v=t["$[]"](0),L("Inline").$new(a,"anchor",t["$[]"](1),I(["type","id"],{type:"ref",id:v}))]);case"refs":return _=a.catalog["$[]"]("refs"),R(l=_["$[]"](t["$[]"](0)))||_["$[]="](t["$[]"](0),F=t["$[]"](1)),F;case"footnotes":return a.catalog["$[]"](u)["$<<"](t);default:return R(a.options["$[]"]("catalog_assets"))?a.catalog["$[]"](u)["$<<"](ve(u,"images")?L("ImageReference").$new(t,a.attributes["$[]"]("imagesdir")):t):z}}),we(w,"$resolve_id",function(u){var t=this,a=z,v=z;return R(t.reftexts)?t.reftexts["$[]"](u):R(t.parsed)?K(t.reftexts=I([],{}),"tap",[],function _(l){var F=_.$$s==null?this:_.$$s;return F.catalog==null&&(F.catalog=z),l==null&&(l=z),K(F.catalog["$[]"]("refs"),"each",[],function(M,W){var ne,O=z;return M==null&&(M=z),W==null&&(W=z),R(O=l["$[]"](W.$xreftext()))?O:(ne=[W.$xreftext(),M],K(l,"[]=",ne),ne[ne.length-1])})},{$$s:t})["$[]"](u):(a=z,t.reftexts=v=I([],{}),function(){try{var _=Qe("break");return K(t.catalog["$[]"]("refs"),"each",[],function(F,A){var M,W=z,ne=z;return F==null&&(F=z),A==null&&(A=z),ve(W=A.$xreftext(),u)&&(a=F,_.$throw()),R(ne=v["$[]"](W))?ne:(M=[W,F],K(v,"[]=",M),M[M.length-1])})}catch(l){if(l===_)return l.$v;throw l}}(),t.reftexts=z,a)}),we(w,"$sections?",function(){var u=this;return y(u.next_section_index,0)}),we(w,"$footnotes?",function(){var u=this;return!R(u.catalog["$[]"]("footnotes")["$empty?"]())}),we(w,"$footnotes",function(){var u=this;return u.catalog["$[]"]("footnotes")}),we(w,"$callouts",function(){var u=this;return u.catalog["$[]"]("callouts")}),we(w,"$nested?",function(){var u=this;return!!R(u.parent_document)}),we(w,"$embedded?",function(){var u=this;return u.attributes["$key?"]("embedded")}),we(w,"$extensions?",function(){var u=this;return!!R(u.extensions)}),we(w,"$source",function(){var u=this;return R(u.reader)?u.reader.$source():z}),we(w,"$source_lines",function(){var u=this;return R(u.reader)?u.reader.$source_lines():z}),we(w,"$basebackend?",function(u){var t=this;return t.attributes["$[]"]("basebackend")["$=="](u)}),we(w,"$title",function(){var u=this;return u.$doctitle()}),we(w,"$title=",function(u){var t,a=this,v=z;return R(v=a.header)||(v=a.header=L("Section").$new(a,0))["$sectname="]("header"),t=[u],K(v,"title=",t),t[t.length-1]}),we(w,"$doctitle",function(u){var t=this,a=z,v=z,_=z,l=z;if(u==null&&(u=I([],{})),!R(a=t.attributes["$[]"]("title"))){if(R(v=t.$first_section()))a=v.$title();else if(ue(R(_=u["$[]"]("use_fallback"))?a=t.attributes["$[]"]("untitled-label"):_))return z}return R(l=u["$[]"]("partition"))?L("Title").$new(a,u.$merge(I(["separator"],{separator:ve(l,!0)?t.attributes["$[]"]("title-separator"):l}))):R(u["$[]"]("sanitize"))&&R(a["$include?"]("<"))?a.$gsub(L("XmlSanitizeRx"),"").$squeeze(" ").$strip():a},-1),c(w,"name","doctitle"),we(w,"$xreftext",function(u){var t=this,a=z;return u==null&&(u=z),R(a=t.$reftext())&&ue(a["$empty?"]())?a:t.$title()},-1),we(w,"$author",function(){var u=this;return u.attributes["$[]"]("author")}),we(w,"$authors",function(){var u=this,t=z,a=z,v=z,_=z,l=z;if(R((t=u.attributes)["$key?"]("author"))){if(a=[L("Author").$new(t["$[]"]("author"),t["$[]"]("firstname"),t["$[]"]("middlename"),t["$[]"]("lastname"),t["$[]"]("authorinitials"),t["$[]"]("email"))],R(y(v=R(_=t["$[]"]("authorcount"))?_:0,1)))for(l=1;R(Je(l,v));)l=Ye(l,1),a["$<<"](L("Author").$new(t["$[]"]("author_"+l),t["$[]"]("firstname_"+l),t["$[]"]("middlename_"+l),t["$[]"]("lastname_"+l),t["$[]"]("authorinitials_"+l),t["$[]"]("email_"+l)));return a}else return[]}),we(w,"$revdate",function(){var u=this;return u.attributes["$[]"]("revdate")}),we(w,"$notitle",function(){var u=this;return u.attributes["$key?"]("notitle")}),we(w,"$noheader",function(){var u=this;return u.attributes["$key?"]("noheader")}),we(w,"$nofooter",function(){var u=this;return u.attributes["$key?"]("nofooter")}),we(w,"$first_section",function(){var u=this,t=z;return R(t=u.header)?t:K(u.blocks,"find",[],function(v){return v==null&&(v=z),v.$context()["$=="]("section")})}),we(w,"$header?",function(){var u=this;return!!R(u.header)}),c(w,"has_header?","header?"),we(w,"$<<",function S(u){var t=S.$$p||z,a=this;return S.$$p=null,ve(u.$context(),"section")&&a.$assign_numeral(u),oe(a,Ce(a,"<<",S,!1,!0),"<<",[u],t)}),we(w,"$finalize_header",function(u,t){var a=this;return t==null&&(t=!0),a.$clear_playback_attributes(u),a.$save_attributes(),R(t)||u["$[]="]("invalid-header",!0),u},-2),we(w,"$playback_attributes",function(u){var t=this;return R(u["$key?"]("attribute_entries"))?K(u["$[]"]("attribute_entries"),"each",[],function a(v){var _=a.$$s==null?this:a.$$s,l=z;return _.attributes==null&&(_.attributes=z),v==null&&(v=z),l=v.$name(),R(v.$negate())?(_.attributes.$delete(l),ve(l,"compat-mode")?_.compat_mode=!1:z):(_.attributes["$[]="](l,v.$value()),ve(l,"compat-mode")?_.compat_mode=!0:z)},{$$s:t}):z}),we(w,"$restore_attributes",function(){var u=this;return R(u.parent_document)||u.catalog["$[]"]("callouts").$rewind(),u.attributes.$replace(u.header_attributes)}),we(w,"$set_attribute",function(u,t){var a=this,v=z;if(t==null&&(t=""),R(a["$attribute_locked?"](u)))return z;if(R(t["$empty?"]())||(t=a.$apply_attribute_value_subs(t)),R(a.header_attributes))a.attributes["$[]="](u,t);else{switch(u){case"backend":a.$update_backend_attributes(t,R(v=a.attributes_modified["$delete?"]("htmlsyntax"))?t["$=="](a.backend):v);break;case"doctype":a.$update_doctype_attributes(t);break;default:a.attributes["$[]="](u,t)}a.attributes_modified["$<<"](u)}return t},-2),we(w,"$delete_attribute",function(u){var t=this;return R(t["$attribute_locked?"](u))?!1:(t.attributes.$delete(u),t.attributes_modified["$<<"](u),!0)}),we(w,"$attribute_locked?",function(u){var t=this;return t.attribute_overrides["$key?"](u)}),we(w,"$set_header_attribute",function(u,t,a){var v=this,_=z,l=z;return t==null&&(t=""),a==null&&(a=!0),_=R(l=v.header_attributes)?l:v.attributes,ve(a,!1)&&R(_["$key?"](u))?!1:(_["$[]="](u,t),!0)},-2),we(w,"$convert",function(u){var t,a=this,v=z,_=z,l=z,F=z,A=z;return u==null&&(u=I([],{})),R(a.timings)&&a.timings.$start("convert"),R(a.parsed)||a.$parse(),R(et(a.safe,x(L("SafeMode"),"SERVER")))||R(u["$empty?"]())||(R((t=["outfile",u["$[]"]("outfile")],K(a.attributes,"[]=",t),t[t.length-1]))||a.attributes.$delete("outfile"),R((t=["outdir",u["$[]"]("outdir")],K(a.attributes,"[]=",t),t[t.length-1]))||a.attributes.$delete("outdir")),ve(a.$doctype(),"inline")?R(v=R(_=a.blocks["$[]"](0))?_:a.header)&&(ve(v.$content_model(),"compound")||ve(v.$content_model(),"empty")?a.$logger().$warn("no inline candidate; use the inline doctype to convert a single paragragh, verbatim, or raw block"):l=v.$content()):(R(u["$key?"]("standalone"))?F=R(u["$[]"]("standalone"))?"document":"embedded":R(u["$key?"]("header_footer"))?F=R(u["$[]"]("header_footer"))?"document":"embedded":F=R(a.options["$[]"]("standalone"))?"document":"embedded",l=a.converter.$convert(a,F)),R(a.parent_document)||R(A=a.extensions)&&R(A["$postprocessors?"]())&&K(A.$postprocessors(),"each",[],function M(W){var ne=M.$$s==null?this:M.$$s;return W==null&&(W=z),l=W.$process_method()["$[]"](ne,l)},{$$s:a}),R(a.timings)&&a.timings.$record("convert"),l},-1),c(w,"render","convert"),we(w,"$write",function(u,t){var a=this;return R(a.timings)&&a.timings.$start("write"),st(L("Writer"),a.converter)?a.converter.$write(u,t):(R(t["$respond_to?"]("write"))?R(u["$nil_or_empty?"]())||(t.$write(u.$chomp()),t.$write(L("LF"))):x("File").$write(t,u,I(["mode"],{mode:L("FILE_WRITE_MODE")})),ve(a.backend,"manpage")&&st(x("String"),t)&&R(a.converter.$class()["$respond_to?"]("write_alternate_pages"))&&a.converter.$class().$write_alternate_pages(a.attributes["$[]"]("mannames"),a.attributes["$[]"]("manvolnum"),t)),R(a.timings)&&a.timings.$record("write"),z}),we(w,"$content",function S(){var u=S.$$p||z,t=this;return S.$$p=null,t.attributes.$delete("title"),oe(t,Ce(t,"content",S,!1,!0),"content",[],u)}),we(w,"$docinfo",function(u,t){var a,v=this,_=z,l=z,F=z,A=z,M=z,W=z,ne=z,O=z,He=z,Xe=z;return u==null&&(u="head"),t==null&&(t=z),R(Je(v.$safe(),x(L("SafeMode"),"SECURE")))&&(ve(u,"head")||(_="-"+u),t=R(l=t)?l:v.outfilesuffix,R((F=v.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())?R(v.attributes["$key?"]("docinfo2"))?F=["private","shared"]:R(v.attributes["$key?"]("docinfo1"))?F=["shared"]:F=R(F)?["private"]:z:F=K(F.$split(","),"map",[],function(nt){return nt==null&&(nt=z),nt.$strip()}),R(F)&&(A=[],a=["docinfo"+_+t,v.attributes["$[]"]("docinfodir"),v.$resolve_docinfo_subs()],M=a[0],W=a[1],ne=a[2],R(F["$&"](["shared","shared-"+u])["$empty?"]())||(O=v.$normalize_system_path(M,W),R(He=v.$read_asset(O,I(["normalize"],{normalize:!0})))&&A["$<<"](v.$apply_subs(He,ne))),R(v.attributes["$[]"]("docname")["$nil_or_empty?"]())||R(F["$&"](["private","private-"+u])["$empty?"]())||(O=v.$normalize_system_path(""+v.attributes["$[]"]("docname")+"-"+M,W),R(Xe=v.$read_asset(O,I(["normalize"],{normalize:!0})))&&A["$<<"](v.$apply_subs(Xe,ne))))),R(v.extensions)&&R(v["$docinfo_processors?"](u))?(R(l=A)?l:[]).$concat(K(v.docinfo_processor_extensions["$[]"](u),"map",[],function it(nt){var at=it.$$s==null?this:it.$$s;return nt==null&&(nt=z),nt.$process_method()["$[]"](at)},{$$s:v}).$compact()).$join(L("LF")):R(A)?A.$join(L("LF")):""},-1),we(w,"$docinfo_processors?",function(u){var t,a=this;return u==null&&(u="head"),R(a.docinfo_processor_extensions["$key?"](u))?a.docinfo_processor_extensions["$[]"](u)["$!="](!1):R(a.extensions)&&R(a.document.$extensions()["$docinfo_processors?"](u))?(t=[u,a.document.$extensions().$docinfo_processors(u)],K(a.docinfo_processor_extensions,"[]=",t),t[t.length-1])["$!"]()["$!"]():(t=[u,!1],K(a.docinfo_processor_extensions,"[]=",t),t[t.length-1])},-1),we(w,"$to_s",function(){var u=this,t=z;return"#<"+u.$class()+"@"+u.$object_id()+" {doctype: "+u.$doctype().$inspect()+", doctitle: "+(R(t=u.header)?u.header.$title():t).$inspect()+", blocks: "+u.blocks.$size()+"}>"}),w.$private(),we(w,"$apply_attribute_value_subs",function(u){var t,a=this;return R(L("AttributeEntryPassMacroRx")["$=~"](u))?(u=(t=p["~"])===z?z:t["$[]"](2),R((t=p["~"])===z?z:t["$[]"](1))&&(u=a.$apply_subs(u,a.$resolve_pass_subs((t=p["~"])===z?z:t["$[]"](1))))):u=a.$apply_header_subs(u),R(a.max_attribute_value_size)?a.$limit_bytesize(u,a.max_attribute_value_size):u}),we(w,"$limit_bytesize",function(u,t){if(R(y(u.$bytesize(),t)))for(;!R((u=u.$byteslice(0,t))["$valid_encoding?"]());)t=ge(t,1);return u}),we(w,"$resolve_docinfo_subs",function(){var u=this;return R(u.attributes["$key?"]("docinfosubs"))?u.$resolve_subs(u.attributes["$[]"]("docinfosubs"),"block",z,"docinfo"):["attributes"]}),we(w,"$create_converter",function(u,t){var a=this,v=z,_=z,l=z,F=z,A=z;return v=I(["document","htmlsyntax"],{document:a,htmlsyntax:a.attributes["$[]"]("htmlsyntax")}),R(_=R(l=(F=a.options)["$[]"]("template_dirs"))?l:F["$[]"]("template_dir"))&&(v["$[]="]("template_dirs",[].concat(Ve(_))),v["$[]="]("template_cache",F.$fetch("template_cache",!0)),v["$[]="]("template_engine",F["$[]"]("template_engine")),v["$[]="]("template_engine_options",F["$[]"]("template_engine_options")),v["$[]="]("eruby",F["$[]"]("eruby")),v["$[]="]("safe",a.safe),R(t)&&v["$[]="]("delegate_backend",t)),R(A=F["$[]"]("converter"))?x(L("Converter"),"CustomFactory").$new(Ae(u,A)).$create(u,v):F.$fetch("converter_factory",L("Converter")).$create(u,v)}),we(w,"$clear_playback_attributes",function(u){return u.$delete("attribute_entries")}),we(w,"$save_attributes",function(){var u=this,t=z,a=z,v=z,_=z,l=z,F=z,A=z,M=z,W=z,ne=z,O=z,He=z,Xe=z,it=z;if(R((a=u.attributes)["$key?"]("doctitle"))||ue(t=u.$doctitle())||a["$[]="]("doctitle",t),u.id=R(v=u.id)?v:a["$[]"]("css-signature"),R(_=R(a.$delete("toc2"))?"left":a["$[]"]("toc"))&&(l=R(F=a.$fetch("toc-placement","macro"))&&Ue(F,"auto")?F:a["$[]"]("toc-position"),!(R(_["$empty?"]())&&R(l["$nil_or_empty?"]())))){switch(A="left",M="toc2",W=R(l["$nil_or_empty?"]())?R(_["$empty?"]())?A:_:l,a["$[]="]("toc",""),a["$[]="]("toc-placement","auto"),W){case"left":case"<":case"&lt;":a["$[]="]("toc-position","left");break;case"right":case">":case"&gt;":a["$[]="]("toc-position","right");break;case"top":case"^":a["$[]="]("toc-position","top");break;case"bottom":case"v":a["$[]="]("toc-position","bottom");break;case"preamble":case"macro":a["$[]="]("toc-position","content"),a["$[]="]("toc-placement",W),M=z;break;default:a.$delete("toc-position"),M=z}R(M)&&(R(v=a["$[]"]("toc-class"))||a["$[]="]("toc-class",M))}if(R(ne=a["$[]"]("icons"))&&ue(a["$key?"]("icontype")))switch(ne){case"":case"font":break;default:a["$[]="]("icons",""),ve(ne,"image")||a["$[]="]("icontype",ne)}return R(u.compat_mode=a["$key?"]("compat-mode"))&&R(a["$key?"]("language"))&&a["$[]="]("source-language",a["$[]"]("language")),R(u.parent_document)||(ve(O=a["$[]"]("basebackend"),"html")?R(He=a["$[]"]("source-highlighter"))&&ue(a["$[]"](""+He+"-unavailable"))&&(R(Xe=u.options["$[]"]("syntax_highlighter_factory"))?u.syntax_highlighter=Xe.$create(He,u.backend,I(["document"],{document:u})):R(it=u.options["$[]"]("syntax_highlighters"))?u.syntax_highlighter=x(L("SyntaxHighlighter"),"DefaultFactoryProxy").$new(it).$create(He,u.backend,I(["document"],{document:u})):u.syntax_highlighter=L("SyntaxHighlighter").$create(He,u.backend,I(["document"],{document:u}))):ve(O,"docbook")&&(R(u["$attribute_locked?"]("toc"))||R(u.attributes_modified["$include?"]("toc"))||a["$[]="]("toc",""),R(u["$attribute_locked?"]("sectnums"))||R(u.attributes_modified["$include?"]("sectnums"))||a["$[]="]("sectnums","")),u.outfilesuffix=a["$[]"]("outfilesuffix"),K(L("FLEXIBLE_ATTRIBUTES"),"each",[],function nt(at){var ct=nt.$$s==null?this:nt.$$s;return ct.attribute_overrides==null&&(ct.attribute_overrides=z),at==null&&(at=z),R(ct.attribute_overrides["$key?"](at))&&R(ct.attribute_overrides["$[]"](at))?ct.attribute_overrides.$delete(at):z},{$$s:u})),u.header_attributes=a.$merge()}),we(w,"$fill_datetime_attributes",function(u,t){var a,v=this,_=z,l=z,F=z,A=z,M=z,W=z,ne=z,O=z;return _=R(x("ENV")["$key?"]("SOURCE_DATE_EPOCH"))?l=x("Time").$at(v.$Integer(x("ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():x("Time").$now(),R(F=u["$[]"]("localdate"))?R(A=u["$[]"]("localyear"))||u["$[]="]("localyear",ve(F.$index("-"),4)?F.$slice(0,4):z):(F=(a=["localdate",_.$strftime("%F")],K(u,"[]=",a),a[a.length-1]),R(A=u["$[]"]("localyear"))||u["$[]="]("localyear",_.$year().$to_s())),M=R(A=u["$[]"]("localtime"))?A:(a=["localtime",_.$strftime("%T "+(ve(_.$utc_offset(),0)?"UTC":"%z"))],K(u,"[]=",a),a[a.length-1]),R(A=u["$[]"]("localdatetime"))||u["$[]="]("localdatetime",""+F+" "+M),t=R(A=R(W=l)?W:t)?A:_,R(ne=u["$[]"]("docdate"))?R(A=u["$[]"]("docyear"))||u["$[]="]("docyear",ve(ne.$index("-"),4)?ne.$slice(0,4):z):(ne=(a=["docdate",t.$strftime("%F")],K(u,"[]=",a),a[a.length-1]),R(A=u["$[]"]("docyear"))||u["$[]="]("docyear",t.$year().$to_s())),O=R(A=u["$[]"]("doctime"))?A:(a=["doctime",t.$strftime("%T "+(ve(t.$utc_offset(),0)?"UTC":"%z"))],K(u,"[]=",a),a[a.length-1]),R(A=u["$[]"]("docdatetime"))||u["$[]="]("docdatetime",""+ne+" "+O),z}),we(w,"$update_backend_attributes",function(u,t){var a,v,_=this,l=z,F=z,A=z,M=z,W=z,ne=z,O=z,He=z,Xe=z,it=z,nt=z,at=z,ct=z,ut=z,_t=z;return t==null&&(t=z),R(t)||Ue(u,_.backend)?(l=_.backend,F=(A=_.attributes)["$[]"]("basebackend"),M=_.doctype,R(u["$include?"](":"))&&(v=u.$partition(":"),a=g(v),W=a[0]==null?z:a[0],ne=a[1]==null?z:a[1],u=a[2]==null?z:a[2]),R(u["$start_with?"]("xhtml"))?(A["$[]="]("htmlsyntax","xml"),u=u.$slice(1,u.$length())):R(u["$start_with?"]("html"))&&(R(O=A["$[]"]("htmlsyntax"))||A["$[]="]("htmlsyntax","html")),u=R(O=L("BACKEND_ALIASES")["$[]"](u))?O:u,R(W)&&(a=[W,u],u=a[0],He=a[1]),R(M)?(R(l)&&(A.$delete("backend-"+l),A.$delete("backend-"+l+"-doctype-"+M)),A["$[]="]("backend-"+u+"-doctype-"+M,""),A["$[]="]("doctype-"+M,"")):R(l)&&A.$delete("backend-"+l),A["$[]="]("backend-"+u,""),_.backend=(a=["backend",u],K(A,"[]=",a),a[a.length-1]),st(x(L("Converter"),"BackendTraits"),Xe=_.$create_converter(u,He))?(it=Xe.$basebackend(),nt=Xe.$filetype(),R(at=Xe.$htmlsyntax())&&A["$[]="]("htmlsyntax",at),R(t)?R(O=A["$[]"]("outfilesuffix"))||A["$[]="]("outfilesuffix",Xe.$outfilesuffix()):R(_["$attribute_locked?"]("outfilesuffix"))||A["$[]="]("outfilesuffix",Xe.$outfilesuffix())):R(Xe)?(ct=L("Converter").$derive_backend_traits(u),it=ct["$[]"]("basebackend"),nt=ct["$[]"]("filetype"),R(t)?R(O=A["$[]"]("outfilesuffix"))||A["$[]="]("outfilesuffix",ct["$[]"]("outfilesuffix")):R(_["$attribute_locked?"]("outfilesuffix"))||A["$[]="]("outfilesuffix",ct["$[]"]("outfilesuffix"))):_.$raise(x("NotImplementedError"),"asciidoctor: FAILED: missing converter for backend '"+u+"'. Processing aborted."),_.converter=Xe,R(ut=A["$[]"]("filetype"))&&A.$delete("filetype-"+ut),A["$[]="]("filetype",nt),A["$[]="]("filetype-"+nt,""),R(_t=L("DEFAULT_PAGE_WIDTHS")["$[]"](it))?A["$[]="]("pagewidth",_t):A.$delete("pagewidth"),Ue(it,F)&&(R(M)?(R(F)&&(A.$delete("basebackend-"+F),A.$delete("basebackend-"+F+"-doctype-"+M)),A["$[]="]("basebackend-"+it+"-doctype-"+M,"")):R(F)&&A.$delete("basebackend-"+F),A["$[]="]("basebackend-"+it,""),A["$[]="]("basebackend",it)),u):z},-2),we(w,"$update_doctype_attributes",function(u){var t,a=this,v=z,_=z,l=z,F=z;return R(u)&&Ue(u,a.doctype)?(t=[a.backend,(v=a.attributes)["$[]"]("basebackend"),a.doctype],_=t[0],l=t[1],F=t[2],R(F)?(v.$delete("doctype-"+F),R(_)&&(v.$delete("backend-"+_+"-doctype-"+F),v["$[]="]("backend-"+_+"-doctype-"+u,"")),R(l)&&(v.$delete("basebackend-"+l+"-doctype-"+F),v["$[]="]("basebackend-"+l+"-doctype-"+u,""))):(R(_)&&v["$[]="]("backend-"+_+"-doctype-"+u,""),R(l)&&v["$[]="]("basebackend-"+l+"-doctype-"+u,"")),v["$[]="]("doctype-"+u,""),a.doctype=(t=["doctype",u],K(v,"[]=",t),t[t.length-1])):z})}(ie[0],j("AbstractBlock"),ie)}(rt[0],rt)},Opal.modules["asciidoctor/inline"]=function(e){"use strict";var H=e.module,P=e.klass,C=e.hash2,K=e.send2,c=e.find_super,R=e.def,we=e.return_val,I=e.alias,ue=e.truthy,g=[],Ke=e.nil;return e.add_stubs("attr_accessor,attr_reader,[],convert,converter,attr,==,apply_reftext_subs,reftext"),function(oe,Ce){var ge=H(oe,"Asciidoctor"),ve=[ge].concat(Ce),st=e.$r(ve);return function(Ae,et){var Ye=P(Ae,et,"Inline"),Ue=Ye.$$prototype;return Ue.text=Ue.type=Ke,Ye.$attr_accessor("text"),Ye.$attr_reader("type"),Ye.$attr_accessor("target"),R(Ye,"$initialize",function Qe(y,Je,p,Ve){var rt=Qe.$$p||Ke,z=this;return Qe.$$p=null,p==null&&(p=Ke),Ve==null&&(Ve=C([],{})),K(z,c(z,"initialize",Qe,!1,!0),"initialize",[y,Je,Ve],null),z.node_name="inline_"+Je,z.text=p,z.id=Ve["$[]"]("id"),z.type=Ve["$[]"]("type"),z.target=Ve["$[]"]("target")},-3),R(Ye,"$block?",we(!1)),R(Ye,"$inline?",we(!0)),R(Ye,"$convert",function(){var y=this;return y.$converter().$convert(y)}),I(Ye,"render","convert"),R(Ye,"$alt",function(){var y=this,Je=Ke;return ue(Je=y.$attr("alt"))?Je:""}),R(Ye,"$reftext?",function(){var y=this,Je=Ke,p=Ke;return ue(Je=y.text)?ue(p=y.type["$=="]("ref"))?p:y.type["$=="]("bibref"):Je}),R(Ye,"$reftext",function(){var y=this,Je=Ke;return ue(Je=y.text)?y.$apply_reftext_subs(Je):Ke}),R(Ye,"$xreftext",function(y){var Je=this;return y==null&&(y=Ke),Je.$reftext()},-1)}(ve[0],st("AbstractNode"))}(g[0],g)},Opal.modules["asciidoctor/list"]=function(e){"use strict";var H=e.module,P=e.klass,C=e.alias,K=e.hash2,c=e.send2,R=e.find_super,we=e.def,I=e.truthy,ue=e.eqeq,g=[],Ke=e.nil;return e.add_stubs("blocks,blocks?,==,next_list,callouts,convert,class,object_id,inspect,size,items,parent,attr_accessor,level,drop,nil_or_empty?,apply_subs,attr_writer,empty?,===,[],outline?,!,simple?,source,shift,context"),function(oe,Ce){var ge=H(oe,"Asciidoctor"),ve=[ge].concat(Ce),st=e.$r(ve);return function(Ae,et){var Ye=P(Ae,et,"List"),Ue=Ye.$$prototype;return Ue.context=Ue.document=Ue.style=Ke,C(Ye,"items","blocks"),C(Ye,"content","blocks"),C(Ye,"items?","blocks?"),we(Ye,"$initialize",function Qe(y,Je,p){var Ve=Qe.$$p||Ke,rt=this;return Qe.$$p=null,p==null&&(p=K([],{})),c(rt,R(rt,"initialize",Qe,!1,!0),"initialize",[y,Je,p],Ve)},-3),we(Ye,"$outline?",function(){var y=this,Je=Ke;return I(Je=y.context["$=="]("ulist"))?Je:y.context["$=="]("olist")}),we(Ye,"$convert",function Qe(){var y=Qe.$$p||Ke,Je=this,p=Ke;return Qe.$$p=null,ue(Je.context,"colist")?(p=c(Je,R(Je,"convert",Qe,!1,!0),"convert",[],y),Je.document.$callouts().$next_list(),p):c(Je,R(Je,"convert",Qe,!1,!0),"convert",[],y)}),C(Ye,"render","convert"),we(Ye,"$to_s",function(){var y=this;return"#<"+y.$class()+"@"+y.$object_id()+" {context: "+y.context.$inspect()+", style: "+y.style.$inspect()+", items: "+y.$items().$size()+"}>"})}(ve[0],st("AbstractBlock")),function(Ae,et,Ye){var Ue=P(Ae,et,"ListItem"),Qe=[Ue].concat(Ye),y=e.$r(Qe),Je=Ue.$$prototype;return Je.text=Je.subs=Je.blocks=Ke,C(Ue,"list","parent"),Ue.$attr_accessor("marker"),we(Ue,"$initialize",function p(Ve,rt){var z=p.$$p||Ke,x=this;return p.$$p=null,rt==null&&(rt=Ke),c(x,R(x,"initialize",p,!1,!0),"initialize",[Ve,"list_item"],null),x.text=rt,x.level=Ve.$level(),x.subs=y("NORMAL_SUBS").$drop(0)},-2),we(Ue,"$text?",function(){var Ve=this;return!I(Ve.text["$nil_or_empty?"]())}),we(Ue,"$text",function(){var Ve=this,rt=Ke;return I(rt=Ve.text)?Ve.$apply_subs(Ve.text,Ve.subs):rt}),Ue.$attr_writer("text"),we(Ue,"$simple?",function(){var Ve=this,rt=Ke,z=Ke,x=Ke,ke=Ke;return I(rt=Ve.blocks["$empty?"]())?rt:I(z=I(x=Ve.blocks.$size()["$=="](1))?y("List")["$==="](ke=Ve.blocks["$[]"](0)):x)?ke["$outline?"]():z}),we(Ue,"$compound?",function(){var Ve=this;return Ve["$simple?"]()["$!"]()}),we(Ue,"$fold_first",function(){var Ve=this;return Ve.text=I(Ve.text["$nil_or_empty?"]())?Ve.blocks.$shift().$source():""+Ve.text+y("LF")+Ve.blocks.$shift().$source(),Ke}),we(Ue,"$to_s",function(){var Ve=this,rt=Ke;return"#<"+Ve.$class()+"@"+Ve.$object_id()+" {list_context: "+Ve.$parent().$context().$inspect()+", text: "+Ve.text.$inspect()+", blocks: "+(I(rt=Ve.blocks)?rt:[]).$size()+"}>"})}(ve[0],st("AbstractBlock"),ve)}(g[0],g)},Opal.modules["asciidoctor/parser"]=function(e){"use strict";var H=e.module,P=e.klass,C=e.const_set,K=e.send,c=e.truthy,R=e.hash2,we=e.to_ary,I=e.defs,ue=e.eqeq,g=e.not,Ke=e.gvars,oe=e.neqeq,Ce=e.rb_plus,ge=e.rb_lt,ve=e.rb_gt,st=e.to_a,Ae=e.eqeqeq,et=e.rb_minus,Ye=e.rb_times,Ue=e.thrower,Qe=[],y=e.nil,Je=e.$$$;return e.add_stubs("include,new,proc,start_with?,match?,is_delimited_block?,private_class_method,parse_document_header,[],has_more_lines?,next_section,assign_numeral,<<,blocks,skip_blank_lines,parse_block_metadata_lines,attributes,is_next_line_doctitle?,[]=,finalize_header,nil_or_empty?,title=,sourcemap,cursor,parse_section_title,id=,include?,sub_specialchars,sub_attributes,source_location=,header,attribute_locked?,id,clear,delete,instance_variable_get,parse_header_metadata,==,!,register,process_authors,update,doctype,parse_manpage_header,=~,downcase,error,logger,message_with_context,cursor_at_line,backend,save,is_next_line_section?,initialize_section,join,map,read_lines_until,lstrip,split,title,restore_save,discard_save,header?,empty?,context,!=,attr?,attr,key?,document,+,level,special,sectname,to_i,<,>,warn,next_block,blocks?,style,style=,parent=,content_model,content_model=,lines,subs,size,context=,shift,unwrap_standalone_preamble,source_location,merge,fetch,parse_block_metadata_line,extensions,block_macros?,mark,read_line,terminator,to_s,masq,to_sym,registered_for_block?,debug?,debug,cursor_at_mark,strict_verbatim_paragraphs,unshift_line,markdown_syntax,keys,chr,uniform?,length,end_with?,parse_attributes,attribute_missing,tr,basename,assign_caption,registered_for_block_macro?,config,process_method,replace,parse_callout_list,callouts,===,parse_list,parse_description_list,underline_style_section_titles,is_section_title?,peek_line,atx_section_title?,generate_id,level=,read_paragraph_lines,adjust_indentation!,map!,slice,pop,build_block,apply_subs,chop,catalog_inline_anchors,rekey,index,strip,-,parse_table,each,raise,title?,update_attributes,commit_subs,sub?,catalog_callouts,source,remove_sub,block_terminates_paragraph,to_proc,nil?,parse_blocks,parse_list_item,items,scan,gsub,count,advance,dup,match,callout_ids,next_list,catalog_inline_anchor,marker=,catalog_inline_biblio_anchor,set_option,text=,resolve_ordered_list_marker,read_lines_for_list_item,skip_line_comments,unshift_lines,fold_first,text?,is_sibling_list_item?,concat,find,casecmp,sectname=,special=,numbered=,numbered,lineno,peek_lines,setext_section_title?,abs,cursor_at_prev_line,process_attribute_entries,next_line_empty?,apply_header_subs,rstrip,each_with_index,compact,to_h,squeeze,to_a,parse_style_attribute,process_attribute_entry,skip_comment_lines,store_attribute,sanitize_attribute_name,set_attribute,save_to,delete_attribute,ord,int_to_roman,resolve_list_marker,parse_colspecs,create_columns,has_header_option=,format,starts_with_delimiter?,close_open_cell,parse_cellspec,delimiter,match_delimiter,pre_match,post_match,buffer_has_unclosed_quotes?,skip_past_delimiter,buffer=,buffer,skip_past_escaped_delimiter,keep_cell_open,push_cellspec,close_cell,cell_open?,columns,assign_column_widths,partition_header_footer,upto,partition,shorthand_property_syntax,each_char,yield_buffered_attribute,any?,*,each_byte,%"),function(p,Ve){var rt=H(p,"Asciidoctor"),z=[rt].concat(Ve);return function(x,ke,ee){var ce=P(x,ke,"Parser"),ie=[ce].concat(ee),j=e.$r(ie);return ce.$include(j("Logging")),C(ie[0],"BlockMatchData",j("Struct").$new("context","masq","tip","terminator")),C(ie[0],"TAB","	"),C(ie[0],"TabIndentRx",/^\t+/),C(ie[0],"StartOfBlockProc",K(ce,"proc",[],function Q(T){var E=Q.$$s==null?this:Q.$$s,w=y,U=y;return T==null&&(T=y),c(w=c(U=T["$start_with?"]("["))?j("BlockAttributeLineRx")["$match?"](T):U)?w:E["$is_delimited_block?"](T)},{$$s:ce})),C(ie[0],"StartOfListProc",K(ce,"proc",[],function(T){return T==null&&(T=y),j("AnyListRx")["$match?"](T)})),C(ie[0],"StartOfBlockOrListProc",K(ce,"proc",[],function Q(T){var E=Q.$$s==null?this:Q.$$s,w=y,U=y,L=y;return T==null&&(T=y),c(w=c(U=E["$is_delimited_block?"](T))?U:c(L=T["$start_with?"]("["))?j("BlockAttributeLineRx")["$match?"](T):L)?w:j("AnyListRx")["$match?"](T)},{$$s:ce})),C(ie[0],"NoOp",y),C(ie[0],"AuthorKeys",["author","authorinitials","firstname","middlename","lastname","email"]),C(ie[0],"TableCellHorzAlignments",R(["<",">","^"],{"<":"left",">":"right","^":"center"})),C(ie[0],"TableCellVertAlignments",R(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})),C(ie[0],"TableCellStyles",R(["d","s","e","m","h","l","a"],{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",a:"asciidoc"})),ce.$private_class_method("new"),I(ce,"$parse",function(T,E,w){var U,L,Y=this,S=y,u=y,t=y;if(w==null&&(w=R([],{})),S=Y.$parse_document_header(T,E,u=w["$[]"]("header_only")),!c(u))for(;c(T["$has_more_lines?"]());)L=Y.$next_section(T,E,S),U=we(L),t=U[0]==null?y:U[0],S=U[1]==null?y:U[1],c(t)&&(E.$assign_numeral(t),E.$blocks()["$<<"](t));return E},-3),I(ce,"$parse_document_header",function(T,E,w){var U,L,Y,S=this,u=y,t=y,a=y,v=y,_=y,l=y,F=y,A=y,M=y,W=y,ne=y,O=y,He=y,Xe=y,it=y,nt=y;return w==null&&(w=!1),u=c(T.$skip_blank_lines())?S.$parse_block_metadata_lines(T,E):R([],{}),t=E.$attributes(),c(a=S["$is_next_line_doctitle?"](T,u,t["$[]"]("leveloffset")))&&c(u["$[]"]("title"))?(t["$[]="]("authorcount",0),E.$finalize_header(u,!1)):(c((v=t["$[]"]("doctitle"))["$nil_or_empty?"]())||E["$title="](_=v),c(a)?(c(E.$sourcemap())&&(l=T.$cursor()),L=S.$parse_section_title(T,E),U=we(L),Y=[U[0]==null?y:U[0]],K(E,"id=",Y),Y[Y.length-1],F=U[1]==null?y:U[1],A=U[2]==null?y:U[2],F=U[3]==null?y:U[3],M=U[4]==null?y:U[4],c(_)?A=y:(E["$title="](A),c((U=["doctitle",_=E.$sub_specialchars(A)],K(t,"[]=",U),U[U.length-1])["$include?"](j("ATTR_REF_HEAD")))&&t["$[]="]("doctitle",_=E.$sub_attributes(_,R(["attribute_missing"],{attribute_missing:"skip"})))),c(l)&&E.$header()["$source_location="](l),c(M)||c(E["$attribute_locked?"]("compat-mode"))||t["$[]="]("compat-mode",""),c(W=u["$[]"]("separator"))&&(c(E["$attribute_locked?"]("title-separator"))||t["$[]="]("title-separator",W)),c(ne=u["$[]"]("id"))?E["$id="](ne):ne=E.$id(),c(O=u["$[]"]("role"))&&t["$[]="]("role",O),c(He=u["$[]"]("reftext"))&&t["$[]="]("reftext",He),u.$clear(),(Xe=E.$instance_variable_get("@attributes_modified")).$delete("doctitle"),S.$parse_header_metadata(T,E,y),c(Xe["$include?"]("doctitle"))?c((v=t["$[]"]("doctitle"))["$nil_or_empty?"]())||ue(v,_)?t["$[]="]("doctitle",_):E["$title="](v):g(A)&&Xe["$<<"]("doctitle"),c(ne)&&E.$register("refs",[ne,E])):c(it=t["$[]"]("author"))?(nt=S.$process_authors(it,!0,!1),c(t["$[]"]("authorinitials"))&&nt.$delete("authorinitials"),t.$update(nt)):c(it=t["$[]"]("authors"))?(nt=S.$process_authors(it,!0),t.$update(nt)):t["$[]="]("authorcount",0),ue(E.$doctype(),"manpage")&&S.$parse_manpage_header(T,E,u,w),E.$finalize_header(u))},-3),I(ce,"$parse_manpage_header",function(T,E,w,U){var L,Y=this,S=y,u=y,t=y,a=y,v=y,_=y,l=y,F=y,A=y,M=y,W=y,ne=y;return U==null&&(U=!1),c(j("ManpageTitleVolnumRx")["$=~"]((S=E.$attributes())["$[]"]("doctitle")))?(S["$[]="]("manvolnum",u=(L=Ke["~"])===y?y:L["$[]"](2)),S["$[]="]("mantitle",(c((t=(L=Ke["~"])===y?y:L["$[]"](1))["$include?"](j("ATTR_REF_HEAD")))?E.$sub_attributes(t):t).$downcase())):(Y.$logger().$error(Y.$message_with_context("non-conforming manpage title",R(["source_location"],{source_location:T.$cursor_at_line(1)}))),S["$[]="]("mantitle",c(a=c(v=S["$[]"]("doctitle"))?v:S["$[]"]("docname"))?a:"command"),S["$[]="]("manvolnum",u="1")),c(_=S["$[]"]("manname"))&&c(S["$[]"]("manpurpose"))?(c(a=S["$[]"]("manname-title"))||S["$[]="]("manname-title","Name"),S["$[]="]("mannames",[_]),ue(E.$backend(),"manpage")&&(S["$[]="]("docname",_),S["$[]="]("outfilesuffix","."+u))):c(U)||(T.$skip_blank_lines(),T.$save(),w.$update(Y.$parse_block_metadata_lines(T,E)),c(l=Y["$is_next_line_section?"](T,R([],{})))?ue(l,1)?(F=Y.$initialize_section(T,E,R([],{})),A=K(T.$read_lines_until(R(["break_on_blank_lines","skip_line_comments"],{break_on_blank_lines:!0,skip_line_comments:!0})),"map",[],function(He){return He==null&&(He=y),He.$lstrip()}).$join(" "),c(j("ManpageNamePurposeRx")["$=~"](A))?(c((_=(L=Ke["~"])===y?y:L["$[]"](1))["$include?"](j("ATTR_REF_HEAD")))&&(_=E.$sub_attributes(_)),c(_["$include?"](","))?_=(M=K(_.$split(","),"map",[],function(He){return He==null&&(He=y),He.$lstrip()}))["$[]"](0):M=[_],c((W=(L=Ke["~"])===y?y:L["$[]"](2))["$include?"](j("ATTR_REF_HEAD")))&&(W=E.$sub_attributes(W)),c(a=S["$[]"]("manname-title"))||S["$[]="]("manname-title",F.$title()),c(F.$id())&&S["$[]="]("manname-id",F.$id()),S["$[]="]("manname",_),S["$[]="]("mannames",M),S["$[]="]("manpurpose",W),ue(E.$backend(),"manpage")&&(S["$[]="]("docname",_),S["$[]="]("outfilesuffix","."+u))):ne="non-conforming name section body"):ne="name section must be at level 1":ne="name section expected",c(ne)?(T.$restore_save(),Y.$logger().$error(Y.$message_with_context(ne,R(["source_location"],{source_location:T.$cursor()}))),S["$[]="]("manname",_=c(a=S["$[]"]("docname"))?a:"command"),S["$[]="]("mannames",[_]),ue(E.$backend(),"manpage")&&(S["$[]="]("docname",_),S["$[]="]("outfilesuffix","."+u))):T.$discard_save()),y},-4),I(ce,"$next_section",function(T,E,w){var U,L,Y=this,S=y,u=y,t=y,a=y,v=y,_=y,l=y,F=y,A=y,M=y,W=y,ne=y,O=y,He=y,Xe=y,it=y,nt=y,at=y,ct=y,ut=y;for(w==null&&(w=R([],{})),S=u=t=!1,ue(E.$context(),"document")&&c(E.$blocks()["$empty?"]())&&(c(a=E["$header?"]())||c(w.$delete("invalid-header"))||g(Y["$is_next_line_section?"](T,w)))?(v=(_=E).$doctype()["$=="]("book"),(c(a)||c(v)&&oe(w["$[]"](1),"abstract"))&&(S=u=j("Block").$new(E,"preamble",R(["content_model"],{content_model:"compound"})),c(v)&&c(E["$attr?"]("preface-title"))&&S["$title="](E.$attr("preface-title")),E.$blocks()["$<<"](S)),l=E,F=0,c(E.$attributes()["$key?"]("fragment"))?A=-1:c(v)?(U=[1,0],A=U[0],M=U[1]):A=1):(v=(_=E.$document()).$doctype()["$=="]("book"),l=Y.$initialize_section(T,E,w),w=c(W=w["$[]"]("title"))?R(["title"],{title:W}):R([],{}),A=Ce(F=l.$level(),1),ue(F,0)?t=v:ue(F,1)&&c(l.$special())&&(ue(ne=l.$sectname(),"appendix")||ue(ne,"preface")||ue(ne,"abstract")||(A=y))),T.$skip_blank_lines();c(T["$has_more_lines?"]());){if(Y.$parse_block_metadata_lines(T,_,w),c(O=Y["$is_next_line_section?"](T,w)))if(c(_["$attr?"]("leveloffset"))&&(O=Ce(O,_.$attr("leveloffset").$to_i()),c(ge(O,0))&&(O=0)),c(ve(O,F)))c(A)?ue(O,A)||c(M)&&ue(O,M)||c(ge(A,0))||(He=c(M)?"expected levels "+M+" or "+A:"expected level "+A,Y.$logger().$warn(Y.$message_with_context("section title out of sequence: "+He+", got level "+O,R(["source_location"],{source_location:T.$cursor()})))):Y.$logger().$error(Y.$message_with_context(""+ne+" sections do not support nested sections",R(["source_location"],{source_location:T.$cursor()}))),L=Y.$next_section(T,l,w),U=we(L),Xe=U[0]==null?y:U[0],w=U[1]==null?y:U[1],l.$assign_numeral(Xe),l.$blocks()["$<<"](Xe);else if(ue(O,0)&&ue(l,_))c(v)||Y.$logger().$error(Y.$message_with_context("level 0 sections can only be used when doctype is book",R(["source_location"],{source_location:T.$cursor()}))),L=Y.$next_section(T,l,w),U=we(L),Xe=U[0]==null?y:U[0],w=U[1]==null?y:U[1],l.$assign_numeral(Xe),l.$blocks()["$<<"](Xe);else break;else it=T.$cursor(),c(nt=Y.$next_block(T,c(at=u)?at:l,w,R(["parse_metadata"],{parse_metadata:!1})))&&(c(t)&&(g(l["$blocks?"]())?oe(nt.$style(),"partintro")?ue(nt.$style(),"open")&&ue(nt.$context(),"open")?nt["$style="]("partintro"):(nt["$parent="](u=j("Block").$new(l,"open",R(["content_model"],{content_model:"compound"}))),u["$style="]("partintro"),l.$blocks()["$<<"](u)):ue(nt.$content_model(),"simple")&&(nt["$content_model="]("compound"),nt["$<<"](j("Block").$new(nt,"paragraph",R(["source","subs"],{source:nt.$lines(),subs:nt.$subs()}))),nt.$lines().$clear(),nt.$subs().$clear()):ue(l.$blocks().$size(),1)&&(ct=l.$blocks()["$[]"](0),g(u)&&ue(ct.$content_model(),"compound")?Y.$logger().$error(Y.$message_with_context("illegal block content outside of partintro block",R(["source_location"],{source_location:it}))):oe(ct.$content_model(),"compound")&&(nt["$parent="](u=j("Block").$new(l,"open",R(["content_model"],{content_model:"compound"}))),ue(ct.$style(),(U=["partintro"],K(u,"style=",U),U[U.length-1]))&&(ct["$context="]("paragraph"),ct["$style="](y)),l.$blocks().$shift(),u["$<<"](ct),l.$blocks()["$<<"](u)))),(c(at=u)?at:l).$blocks()["$<<"](nt),w.$clear());if(!c(at=T.$skip_blank_lines()))break}if(c(t))c(l["$blocks?"]())&&ue(l.$blocks()["$[]"](-1).$context(),"section")||Y.$logger().$error(Y.$message_with_context("invalid part, must have at least one section (e.g., chapter, appendix, etc.)",R(["source_location"],{source_location:T.$cursor()})));else if(c(S))if(c(S["$blocks?"]()))if(c(v)||c(_.$blocks()["$[]"](1))||g(j("Compliance").$unwrap_standalone_preamble()))c(_.$sourcemap())&&S["$source_location="](S.$blocks()["$[]"](0).$source_location());else for(_.$blocks().$shift();c(ut=S.$blocks().$shift());)_["$<<"](ut);else _.$blocks().$shift();return[ue(l,E)?y:l,w.$merge()]},-3),I(ce,"$next_block",function(T,E,w,U){var L,Y,S=this,u=y,t=y,a=y,v=y,_=y,l=y,F=y,A=y,M=y,W=y,ne=y,O=y,He=y,Xe=y,it=y,nt=y,at=y,ct=y,ut=y,_t=y,ft=y,mt=y,yt=y,wt=y,kt=y,Rt=y,zt=y,Tt=y,St=y,At=y,qt=y,Bt=y,It=y,xt=y,Ct=y,Ft=y,Et=y,Pt=y,Lt=y,Dt=y,Nt=y,Ht=y,Mt=y,jt=y,Kt=y,Gt=y,Jt=y,Wt=y,Zt=y;if(Ke["~"]==null&&(Ke["~"]=y),w==null&&(w=R([],{})),U==null&&(U=R([],{})),!c(u=T.$skip_blank_lines()))return y;if(c(t=U["$[]"]("text_only"))&&c(ve(u,0))&&(U.$delete("text_only"),t=y),a=E.$document(),c(U.$fetch("parse_metadata",!0))){for(;c(S.$parse_block_metadata_line(T,a,w,U));)if(T.$shift(),!c(v=T.$skip_blank_lines()))return y}if(c(_=a.$extensions())&&(L=[_["$blocks?"](),_["$block_macros?"]()],l=L[0],F=L[1]),T.$mark(),L=[T.$read_line(),a.$attributes(),w["$[]"](1)],A=L[0],M=L[1],W=L[2],ne=O=He=Xe=y,c(it=S["$is_delimited_block?"](A,!0))&&(O=He=it.$context(),Xe=it.$terminator(),c(W)?ue(W,O.$to_s())||(c(it.$masq()["$include?"](W))?O=W.$to_sym():c(it.$masq()["$include?"]("admonition"))&&c(j("ADMONITION_STYLES")["$include?"](W))?O="admonition":c(l)&&c(_["$registered_for_block?"](W,O))?O=W.$to_sym():(c(S.$logger()["$debug?"]())&&S.$logger().$debug(S.$message_with_context("unknown style for "+O+" block: "+W,R(["source_location"],{source_location:T.$cursor_at_mark()}))),W=O.$to_s())):W=(L=["style",O.$to_s()],K(w,"[]=",L),L[L.length-1])),!c(it))for(;c(!0);){if(c(W)&&c(j("Compliance").$strict_verbatim_paragraphs())&&c(j("VERBATIM_STYLES")["$include?"](W))){O=W.$to_sym(),T.$unshift_line(A);break}if(c(t))nt=A["$start_with?"](" ",j("TAB"));else if(at=j("Compliance").$markdown_syntax(),c(A["$start_with?"](" "))){if(L=[!0," "],nt=L[0],ct=L[1],c(at)&&c(K(A.$lstrip(),"start_with?",st(j("MARKDOWN_THEMATIC_BREAK_CHARS").$keys())))&&c(j("MarkdownThematicBreakRx")["$match?"](A))){ne=j("Block").$new(E,"thematic_break",R(["content_model"],{content_model:"empty"}));break}}else if(c(A["$start_with?"](j("TAB"))))L=[!0,j("TAB")],nt=L[0],ct=L[1];else if(L=[!1,A.$chr()],nt=L[0],ct=L[1],ut=c(at)?j("HYBRID_LAYOUT_BREAK_CHARS"):j("LAYOUT_BREAK_CHARS"),c(ut["$key?"](ct))&&c(c(at)?j("ExtLayoutBreakRx")["$match?"](A):c(v=S["$uniform?"](A,ct,_t=A.$length()))?ve(_t,2):v)){ne=j("Block").$new(E,ut["$[]"](ct),R(["content_model"],{content_model:"empty"}));break}else if(c(A["$end_with?"]("]"))&&c(A["$include?"]("::"))){if((ue(ct,"i")||c(A["$start_with?"]("video:","audio:")))&&c(j("BlockMediaMacroRx")["$=~"](A))){if(L=[((Y=Ke["~"])===y?y:Y["$[]"](1)).$to_sym(),(Y=Ke["~"])===y?y:Y["$[]"](2),(Y=Ke["~"])===y?y:Y["$[]"](3)],ft=L[0],mt=L[1],yt=L[2],ne=j("Block").$new(E,ft,R(["content_model"],{content_model:"empty"})),c(yt)){switch(ft){case"video":wt=["poster","width","height"];break;case"audio":wt=[];break;default:wt=["alt","width","height"]}ne.$parse_attributes(yt,wt,R(["sub_input","into"],{sub_input:!0,into:w}))}if(c(w["$key?"]("style"))&&w.$delete("style"),c(mt["$include?"](j("ATTR_REF_HEAD")))){if(c((kt=ne.$sub_attributes(mt))["$empty?"]())&&ue(c(v=M["$[]"]("attribute-missing"))?v:j("Compliance").$attribute_missing(),"drop-line")&&c(ne.$sub_attributes(Ce(mt," "),R(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]()))return w.$clear(),y;mt=kt}ue(ft,"image")&&(a.$register("images",mt),w["$[]="]("imagesdir",M["$[]"]("imagesdir")),c(v=w["$[]"]("alt"))||w["$[]="]("alt",c(Rt=W)?Rt:(L=["default-alt",j("Helpers").$basename(mt,!0).$tr("_-"," ")],K(w,"[]=",L),L[L.length-1])),c((zt=w.$delete("scaledwidth"))["$nil_or_empty?"]())||w["$[]="]("scaledwidth",c(j("TrailingDigitsRx")["$match?"](zt))?""+zt+"%":zt),c(w["$[]"]("title"))&&(ne["$title="](Tt=w.$delete("title")),ne.$assign_caption(w.$delete("caption"),"figure"))),w["$[]="]("target",mt);break}else if(ue(ct,"t")&&c(A["$start_with?"]("toc:"))&&c(j("BlockTocMacroRx")["$=~"](A))){ne=j("Block").$new(E,"toc",R(["content_model"],{content_model:"empty"})),c((L=Ke["~"])===y?y:L["$[]"](1))&&ne.$parse_attributes((L=Ke["~"])===y?y:L["$[]"](1),[],R(["into"],{into:w}));break}else if(c(c(F)?c(v=c(Rt=j("CustomBlockMacroRx")["$=~"](A))?St=_["$registered_for_block_macro?"]((L=Ke["~"])===y?y:L["$[]"](1)):Rt)?v:At=S.$logger()["$debug?"]():c(v=S.$logger()["$debug?"]())?At=j("CustomBlockMacroRx")["$=~"](A):v))if(c(At))S.$logger().$debug(S.$message_with_context("unknown name for block macro: "+((L=Ke["~"])===y?y:L["$[]"](1)),R(["source_location"],{source_location:T.$cursor_at_mark()})));else{if(qt=(L=Ke["~"])===y?y:L["$[]"](3),c((mt=(L=Ke["~"])===y?y:L["$[]"](2))["$include?"](j("ATTR_REF_HEAD")))){if(c((kt=E.$sub_attributes(mt))["$empty?"]())&&ue(c(v=M["$[]"]("attribute-missing"))?v:j("Compliance").$attribute_missing(),"drop-line")&&c(E.$sub_attributes(Ce(mt," "),R(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]()))return w.$clear(),y;mt=kt}if(ue((Bt=St.$config())["$[]"]("content_model"),"attributes")?c(qt)&&a.$parse_attributes(qt,c(v=c(Rt=Bt["$[]"]("positional_attrs"))?Rt:Bt["$[]"]("pos_attrs"))?v:[],R(["sub_input","into"],{sub_input:!0,into:w})):w["$[]="]("text",c(v=qt)?v:""),c(It=Bt["$[]"]("default_attrs"))&&K(w,"update",[It],function(Ut,Yt){return Ut==null&&(Ut=y),Yt==null&&(Yt=y),Yt}),c(ne=St.$process_method()["$[]"](E,mt,w))&&oe(ne,E)){w.$replace(ne.$attributes());break}else return w.$clear(),y}}if(g(nt)&&ue(ct=c(v=ct)?v:A.$chr(),"<")&&c(j("CalloutListRx")["$=~"](A))){T.$unshift_line(A),ne=S.$parse_callout_list(T,Ke["~"],E,a.$callouts()),w["$[]="]("style","arabic");break}else if(c(j("UnorderedListRx")["$match?"](A))){T.$unshift_line(A),g(W)&&Ae(j("Section"),E)&&ue(E.$sectname(),"bibliography")&&w["$[]="]("style",W="bibliography"),ne=S.$parse_list(T,"ulist",E,W);break}else if(c(j("OrderedListRx")["$match?"](A))){T.$unshift_line(A),ne=S.$parse_list(T,"olist",E,W),c(ne.$style())&&w["$[]="]("style",ne.$style());break}else if((c(A["$include?"]("::"))||c(A["$include?"](";;")))&&c(j("DescriptionListRx")["$=~"](A))){T.$unshift_line(A),ne=S.$parse_description_list(T,Ke["~"],E);break}else if((ue(W,"float")||ue(W,"discrete"))&&c(c(j("Compliance").$underline_style_section_titles())?S["$is_section_title?"](A,T.$peek_line()):c(v=nt["$!"]())?S["$atx_section_title?"](A):v)){T.$unshift_line(A),Y=S.$parse_section_title(T,a,w["$[]"]("id")),L=we(Y),xt=L[0]==null?y:L[0],Ct=L[1]==null?y:L[1],Tt=L[2]==null?y:L[2],Ft=L[3]==null?y:L[3],c(Ct)&&w["$[]="]("reftext",Ct),ne=j("Block").$new(E,"floating_title",R(["content_model"],{content_model:"empty"})),ne["$title="](Tt),w.$delete("title"),ne["$id="](c(v=xt)?v:c(M["$key?"]("sectids"))?j("Section").$generate_id(ne.$title(),a):y),ne["$level="](Ft);break}else if(c(W)&&oe(W,"normal"))if(c(j("PARAGRAPH_STYLES")["$include?"](W))){O=W.$to_sym(),He="paragraph",T.$unshift_line(A);break}else if(c(j("ADMONITION_STYLES")["$include?"](W))){O="admonition",He="paragraph",T.$unshift_line(A);break}else if(c(l)&&c(_["$registered_for_block?"](W,"paragraph"))){O=W.$to_sym(),He="paragraph",T.$unshift_line(A);break}else c(S.$logger()["$debug?"]())&&S.$logger().$debug(S.$message_with_context("unknown style for paragraph: "+W,R(["source_location"],{source_location:T.$cursor_at_mark()}))),W=y;if(T.$unshift_line(A),c(nt)&&g(W))Et=S.$read_paragraph_lines(T,Pt=ue(u,0)?U["$[]"]("list_type"):y,R(["skip_line_comments"],{skip_line_comments:t})),S["$adjust_indentation!"](Et),c(t)||ue(Pt,"dlist")?ne=j("Block").$new(E,"paragraph",R(["content_model","source","attributes"],{content_model:"simple",source:Et,attributes:w})):ne=j("Block").$new(E,"literal",R(["content_model","source","attributes"],{content_model:"verbatim",source:Et,attributes:w}));else{if(Et=S.$read_paragraph_lines(T,c(v=u["$=="](0))?U["$[]"]("list_type"):v,R(["skip_line_comments"],{skip_line_comments:!0})),c(t))c(nt)&&ue(W,"normal")&&S["$adjust_indentation!"](Et),ne=j("Block").$new(E,"paragraph",R(["content_model","source","attributes"],{content_model:"simple",source:Et,attributes:w}));else if(c(j("ADMONITION_STYLE_HEADS")["$include?"](ct))&&c(A["$include?"](":"))&&c(j("AdmonitionParagraphRx")["$=~"](A)))Et["$[]="](0,(L=Ke["~"])===y?y:L.$post_match()),w["$[]="]("name",Lt=(L=["style",(Y=Ke["~"])===y?y:Y["$[]"](1)],K(w,"[]=",L),L[L.length-1]).$downcase()),w["$[]="]("textlabel",c(v=w.$delete("caption"))?v:M["$[]"](""+Lt+"-caption")),ne=j("Block").$new(E,"admonition",R(["content_model","source","attributes"],{content_model:"simple",source:Et,attributes:w}));else if(c(at)&&ue(ct,">")&&c(A["$start_with?"]("> "))){if(K(Et,"map!",[],function(Ut){return Ut==null&&(Ut=y),ue(Ut,">")?Ut.$slice(1,Ut.$length()):c(Ut["$start_with?"]("> "))?Ut.$slice(2,Ut.$length()):Ut}),c(Et["$[]"](-1)["$start_with?"]("-- "))&&(Dt=(Dt=Et.$pop()).$slice(3,Dt.$length()),!c(Et["$empty?"]())))for(;c(Et["$[]"](-1)["$empty?"]());)Et.$pop();w["$[]="]("style","quote"),ne=S.$build_block("quote","compound",!1,E,j("Reader").$new(Et),w),c(Dt)&&(Y=ne.$apply_subs(Dt).$split(", ",2),L=we(Y),Nt=L[0]==null?y:L[0],Ht=L[1]==null?y:L[1],c(Nt)&&w["$[]="]("attribution",Nt),c(Ht)&&w["$[]="]("citetitle",Ht))}else if(ue(ct,'"')&&c(ve(Et.$size(),1))&&c(Et["$[]"](-1)["$start_with?"]("-- "))&&c(Et["$[]"](-2)["$end_with?"]('"'))){for(Et["$[]="](0,A.$slice(1,A.$length())),Dt=(Dt=Et.$pop()).$slice(3,Dt.$length());c(Et["$[]"](-1)["$empty?"]());)Et.$pop();Et["$<<"](Et.$pop().$chop()),w["$[]="]("style","quote"),ne=j("Block").$new(E,"quote",R(["content_model","source","attributes"],{content_model:"simple",source:Et,attributes:w})),Y=ne.$apply_subs(Dt).$split(", ",2),L=we(Y),Nt=L[0]==null?y:L[0],Ht=L[1]==null?y:L[1],c(Nt)&&w["$[]="]("attribution",Nt),c(Ht)&&w["$[]="]("citetitle",Ht)}else c(nt)&&ue(W,"normal")&&S["$adjust_indentation!"](Et),ne=j("Block").$new(E,"paragraph",R(["content_model","source","attributes"],{content_model:"simple",source:Et,attributes:w}));S.$catalog_inline_anchors(Et.$join(j("LF")),ne,a,T)}break}if(!c(ne))switch(O){case"listing":case"source":(ue(O,"source")||g(w["$[]"](1))&&c(Mt=c(Rt=w["$[]"](2))?Rt:M["$[]"]("source-language")))&&(c(Mt)?(w["$[]="]("style","source"),w["$[]="]("language",Mt),j("AttributeList").$rekey(w,[y,y,"linenums"])):(j("AttributeList").$rekey(w,[y,"language","linenums"]),c(w["$key?"]("language"))||c(M["$key?"]("source-language"))&&w["$[]="]("language",M["$[]"]("source-language"))),c(w["$key?"]("linenums"))||(c(w["$[]"]("linenums-option"))||c(M["$[]"]("source-linenums-option")))&&w["$[]="]("linenums",""),c(w["$key?"]("indent"))||c(M["$key?"]("source-indent"))&&w["$[]="]("indent",M["$[]"]("source-indent"))),ne=S.$build_block("listing","verbatim",Xe,E,T,w);break;case"fenced_code":w["$[]="]("style","source"),c(ve(_t=A.$length(),3))&&(c(jt=(Mt=A.$slice(3,_t)).$index(","))?c(ve(jt,0))?(Mt=Mt.$slice(0,jt).$strip(),c(ge(jt,et(_t,4)))&&w["$[]="]("linenums","")):c(ve(_t,4))&&w["$[]="]("linenums",""):Mt=Mt.$lstrip()),c(Mt["$nil_or_empty?"]())?c(M["$key?"]("source-language"))&&w["$[]="]("language",M["$[]"]("source-language")):w["$[]="]("language",Mt),c(w["$key?"]("linenums"))||(c(w["$[]"]("linenums-option"))||c(M["$[]"]("source-linenums-option")))&&w["$[]="]("linenums",""),c(w["$key?"]("indent"))||c(M["$key?"]("source-indent"))&&w["$[]="]("indent",M["$[]"]("source-indent")),Xe=Xe.$slice(0,3),ne=S.$build_block("listing","verbatim",Xe,E,T,w);break;case"table":Kt=T.$cursor(),Gt=j("Reader").$new(T.$read_lines_until(R(["terminator","skip_line_comments","context","cursor"],{terminator:Xe,skip_line_comments:!0,context:"table",cursor:"at_mark"})),Kt),c(Xe["$start_with?"]("|","!"))||c(Rt=w["$[]"]("format"))||w["$[]="]("format",c(Xe["$start_with?"](","))?"csv":"dsv"),ne=S.$parse_table(Gt,E,w);break;case"sidebar":ne=S.$build_block(O,"compound",Xe,E,T,w);break;case"admonition":w["$[]="]("name",Lt=W.$downcase()),w["$[]="]("textlabel",c(Rt=w.$delete("caption"))?Rt:M["$[]"](""+Lt+"-caption")),ne=S.$build_block(O,"compound",Xe,E,T,w);break;case"open":case"abstract":case"partintro":ne=S.$build_block("open","compound",Xe,E,T,w);break;case"literal":ne=S.$build_block(O,"verbatim",Xe,E,T,w);break;case"example":c(w["$[]"]("collapsible-option"))&&w["$[]="]("caption",""),ne=S.$build_block(O,"compound",Xe,E,T,w);break;case"quote":case"verse":j("AttributeList").$rekey(w,[y,"attribution","citetitle"]),ne=S.$build_block(O,ue(O,"verse")?"verbatim":"compound",Xe,E,T,w);break;case"stem":case"latexmath":case"asciimath":ue(O,"stem")&&w["$[]="]("style",j("STEM_TYPE_ALIASES")["$[]"](c(Rt=w["$[]"](2))?Rt:M["$[]"]("stem"))),ne=S.$build_block("stem","raw",Xe,E,T,w);break;case"pass":ne=S.$build_block(O,"raw",Xe,E,T,w);break;case"comment":return S.$build_block(O,"skip",Xe,E,T,w),w.$clear(),y;default:if(c(l)&&c(St=_["$registered_for_block?"](O,He))){if(ue(Jt=(Bt=St.$config())["$[]"]("content_model"),"skip")||(c((Wt=c(Rt=Bt["$[]"]("positional_attrs"))?Rt:Bt["$[]"]("pos_attrs"))["$nil_or_empty?"]())||j("AttributeList").$rekey(w,Ce([y],Wt)),c(It=Bt["$[]"]("default_attrs"))&&K(It,"each",[],function(Ut,Yt){var Xt;return Ut==null&&(Ut=y),Yt==null&&(Yt=y),c(Rt=w["$[]"](Ut))?Rt:(Xt=[Ut,Yt],K(w,"[]=",Xt),Xt[Xt.length-1])}),w["$[]="]("cloaked-context",He)),!c(ne=S.$build_block(O,Jt,Xe,E,T,w,R(["extension"],{extension:St}))))return w.$clear(),y}else S.$raise("Unsupported block type "+O+" at "+T.$cursor())}return c(a.$sourcemap())&&ne["$source_location="](T.$cursor_at_mark()),c(w["$[]"]("title"))&&(ne["$title="](Tt=w.$delete("title")),c(j("CAPTION_ATTRIBUTE_NAMES")["$[]"](ne.$context()))&&ne.$assign_caption(w.$delete("caption"))),ne["$style="](w["$[]"]("style")),c(Zt=c(v=ne.$id())?v:(L=[w["$[]"]("id")],K(ne,"id=",L),L[L.length-1]))&&(c(c(Tt)?Tt["$include?"](j("ATTR_REF_HEAD")):ne["$title?"]())&&ne.$title(),c(a.$register("refs",[Zt,ne]))||S.$logger().$warn(S.$message_with_context("id assigned to block already in use: "+Zt,R(["source_location"],{source_location:T.$cursor_at_mark()})))),c(w["$empty?"]())||ne.$update_attributes(w),ne.$commit_subs(),c(ne["$sub?"]("callouts"))&&(c(S.$catalog_callouts(ne.$source(),a))||ne.$remove_sub("callouts")),ne},-3),I(ce,"$read_paragraph_lines",function(T,E,w){var U=y;return w==null&&(w=R([],{})),w["$[]="]("break_on_blank_lines",!0),w["$[]="]("break_on_list_continuation",!0),w["$[]="]("preserve_last_line",!0),U=c(E)?c(j("Compliance").$block_terminates_paragraph())?j("StartOfBlockOrListProc"):j("StartOfListProc"):c(j("Compliance").$block_terminates_paragraph())?j("StartOfBlockProc"):j("NoOp"),K(T,"read_lines_until",[w],U.$to_proc())},-3),I(ce,"$is_delimited_block?",function(T,E){var w,U,L=this,Y=y,S=y,u=y,t=y,a=y;if(E==null&&(E=y),!(c(ve(Y=T.$length(),1))&&c(j("DELIMITED_BLOCK_HEADS")["$[]"](T.$slice(0,2)))))return y;if(ue(Y,2))S=T,u=2;else if(c(ge(Y,5))?(S=T,u=Y):S=T.$slice(0,u=4),c(j("Compliance").$markdown_syntax())&&c(S["$start_with?"]("`"))){if(ue(u,4)){if(ue(S,"````")||oe(S=S.$chop(),"```"))return y;T=S,Y=u=3}else if(oe(S,"```"))return y}else if(ue(u,3))return y;return U=j("DELIMITED_BLOCKS")["$[]"](S),w=we(U),t=w[0]==null?y:w[0],a=w[1]==null?y:w[1],c(t)&&(ue(Y,u)||c(L["$uniform?"](T.$slice(1,Y),j("DELIMITED_BLOCK_TAILS")["$[]"](S),et(Y,1))))?c(E)?j("BlockMatchData").$new(t,a,S,T):!0:y},-2),I(ce,"$build_block",function(T,E,w,U,L,Y,S){var u,t=this,a=y,v=y,_=y,l=y,F=y,A=y,M=y,W=y,ne=y,O=y,He=y;switch(S==null&&(S=R([],{})),E){case"skip":u=[!0,"simple"],a=u[0],v=u[1];break;case"raw":u=[!1,"simple"],a=u[0],v=u[1];break;default:u=[!1,E],a=u[0],v=u[1]}switch(c(w["$nil?"]())?(ue(v,"verbatim")?_=L.$read_lines_until(R(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(ue(E,"compound")&&(E="simple"),_=t.$read_paragraph_lines(L,!1,R(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:a}))),l=y):oe(v,"compound")?(_=L.$read_lines_until(R(["terminator","skip_processing","context","cursor"],{terminator:w,skip_processing:a,context:T,cursor:"at_mark"})),l=y):ue(w,!1)?(_=y,l=L):(_=y,F=L.$cursor(),l=j("Reader").$new(L.$read_lines_until(R(["terminator","skip_processing","context","cursor"],{terminator:w,skip_processing:a,context:T,cursor:"at_mark"})),F)),E){case"verbatim":A=(c(M=Y["$[]"]("tabsize"))?M:U.$document().$attributes()["$[]"]("tabsize")).$to_i(),c(W=Y["$[]"]("indent"))?t["$adjust_indentation!"](_,W.$to_i(),A):c(ve(A,0))&&t["$adjust_indentation!"](_,-1,A);break;case"skip":return y;default:}if(c(ne=S["$[]"]("extension")))if(Y.$delete("style"),c(O=ne.$process_method()["$[]"](U,c(He=l)?He:j("Reader").$new(_),Y.$merge()))&&oe(O,U))Y.$replace(O.$attributes()),ue(O.$content_model(),"compound")&&Ae(j("Block"),O)&&g((_=O.$lines())["$empty?"]())&&(E="compound",l=j("Reader").$new(_));else return y;else O=j("Block").$new(U,T,R(["content_model","source","attributes"],{content_model:E,source:_,attributes:Y}));return ue(E,"compound")&&t.$parse_blocks(l,O),O},-7),I(ce,"$parse_blocks",function(T,E,w){var U=this,L=y,Y=y,S=y;if(w==null&&(w=y),c(w))for(;c(c(L=c(Y=S=U.$next_block(T,E,w.$merge()))?E.$blocks()["$<<"](S):Y)?L:T["$has_more_lines?"]()););else for(;c(c(L=c(Y=S=U.$next_block(T,E))?E.$blocks()["$<<"](S):Y)?L:T["$has_more_lines?"]()););return y},-3),I(ce,"$parse_list",function(T,E,w,U){var L,Y=this,S=y,u=y,t=y,a=y;for(Ke["~"]==null&&(Ke["~"]=y),S=j("List").$new(w,E),u=j("ListRxMap")["$[]"](E);c(c(t=T["$has_more_lines?"]())?u["$=~"](T.$peek_line()):t)&&(c(a=Y.$parse_list_item(T,S,Ke["~"],(L=Ke["~"])===y?y:L["$[]"](1),U))&&S.$items()["$<<"](a),!!c(t=T.$skip_blank_lines())););return S}),I(ce,"$catalog_callouts",function(T,E){var w=y,U=y;return w=!1,U=0,c(T["$include?"]("<"))&&K(T,"scan",[j("CalloutScanRx")],function(){var Y;return c(((Y=Ke["~"])===y?y:Y["$[]"](0))["$start_with?"]("\\"))||E.$callouts().$register(ue((Y=Ke["~"])===y?y:Y["$[]"](2),".")?(U=Ce(U,1)).$to_s():(Y=Ke["~"])===y?y:Y["$[]"](2)),w=!0}),w}),I(ce,"$catalog_inline_anchor",function(T,E,w,U,L){var Y=this;return L==null&&(L=w.$document()),c(E)&&c(E["$include?"](j("ATTR_REF_HEAD")))&&(E=L.$sub_attributes(E)),c(L.$register("refs",[T,j("Inline").$new(w,"anchor",E,R(["type","id"],{type:"ref",id:T}))]))||(Ae(j("Reader"),U)&&(U=U.$cursor()),Y.$logger().$warn(Y.$message_with_context("id assigned to anchor already in use: "+T,R(["source_location"],{source_location:U})))),y},-5),I(ce,"$catalog_inline_anchors",function(T,E,w,U){var L=this;return(c(T["$include?"]("[["))||c(T["$include?"]("or:")))&&K(T,"scan",[j("InlineAnchorScanRx")],function Y(){var S,u=Y.$$s==null?this:Y.$$s,t=y,a=y,v=y,_=y;if(c(t=(S=Ke["~"])===y?y:S["$[]"](1))){if(c(a=(S=Ke["~"])===y?y:S["$[]"](2))&&c(a["$include?"](j("ATTR_REF_HEAD")))&&c((a=w.$sub_attributes(a))["$empty?"]()))return y}else t=(S=Ke["~"])===y?y:S["$[]"](3),c(a=(S=Ke["~"])===y?y:S["$[]"](4))&&(c(a["$include?"]("]"))?(a=a.$gsub("\\]","]"),c(a["$include?"](j("ATTR_REF_HEAD")))&&(a=w.$sub_attributes(a))):c(a["$include?"](j("ATTR_REF_HEAD")))&&c((a=w.$sub_attributes(a))["$empty?"]())&&(a=y));return c(w.$register("refs",[t,j("Inline").$new(E,"anchor",a,R(["type","id"],{type:"ref",id:t}))]))?y:(v=U.$cursor_at_mark(),c(ve(_=Ce(((S=Ke["~"])===y?y:S.$pre_match()).$count(j("LF")),c(((S=Ke["~"])===y?y:S["$[]"](0))["$start_with?"](j("LF")))?1:0),0))&&(v=v.$dup()).$advance(_),u.$logger().$warn(u.$message_with_context("id assigned to anchor already in use: "+t,R(["source_location"],{source_location:v}))))},{$$s:L}),y}),I(ce,"$catalog_inline_biblio_anchor",function(T,E,w,U){var L=this,Y=y;return c(w.$document().$register("refs",[T,j("Inline").$new(w,"anchor",c(Y=E)?"["+E+"]":Y,R(["type","id"],{type:"bibref",id:T}))]))||L.$logger().$warn(L.$message_with_context("id assigned to bibliography anchor already in use: "+T,R(["source_location"],{source_location:U.$cursor()}))),y}),I(ce,"$parse_description_list",function(T,E,w){var U=this,L=y,Y=y,S=y,u=y,t=y;for(Ke["~"]==null&&(Ke["~"]=y),L=j("List").$new(w,"dlist"),Y=j("DescriptionListSiblingRx")["$[]"](E["$[]"](2)),L.$items()["$<<"](S=U.$parse_list_item(T,L,E,Y));c(c(u=T["$has_more_lines?"]())?Y["$=~"](T.$peek_line()):u);)t=U.$parse_list_item(T,L,Ke["~"],Y),c(S["$[]"](1))?L.$items()["$<<"](S=t):(S["$[]"](0)["$<<"](t["$[]"](0)["$[]"](0)),S["$[]="](1,t["$[]"](1)));return L}),I(ce,"$parse_callout_list",function(T,E,w,U){var L=this,Y=y,S=y,u=y,t=y,a=y,v=y,_=y,l=y;for(Y=j("List").$new(w,"colist"),S=1,u=0;c(c(t=E)?t:c(a=E=j("CalloutListRx").$match(T.$peek_line()))?T.$mark():a);)ue(v=E["$[]"](1),".")&&(v=(u=Ce(u,1)).$to_s()),ue(v,S.$to_s())||L.$logger().$warn(L.$message_with_context("callout list item index: expected "+S+", got "+v,R(["source_location"],{source_location:T.$cursor_at_mark()}))),c(_=L.$parse_list_item(T,Y,E,"<1>"))&&(Y.$items()["$<<"](_),c((l=U.$callout_ids(Y.$items().$size()))["$empty?"]())?L.$logger().$warn(L.$message_with_context("no callout found for <"+Y.$items().$size()+">",R(["source_location"],{source_location:T.$cursor_at_mark()}))):_.$attributes()["$[]="]("coids",l)),S=Ce(S,1),E=y;return U.$next_list(),Y}),I(ce,"$parse_list_item",function(T,E,w,U,L){var Y,S,u=this,t=y,a=y,v=y,_=y,l=y,F=y,A=y,M=y,W=y,ne=y,O=y,He=y,Xe=y,it=y,nt=y,at=y,ct=y,ut=y,_t=y,ft=y;if(L==null&&(L=y),ue(t=E.$context(),"dlist"))a=!0,v=j("ListItem").$new(E,_=w["$[]"](1)),c(_["$start_with?"]("[["))&&c(j("LeadingInlineAnchorRx")["$=~"](_))&&u.$catalog_inline_anchor((Y=Ke["~"])===y?y:Y["$[]"](1),c(l=(Y=Ke["~"])===y?y:Y["$[]"](2))?l:((Y=Ke["~"])===y?y:Y.$post_match()).$lstrip(),v,T),c(F=w["$[]"](3))&&(A=!0),M=j("ListItem").$new(E,F),c(E.$document().$sourcemap())&&(v["$source_location="](T.$cursor()),c(A)?M["$source_location="](v.$source_location()):W=!0);else switch(A=!0,M=j("ListItem").$new(E,F=w["$[]"](2)),c(E.$document().$sourcemap())&&M["$source_location="](T.$cursor()),t){case"ulist":M["$marker="](U),c(F["$start_with?"]("["))&&(c(L)&&ue(L,"bibliography")?c(j("InlineBiblioAnchorRx")["$=~"](F))&&u.$catalog_inline_biblio_anchor((Y=Ke["~"])===y?y:Y["$[]"](1),(Y=Ke["~"])===y?y:Y["$[]"](2),M,T):c(F["$start_with?"]("[["))?c(j("LeadingInlineAnchorRx")["$=~"](F))&&u.$catalog_inline_anchor((Y=Ke["~"])===y?y:Y["$[]"](1),(Y=Ke["~"])===y?y:Y["$[]"](2),M,T):c(F["$start_with?"]("[ ] ","[x] ","[*] "))&&(E.$set_option("checklist"),M.$attributes()["$[]="]("checkbox",""),c(F["$start_with?"]("[ "))||M.$attributes()["$[]="]("checked",""),M["$text="](F.$slice(4,F.$length()))));break;case"olist":S=u.$resolve_ordered_list_marker(U,ne=E.$items().$size(),!0,T),Y=we(S),U=Y[0]==null?y:Y[0],O=Y[1]==null?y:Y[1],M["$marker="](U),ue(ne,0)&&g(L)&&E["$style="](c(He=O)?He:(c(Xe=j("ORDERED_LIST_STYLES")["$[]"](et(U.$length(),1)))?Xe:"arabic").$to_s()),c(F["$start_with?"]("[["))&&c(j("LeadingInlineAnchorRx")["$=~"](F))&&u.$catalog_inline_anchor((Y=Ke["~"])===y?y:Y["$[]"](1),(Y=Ke["~"])===y?y:Y["$[]"](2),M,T);break;default:M["$marker="](U),c(F["$start_with?"]("[["))&&c(j("LeadingInlineAnchorRx")["$=~"](F))&&u.$catalog_inline_anchor((Y=Ke["~"])===y?y:Y["$[]"](1),(Y=Ke["~"])===y?y:Y["$[]"](2),M,T)}if(T.$shift(),it=T.$cursor(),nt=j("Reader").$new(u.$read_lines_for_list_item(T,t,U,A),it),c(nt["$has_more_lines?"]())){for(c(W)&&M["$source_location="](it),at=nt.$skip_line_comments(),c(ct=nt.$peek_line())&&(c(at["$empty?"]())||nt.$unshift_lines(at),c(ct["$empty?"]())||(ut=!0,c(a)||(A=y))),c(_t=u.$next_block(nt,M,R([],{}),R(["text_only","list_type"],{text_only:c(A)?y:!0,list_type:t})))&&M.$blocks()["$<<"](_t);c(nt["$has_more_lines?"]());)c(_t=u.$next_block(nt,M,R([],{}),R(["list_type"],{list_type:t})))&&M.$blocks()["$<<"](_t);c(ut)&&c(ft=M.$blocks()["$[]"](0))&&ue(ft.$context(),"paragraph")&&M.$fold_first()}return c(a)?[[v],c(M["$text?"]())||c(M["$blocks?"]())?M:y]:M},-5),I(ce,"$read_lines_for_list_item",function(T,E,w,U){var L,Y=this,S=y,u=y,t=y,a=y,v=y,_=y,l=y,F=y,A=y,M=y,W=y,ne=y,O=y,He=y,Xe=y;for(w==null&&(w=y),U==null&&(U=!0),S=[],u="inactive",t=!1,a=y,v=E["$=="]("dlist");c(T["$has_more_lines?"]())&&(_=T.$read_line(),!c(Y["$is_sibling_list_item?"](_,E,w)));){if(l=c(S["$empty?"]())?y:S["$[]"](-1),ue(l,j("LIST_CONTINUATION"))&&(ue(u,"inactive")&&(u="active",U=!0,c(t)||S["$[]="](-1,"")),ue(_,j("LIST_CONTINUATION")))){oe(u,"frozen")&&(u="frozen",S["$<<"](_)),_=y;continue}if(c(F=Y["$is_delimited_block?"](_,!0))){if(!ue(u,"active"))break;S["$<<"](_),S.$concat(T.$read_lines_until(R(["terminator","read_last_line","context"],{terminator:F.$terminator(),read_last_line:!0,context:y}))),u="inactive"}else if(c(v)&&oe(u,"active")&&c(_["$start_with?"]("["))&&c(j("BlockAttributeLineRx")["$match?"](_))){for(A=[_];c(M=T.$peek_line());){if(c(Y["$is_delimited_block?"](M)))W=!0;else if(c(M["$empty?"]())||c(M["$start_with?"]("["))&&c(j("BlockAttributeLineRx")["$match?"](M))){A["$<<"](T.$read_line());continue}else c(j("AnyListRx")["$match?"](M))&&g(Y["$is_sibling_list_item?"](M,E,w))?S.$concat(A):W=!0;break}if(c(W)){T.$unshift_lines(A);break}}else if(ue(u,"active")&&g(_["$empty?"]()))c(j("LiteralParagraphRx")["$match?"](_))?(T.$unshift_line(_),c(v)?S.$concat(K(T,"read_lines_until",[R(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],function it(nt){var at=it.$$s==null?this:it.$$s;return nt==null&&(nt=y),at["$is_sibling_list_item?"](nt,E,w)},{$$s:Y})):S.$concat(T.$read_lines_until(R(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0}))),u="inactive"):ue(ne=_.$chr(),".")&&c(j("BlockTitleRx")["$match?"](_))||ue(ne,"[")&&c(j("BlockAttributeLineRx")["$match?"](_))||ue(ne,":")&&c(j("AttributeEntryRx")["$match?"](_))?S["$<<"](_):(c(O=K(c(t)?["dlist"]:j("NESTABLE_LIST_CONTEXTS"),"find",[],function(nt){return nt==null&&(nt=y),j("ListRxMap")["$[]"](nt)["$match?"](_)}))&&(t=!0,ue(O,"dlist")&&c(((L=Ke["~"])===y?y:L["$[]"](3))["$nil_or_empty?"]())&&(U=!1)),S["$<<"](_),u="inactive");else if(c(l)&&c(l["$empty?"]())){if(c(_["$empty?"]())&&(!c(_=c(He=T.$skip_blank_lines())?T.$read_line():He)||c(Y["$is_sibling_list_item?"](_,E,w))))break;if(ue(_,j("LIST_CONTINUATION")))a=S.$size(),S["$<<"](_);else if(c(U)){if(c(Y["$is_sibling_list_item?"](_,E,w)))break;if(c(O=K(j("NESTABLE_LIST_CONTEXTS"),"find",[],function(nt){return nt==null&&(nt=y),j("ListRxMap")["$[]"](nt)["$=~"](_)})))S["$<<"](_),t=!0,ue(O,"dlist")&&c(((L=Ke["~"])===y?y:L["$[]"](3))["$nil_or_empty?"]())&&(U=!1);else if(c(j("LiteralParagraphRx")["$match?"](_)))T.$unshift_line(_),c(v)?S.$concat(K(T,"read_lines_until",[R(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],function it(nt){var at=it.$$s==null?this:it.$$s;return nt==null&&(nt=y),at["$is_sibling_list_item?"](nt,E,w)},{$$s:Y})):S.$concat(T.$read_lines_until(R(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})));else break}else c(t)||S.$pop(),S["$<<"](_),U=!0}else c(_["$empty?"]())||(U=!0),c(O=K(c(t)?["dlist"]:j("NESTABLE_LIST_CONTEXTS"),"find",[],function(nt){return nt==null&&(nt=y),j("ListRxMap")["$[]"](nt)["$=~"](_)}))&&(t=!0,ue(O,"dlist")&&c(((L=Ke["~"])===y?y:L["$[]"](3))["$nil_or_empty?"]())&&(U=!1)),S["$<<"](_);_=y}for(c(_)&&T.$unshift_line(_),c(a)&&S["$[]="](a,"");!c(S["$empty?"]());)if(c((Xe=S["$[]"](-1))["$empty?"]()))S.$pop();else{ue(Xe,j("LIST_CONTINUATION"))&&S.$pop();break}return S},-3),I(ce,"$initialize_section",function(T,E,w){var U,L,Y=this,S=y,u=y,t=y,a=y,v=y,_=y,l=y,F=y,A=y,M=y,W=y,ne=y,O=y,He=y,Xe=y,it=y,nt=y;return w==null&&(w=R([],{})),S=E.$document(),u=(t=S.$doctype())["$=="]("book"),c(S.$sourcemap())&&(a=T.$cursor()),v=w["$[]"](1),L=Y.$parse_section_title(T,S,w["$[]"]("id")),U=we(L),_=U[0]==null?y:U[0],l=U[1]==null?y:U[1],F=U[2]==null?y:U[2],A=U[3]==null?y:U[3],M=U[4]==null?y:U[4],c(v)?c(u)&&ue(v,"abstract")?(U=["chapter",1],W=U[0],A=U[1]):c(v["$start_with?"]("sect"))&&c(j("SectionLevelStyleRx")["$match?"](v))?W="section":(U=[v,!0],W=U[0],ne=U[1],ue(A,0)&&(A=1),O=W["$=="]("appendix")):c(u)?W=ue(A,0)?"part":c(ve(A,1))?"section":"chapter":ue(t,"manpage")&&ue(F.$casecmp("synopsis"),0)?(U=["synopsis",!0],W=U[0],ne=U[1]):W="section",c(l)&&w["$[]="]("reftext",l),He=j("Section").$new(E,A),U=[_,F,W,a],L=[U[0]],K(He,"id=",L),L[L.length-1],L=[U[1]],K(He,"title=",L),L[L.length-1],L=[U[2]],K(He,"sectname=",L),L[L.length-1],L=[U[3]],K(He,"source_location=",L),L[L.length-1],c(ne)?(He["$special="](!0),c(O)?He["$numbered="](!0):ue(S.$attributes()["$[]"]("sectnums"),"all")&&He["$numbered="](c(u)&&ue(A,1)?"chapter":!0)):c(S.$attributes()["$[]"]("sectnums"))&&c(ve(A,0))?He["$numbered="](c(He.$special())?c(Xe=E.$numbered())||Xe:!0):c(u)&&ue(A,0)&&c(S.$attributes()["$[]"]("partnums"))&&He["$numbered="](!0),c(it=c(Xe=He.$id())?Xe:(U=[c(S.$attributes()["$key?"]("sectids"))?nt=j("Section").$generate_id(He.$title(),S):y],K(He,"id=",U),U[U.length-1]))&&(c(nt)||g(F["$include?"](j("ATTR_REF_HEAD")))||He.$title(),c(S.$register("refs",[it,He]))||Y.$logger().$warn(Y.$message_with_context("id assigned to section already in use: "+it,R(["source_location"],{source_location:T.$cursor_at_line(et(T.$lineno(),c(M)?1:2))})))),He.$update_attributes(w),T.$skip_blank_lines(),He},-3),I(ce,"$is_next_line_section?",function(T,E){var w=this,U=y,L=y,Y=y;return c(U=E["$[]"](1))&&(ue(U,"discrete")||ue(U,"float"))?y:c(j("Compliance").$underline_style_section_titles())?(L=T.$peek_lines(2,c(Y=U)?U["$=="]("comment"):Y),w["$is_section_title?"](c(Y=L["$[]"](0))?Y:"",L["$[]"](1))):w["$atx_section_title?"](c(Y=T.$peek_line())?Y:"")}),I(ce,"$is_next_line_doctitle?",function(T,E,w){var U=this,L=y,Y=y;return c(w)?c(L=Y=U["$is_next_line_section?"](T,E))?Ce(Y,w.$to_i())["$=="](0):L:U["$is_next_line_section?"](T,E)["$=="](0)}),I(ce,"$is_section_title?",function(T,E){var w=this,U=y;return E==null&&(E=y),c(U=w["$atx_section_title?"](T))?U:c(E["$nil_or_empty?"]())?y:w["$setext_section_title?"](T,E)},-2),I(ce,"$atx_section_title?",function(T){var E,w=y;return c(c(j("Compliance").$markdown_syntax())?c(w=T["$start_with?"]("=","#"))?j("ExtAtxSectionTitleRx")["$=~"](T):w:c(w=T["$start_with?"]("="))?j("AtxSectionTitleRx")["$=~"](T):w)?et(((E=Ke["~"])===y?y:E["$[]"](1)).$length(),1):y}),I(ce,"$setext_section_title?",function(T,E){var w=this,U=y,L=y,Y=y;return c(L=j("SETEXT_SECTION_LEVELS")["$[]"](Y=E.$chr()))&&c(w["$uniform?"](E,Y,U=E.$length()))&&c(j("SetextSectionTitleRx")["$match?"](T))&&c(ge(et(T.$length(),U).$abs(),2))?L:y}),I(ce,"$parse_section_title",function(T,E,w){var U,L,Y=this,S=y,u=y,t=y,a=y,v=y,_=y,l=y,F=y,A=y;return w==null&&(w=y),S=y,u=T.$read_line(),c(c(j("Compliance").$markdown_syntax())?c(t=u["$start_with?"]("=","#"))?j("ExtAtxSectionTitleRx")["$=~"](u):t:c(t=u["$start_with?"]("="))?j("AtxSectionTitleRx")["$=~"](u):t)?(U=[et(((L=Ke["~"])===y?y:L["$[]"](1)).$length(),1),(L=Ke["~"])===y?y:L["$[]"](2),!0],a=U[0],v=U[1],_=U[2],c(w)||c(v["$end_with?"]("]]"))&&c(j("InlineSectionAnchorRx")["$=~"](v))&&g((U=Ke["~"])===y?y:U["$[]"](1))&&(U=[v.$slice(0,et(v.$length(),((L=Ke["~"])===y?y:L["$[]"](0)).$length())),(L=Ke["~"])===y?y:L["$[]"](2),(L=Ke["~"])===y?y:L["$[]"](3)],v=U[0],w=U[1],S=U[2])):c(j("Compliance").$underline_style_section_titles())&&c(A=T.$peek_line(!0))&&c(a=j("SETEXT_SECTION_LEVELS")["$[]"](F=A.$chr()))&&c(Y["$uniform?"](A,F,l=A.$length()))&&c(v=c(t=j("SetextSectionTitleRx")["$=~"](u))?(U=Ke["~"])===y?y:U["$[]"](1):t)&&c(ge(et(u.$length(),l).$abs(),2))?(_=!1,c(w)||c(v["$end_with?"]("]]"))&&c(j("InlineSectionAnchorRx")["$=~"](v))&&g((U=Ke["~"])===y?y:U["$[]"](1))&&(U=[v.$slice(0,et(v.$length(),((L=Ke["~"])===y?y:L["$[]"](0)).$length())),(L=Ke["~"])===y?y:L["$[]"](2),(L=Ke["~"])===y?y:L["$[]"](3)],v=U[0],w=U[1],S=U[2]),T.$shift()):Y.$raise("Unrecognized section at "+T.$cursor_at_prev_line()),c(E["$attr?"]("leveloffset"))&&(a=Ce(a,E.$attr("leveloffset").$to_i()),c(ge(a,0))&&(a=0)),[w,S,v,a,_]},-3),I(ce,"$parse_header_metadata",function(T,E,w){var U,L=this,Y=y,S=y,u=y,t=y,a=y,v=y,_=y,l=y,F=y,A=y,M=y,W=y,ne=y,O=y,He=y,Xe=y,it=y,nt=y,at=y;if(E==null&&(E=y),w==null&&(w=!0),Y=c(S=E)?E.$attributes():S,L.$process_attribute_entries(T,E),c(T["$has_more_lines?"]())&&g(T["$next_line_empty?"]())?(u=(t=L.$process_authors(T.$read_line())).$delete("authorcount"),c(E)&&c(ve((U=["authorcount",u],K(Y,"[]=",U),U[U.length-1]),0))&&(K(t,"each",[],function(ut,_t){var ft;return ut==null&&(ut=y),_t==null&&(_t=y),c(Y["$key?"](ut))?y:(ft=[ut,E.$apply_header_subs(_t)],K(Y,"[]=",ft),ft[ft.length-1])}),a=Y["$[]"]("author"),v=Y["$[]"]("authorinitials"),_=Y["$[]"]("authors")),t["$[]="]("authorcount",u),L.$process_attribute_entries(T,E),c(T["$has_more_lines?"]())&&g(T["$next_line_empty?"]())&&(l=T.$read_line(),c(F=j("RevisionInfoLineRx").$match(l))?(A=R([],{}),c(F["$[]"](1))&&A["$[]="]("revnumber",F["$[]"](1).$rstrip()),c((M=F["$[]"](2).$strip())["$empty?"]())||(g(F["$[]"](1))&&c(M["$start_with?"]("v"))?A["$[]="]("revnumber",M.$slice(1,M.$length())):A["$[]="]("revdate",M)),c(F["$[]"](3))&&A["$[]="]("revremark",F["$[]"](3).$rstrip()),c(E)&&g(A["$empty?"]())&&K(A,"each",[],function(ut,_t){var ft;return ut==null&&(ut=y),_t==null&&(_t=y),c(Y["$key?"](ut))?y:(ft=[ut,E.$apply_header_subs(_t)],K(Y,"[]=",ft),ft[ft.length-1])})):T.$unshift_line(l)),L.$process_attribute_entries(T,E),T.$skip_blank_lines()):t=R([],{}),c(E)){if(c(Y["$key?"]("author"))&&oe(W=Y["$[]"]("author"),a))ne=L.$process_authors(W,!0,!1),oe(Y["$[]"]("authorinitials"),v)&&ne.$delete("authorinitials");else if(c(Y["$key?"]("authors"))&&oe(W=Y["$[]"]("authors"),_))ne=L.$process_authors(W,!0);else{for(U=[[],1,"author_1",!1,!1],O=U[0],He=U[1],Xe=U[2],it=U[3],nt=U[4];c(Y["$key?"](Xe));)ue(at=Y["$[]"](Xe),t["$[]"](Xe))?(O["$<<"](y),nt=!0):(O["$<<"](at),it=!0),Xe="author_"+(He=Ce(He,1));c(it)?(c(nt)&&K(O,"each_with_index",[],function(ut,_t){var ft,mt=y;return ut==null&&(ut=y),_t==null&&(_t=y),c(ut)?y:(ft=[_t,K([t["$[]"]("firstname_"+(mt=Ce(_t,1))),t["$[]"]("middlename_"+mt),t["$[]"]("lastname_"+mt)].$compact(),"map",[],function(wt){return wt==null&&(wt=y),wt.$tr(" ","_")}).$join(" ")],K(O,"[]=",ft),ft[ft.length-1])}),ne=L.$process_authors(O,!0,!1)):ne=R(["authorcount"],{authorcount:0})}ue(ne["$[]"]("authorcount"),0)?c(u)?ne=y:Y["$[]="]("authorcount",0):(Y.$update(ne),g(Y["$key?"]("email"))&&c(Y["$key?"]("email_1"))&&Y["$[]="]("email",Y["$[]"]("email_1")))}return c(w)?t.$merge(A.$to_h(),ne.$to_h()):y},-2),I(ce,"$process_authors",function(T,E,w){var U=y,L=y;return E==null&&(E=!1),w==null&&(w=!0),U=R([],{}),L=0,K(c(w)&&c(T["$include?"](";"))?T.$split(j("AuthorDelimiterRx")):[].concat(st(T)),"each",[],function(S){var u,t=y,a=y,v=y,_=y,l=y,F=y,A=y,M=y;return S==null&&(S=y),c(S["$empty?"]())?y:(t=R([],{}),ue(L=Ce(L,1),1)?K(j("AuthorKeys"),"each",[],function(ne){var O;return ne==null&&(ne=y),O=[ne.$to_sym(),ne],K(t,"[]=",O),O[O.length-1]}):K(j("AuthorKeys"),"each",[],function(ne){var O;return ne==null&&(ne=y),O=[ne.$to_sym(),""+ne+"_"+L],K(t,"[]=",O),O[O.length-1]}),c(E)?(c(S["$include?"]("<"))&&(U["$[]="](t["$[]"]("author"),S.$tr("_"," ")),S=S.$gsub(j("XmlSanitizeRx"),"")),ue((a=S.$split(y,3)).$size(),3)&&a["$<<"](a.$pop().$squeeze(" "))):c(v=j("AuthorInfoLineRx").$match(S))&&(a=v.$to_a()).$shift(),c(a)?(_=(u=[t["$[]"]("firstname"),l=a["$[]"](0).$tr("_"," ")],K(U,"[]=",u),u[u.length-1]),U["$[]="](t["$[]"]("authorinitials"),l.$chr()),c(a["$[]"](1))&&(c(a["$[]"](2))?(U["$[]="](t["$[]"]("middlename"),F=a["$[]"](1).$tr("_"," ")),U["$[]="](t["$[]"]("lastname"),A=a["$[]"](2).$tr("_"," ")),_=Ce(Ce(Ce(Ce(l," "),F)," "),A),U["$[]="](t["$[]"]("authorinitials"),""+l.$chr()+F.$chr()+A.$chr())):(U["$[]="](t["$[]"]("lastname"),A=a["$[]"](1).$tr("_"," ")),_=Ce(Ce(l," "),A),U["$[]="](t["$[]"]("authorinitials"),""+l.$chr()+A.$chr()))),c(M=U["$[]"](t["$[]"]("author")))||U["$[]="](t["$[]"]("author"),_),c(E)||g(a["$[]"](3))||U["$[]="](t["$[]"]("email"),a["$[]"](3))):(U["$[]="](t["$[]"]("author"),(u=[t["$[]"]("firstname"),l=S.$squeeze(" ").$strip()],K(U,"[]=",u),u[u.length-1])),U["$[]="](t["$[]"]("authorinitials"),l.$chr())),ue(L,1)?(u=["authors",U["$[]"](t["$[]"]("author"))],K(U,"[]=",u),u[u.length-1]):(ue(L,2)&&K(j("AuthorKeys"),"each",[],function(ne){var O;return ne==null&&(ne=y),c(U["$key?"](ne))?(O=[""+ne+"_1",U["$[]"](ne)],K(U,"[]=",O),O[O.length-1]):y}),u=["authors",""+U["$[]"]("authors")+", "+U["$[]"](t["$[]"]("author"))],K(U,"[]=",u),u[u.length-1]))}),U["$[]="]("authorcount",L),U},-2),I(ce,"$parse_block_metadata_lines",function(T,E,w,U){var L=this,Y=y;for(w==null&&(w=R([],{})),U==null&&(U=R([],{}));c(L.$parse_block_metadata_line(T,E,w,U))&&(T.$shift(),!!c(Y=T.$skip_blank_lines())););return w},-3),I(ce,"$parse_block_metadata_line",function(T,E,w,U){var L,Y=this,S=y,u=y,t=y,a=y,v=y,_=y;if(Ke["~"]==null&&(Ke["~"]=y),U==null&&(U=R([],{})),c(u=T.$peek_line())&&c(c(U["$[]"]("text_only"))?u["$start_with?"]("[","/"):S=u["$start_with?"]("[",".","/",":"))){if(c(u["$start_with?"]("["))){if(c(u["$start_with?"]("[["))){if(c(u["$end_with?"]("]]"))&&c(j("BlockAnchorRx")["$=~"](u)))return w["$[]="]("id",(L=Ke["~"])===y?y:L["$[]"](1)),c(t=(L=Ke["~"])===y?y:L["$[]"](2))&&w["$[]="]("reftext",c(t["$include?"](j("ATTR_REF_HEAD")))?E.$sub_attributes(t):t),!0}else if(c(u["$end_with?"]("]"))&&c(j("BlockAttributeListRx")["$=~"](u)))return a=w["$[]"](1),c(E.$parse_attributes((L=Ke["~"])===y?y:L["$[]"](1),[],R(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!0,into:w}))["$[]"](1))&&w["$[]="](1,c(v=Y.$parse_style_attribute(w,T))?v:a),!0}else if(c(S)&&c(u["$start_with?"]("."))){if(c(j("BlockTitleRx")["$=~"](u)))return w["$[]="]("title",(L=Ke["~"])===y?y:L["$[]"](1)),!0}else if(g(S)||c(u["$start_with?"]("/"))){if(c(u["$start_with?"]("//"))){if(ue(u,"//"))return!0;if(c(S)&&c(Y["$uniform?"](u,"/",_=u.$length()))){if(!ue(_,3))return T.$read_lines_until(R(["terminator","skip_first_line","preserve_last_line","skip_processing","context"],{terminator:u,skip_first_line:!0,preserve_last_line:!0,skip_processing:!0,context:"comment"})),!0}else if(!c(u["$start_with?"]("///")))return!0}}else if(c(S)&&c(u["$start_with?"](":"))&&c(j("AttributeEntryRx")["$=~"](u)))return Y.$process_attribute_entry(T,E,w,Ke["~"]),!0}return y},-4),I(ce,"$process_attribute_entries",function(T,E,w){var U=this;for(w==null&&(w=y),T.$skip_comment_lines();c(U.$process_attribute_entry(T,E,w));)T.$shift(),T.$skip_comment_lines()},-3),I(ce,"$process_attribute_entry",function(T,E,w,U){var L,Y=this,S=y,u=y,t=y,a=y,v=y,_=y;if(w==null&&(w=y),U==null&&(U=y),c(U)||c(U=c(T["$has_more_lines?"]())?j("AttributeEntryRx").$match(T.$peek_line()):y)){if(c((S=U["$[]"](2))["$nil_or_empty?"]()))S="";else if(c(S["$end_with?"](j("LINE_CONTINUATION"),j("LINE_CONTINUATION_LEGACY"))))for(L=[S.$slice(et(S.$length(),2),2),S.$slice(0,et(S.$length(),2)).$rstrip()],u=L[0],S=L[1];c(c(t=T.$advance())?(a=c(v=T.$peek_line())?v:"")["$empty?"]()["$!"]():t)&&(a=a.$lstrip(),c(_=a["$end_with?"](u))&&(a=a.$slice(0,et(a.$length(),2)).$rstrip()),S=""+S+(c(S["$end_with?"](j("HARD_LINE_BREAK")))?j("LF"):" ")+a,!!c(_)););return Y.$store_attribute(U["$[]"](1),S,E,w),!0}else return y},-3),I(ce,"$store_attribute",function(T,E,w,U){var L=this,Y=y;return w==null&&(w=y),U==null&&(U=y),c(T["$end_with?"]("!"))?(T=T.$chop(),E=y):c(T["$start_with?"]("!"))&&(T=T.$slice(1,T.$length()),E=y),ue(T=L.$sanitize_attribute_name(T),"numbered")?T="sectnums":ue(T,"hardbreaks")?T="hardbreaks-option":ue(T,"showtitle")&&L.$store_attribute("notitle",c(E)?y:"",w,U),c(w)?c(E)?(ue(T,"leveloffset")&&(c(E["$start_with?"]("+"))?E=Ce(w.$attr("leveloffset",0).$to_i(),E.$slice(1,E.$length()).$to_i()).$to_s():c(E["$start_with?"]("-"))&&(E=et(w.$attr("leveloffset",0).$to_i(),E.$slice(1,E.$length()).$to_i()).$to_s())),c(Y=w.$set_attribute(T,E))&&(E=Y,c(U)&&Je(j("Document"),"AttributeEntry").$new(T,E).$save_to(U))):c(w.$delete_attribute(T))&&c(U)&&Je(j("Document"),"AttributeEntry").$new(T,E).$save_to(U):c(U)&&Je(j("Document"),"AttributeEntry").$new(T,E).$save_to(U),[T,E]},-3),I(ce,"$resolve_list_marker",function(T,E,w,U,L){var Y=this;switch(w==null&&(w=0),U==null&&(U=!1),L==null&&(L=y),T){case"ulist":return E;case"olist":return Y.$resolve_ordered_list_marker(E,w,U,L)["$[]"](0);default:return"<1>"}},-3),I(ce,"$resolve_ordered_list_marker",function(T,E,w,U){var L=this,Y=y,S=y,u=y;if(E==null&&(E=0),w==null&&(w=!1),U==null&&(U=y),c(T["$start_with?"](".")))return[T];switch(Y=K(j("ORDERED_LIST_STYLES"),"find",[],function(a){return a==null&&(a=y),j("OrderedListMarkerRxMap")["$[]"](a)["$match?"](T)})){case"arabic":c(w)&&(S=Ce(E,1),u=T.$to_i()),T="1.";break;case"loweralpha":c(w)&&(S=Ce("a"["$[]"](0).$ord(),E).$chr(),u=T.$chop()),T="a.";break;case"upperalpha":c(w)&&(S=Ce("A"["$[]"](0).$ord(),E).$chr(),u=T.$chop()),T="A.";break;case"lowerroman":c(w)&&(S=j("Helpers").$int_to_roman(Ce(E,1)).$downcase(),u=T.$chop()),T="i)";break;case"upperroman":c(w)&&(S=j("Helpers").$int_to_roman(Ce(E,1)),u=T.$chop()),T="I)";break;default:}return c(w)&&oe(S,u)&&L.$logger().$warn(L.$message_with_context("list item index: expected "+S+", got "+u,R(["source_location"],{source_location:U.$cursor()}))),[T,Y]},-2),I(ce,"$is_sibling_list_item?",function(T,E,w){var U,L=this,Y=y;return Ae(Je("Regexp"),w)?w["$match?"](T):c(Y=j("ListRxMap")["$[]"](E)["$=~"](T))?w["$=="](L.$resolve_list_marker(E,(U=Ke["~"])===y?y:U["$[]"](1))):Y}),I(ce,"$parse_table",function(T,E,w){var U,L,Y,S=this,u=y,t=y,a=y,v=y,_=y,l=y,F=y,A=y,M=y,W=y,ne=y,O=y,He=y,Xe=y,it=y,nt=y,at=y,ct=y;for(u=j("Table").$new(E,w),c(w["$key?"]("cols"))&&g((t=S.$parse_colspecs(w["$[]"]("cols")))["$empty?"]())&&(u.$create_columns(t),a=!0),v=c(_=T.$skip_blank_lines())?_:0,c(w["$[]"]("header-option"))?u["$has_header_option="](!0):ue(v,0)&&g(w["$[]"]("noheader-option"))&&(u["$has_header_option="]("implicit"),l=!0),F=Je(j("Table"),"ParserContext").$new(T,u,w),U=[F.$format(),-1,y],A=U[0],M=U[1],W=U[2];c(ne=T.$read_line());){for(c(O=ve(M=Ce(M,1),0))&&c(ne["$empty?"]())?(ne=y,c(W)&&(W=Ce(W,1))):ue(A,"psv")&&(c(F["$starts_with_delimiter?"](ne))?(ne=ne.$slice(1,ne.$length()),F.$close_open_cell(),c(W)&&(W=y)):(L=S.$parse_cellspec(ne,"start",F.$delimiter()),U=we(L),He=U[0]==null?y:U[0],ne=U[1]==null?y:U[1],c(He)?(F.$close_open_cell(He),c(W)&&(W=y)):c(W)&&ue(W,M)&&u["$has_header_option="](l=W=y))),c(O)||(T.$mark(),c(l)&&(c(T["$has_more_lines?"]())&&c(T.$peek_line()["$empty?"]())?W=1:u["$has_header_option="](l=y))),U=!1;U||c(!0);)if(U=!1,c(ne)&&c(Xe=F.$match_delimiter(ne))){if(L=[Xe.$pre_match(),Xe.$post_match()],it=L[0],nt=L[1],Ae("csv",_=A)){if(c(F["$buffer_has_unclosed_quotes?"](it))){if(F.$skip_past_delimiter(it),c((ne=nt)["$empty?"]()))break;U=!0;continue}F["$buffer="](""+F.$buffer()+it)}else if(Ae("dsv",_)){if(c(it["$end_with?"]("\\"))){if(F.$skip_past_escaped_delimiter(it),c((ne=nt)["$empty?"]())){F["$buffer="](""+F.$buffer()+j("LF")),F.$keep_cell_open();break}U=!0;continue}F["$buffer="](""+F.$buffer()+it)}else{if(c(it["$end_with?"]("\\"))){if(F.$skip_past_escaped_delimiter(it),c((ne=nt)["$empty?"]())){F["$buffer="](""+F.$buffer()+j("LF")),F.$keep_cell_open();break}U=!0;continue}Y=S.$parse_cellspec(it),L=we(Y),He=L[0]==null?y:L[0],at=L[1]==null?y:L[1],F.$push_cellspec(He),F["$buffer="](""+F.$buffer()+at)}c((ne=nt)["$empty?"]())&&(ne=y),F.$close_cell()}else{switch(F["$buffer="](""+F.$buffer()+ne+j("LF")),A){case"csv":c(F["$buffer_has_unclosed_quotes?"]())?(c(W)&&ue(M,0)&&u["$has_header_option="](l=W=y),F.$keep_cell_open()):F.$close_cell(!0);break;case"dsv":F.$close_cell(!0);break;default:F.$keep_cell_open()}break}if(c(F["$cell_open?"]()))c(T["$has_more_lines?"]())||F.$close_cell(!0);else if(!c(_=T.$skip_blank_lines()))break}return ue((ct=u.$attributes(),c(_=ct["$[]"]("colcount"))?_:(U=["colcount",u.$columns().$size()],K(ct,"[]=",U),U[U.length-1])),0)||c(a)||u.$assign_column_widths(),c(l)&&u["$has_header_option="](!0),u.$partition_header_footer(w),u}),I(ce,"$parse_colspecs",function(T){var E=y;return c(T["$include?"](" "))&&(T=T.$delete(" ")),ue(T,T.$to_i().$to_s())?K(Je("Array"),"new",[T.$to_i()],function(){return R(["width"],{width:1})}):(E=[],K(c(T["$include?"](","))?T.$split(",",-1):T.$split(";",-1),"each",[],function(U){var L,Y,S=y,u=y,t=y,a=y,v=y;return U==null&&(U=y),c(U["$empty?"]())?E["$<<"](R(["width"],{width:1})):c(S=j("ColumnSpecRx").$match(U))?(u=R([],{}),c(S["$[]"](2))&&(Y=S["$[]"](2).$split("."),L=we(Y),t=L[0]==null?y:L[0],a=L[1]==null?y:L[1],g(t["$nil_or_empty?"]())&&c(j("TableCellHorzAlignments")["$key?"](t))&&u["$[]="]("halign",j("TableCellHorzAlignments")["$[]"](t)),g(a["$nil_or_empty?"]())&&c(j("TableCellVertAlignments")["$key?"](a))&&u["$[]="]("valign",j("TableCellVertAlignments")["$[]"](a))),c(v=S["$[]"](3))?u["$[]="]("width",ue(v,"~")?-1:v.$to_i()):u["$[]="]("width",1),c(S["$[]"](4))&&c(j("TableCellStyles")["$key?"](S["$[]"](4)))&&u["$[]="]("style",j("TableCellStyles")["$[]"](S["$[]"](4))),c(S["$[]"](1))?K(1,"upto",[S["$[]"](1).$to_i()],function(){return E["$<<"](u.$merge())}):E["$<<"](u)):y}),E)}),I(ce,"$parse_cellspec",function(T,E,w){var U,L,Y=y,S=y,u=y,t=y,a=y,v=y,_=y;if(E==null&&(E="end"),w==null&&(w=y),U=[y,""],Y=U[0],S=U[1],ue(E,"start"))if(c(T["$include?"](w)))if(L=T.$partition(w),U=we(L),u=U[0]==null?y:U[0],t=U[1]==null?y:U[1],S=U[2]==null?y:U[2],c(Y=j("CellSpecStartRx").$match(u))){if(c(Y["$[]"](0)["$empty?"]()))return[R([],{}),S]}else return[y,T];else return[y,T];else if(c(Y=j("CellSpecEndRx").$match(T))){if(c(Y["$[]"](0).$lstrip()["$empty?"]()))return[R([],{}),T.$rstrip()];S=Y.$pre_match()}else return[R([],{}),T];if(a=R([],{}),c(Y["$[]"](1)))switch(L=Y["$[]"](1).$split("."),U=we(L),v=U[0]==null?y:U[0],_=U[1]==null?y:U[1],v=c(v["$nil_or_empty?"]())?1:v.$to_i(),_=c(_["$nil_or_empty?"]())?1:_.$to_i(),Y["$[]"](2)){case"+":ue(v,1)||a["$[]="]("colspan",v),ue(_,1)||a["$[]="]("rowspan",_);break;case"*":ue(v,1)||a["$[]="]("repeatcol",v);break;default:}return c(Y["$[]"](3))&&(L=Y["$[]"](3).$split("."),U=we(L),v=U[0]==null?y:U[0],_=U[1]==null?y:U[1],g(v["$nil_or_empty?"]())&&c(j("TableCellHorzAlignments")["$key?"](v))&&a["$[]="]("halign",j("TableCellHorzAlignments")["$[]"](v)),g(_["$nil_or_empty?"]())&&c(j("TableCellVertAlignments")["$key?"](_))&&a["$[]="]("valign",j("TableCellVertAlignments")["$[]"](_))),c(Y["$[]"](4))&&c(j("TableCellStyles")["$key?"](Y["$[]"](4)))&&a["$[]="]("style",j("TableCellStyles")["$[]"](Y["$[]"](4))),[a,S]},-2),I(ce,"$parse_style_attribute",function(T,E){var w,U=this,L=y,Y=y,S=y,u=y,t=y,a=y;return E==null&&(E=y),c(L=T["$[]"](1))&&g(L["$include?"](" "))&&c(j("Compliance").$shorthand_property_syntax())?(Y=y,S="",u=R([],{}),K(L,"each_char",[],function v(_){var l=v.$$s==null?this:v.$$s;switch(_==null&&(_=y),_){case".":return l.$yield_buffered_attribute(u,Y,S,E),S="",Y="role";case"#":return l.$yield_buffered_attribute(u,Y,S,E),S="",Y="id";case"%":return l.$yield_buffered_attribute(u,Y,S,E),S="",Y="option";default:return S=Ce(S,_)}},{$$s:U}),c(Y)?(U.$yield_buffered_attribute(u,Y,S,E),c(t=u["$[]"]("style"))&&T["$[]="]("style",t),c(u["$key?"]("id"))&&T["$[]="]("id",u["$[]"]("id")),c(u["$key?"]("role"))&&T["$[]="]("role",c((a=T["$[]"]("role"))["$nil_or_empty?"]())?u["$[]"]("role").$join(" "):""+a+" "+u["$[]"]("role").$join(" ")),c(u["$key?"]("option"))&&K(u["$[]"]("option"),"each",[],function(_){var l;return _==null&&(_=y),l=[""+_+"-option",""],K(T,"[]=",l),l[l.length-1]}),t):(w=["style",L],K(T,"[]=",w),w[w.length-1])):(w=["style",L],K(T,"[]=",w),w[w.length-1])},-2),I(ce,"$yield_buffered_attribute",function(T,E,w,U){var L,Y=this,S=y;return c(E)?c(w["$empty?"]())?c(U)?Y.$logger().$warn(Y.$message_with_context("invalid empty "+E+" detected in style attribute",R(["source_location"],{source_location:U.$cursor_at_prev_line()}))):Y.$logger().$warn("invalid empty "+E+" detected in style attribute"):ue(E,"id")?(c(T["$key?"]("id"))&&(c(U)?Y.$logger().$warn(Y.$message_with_context("multiple ids detected in style attribute",R(["source_location"],{source_location:U.$cursor_at_prev_line()}))):Y.$logger().$warn("multiple ids detected in style attribute")),T["$[]="](E,w)):(c(S=T["$[]"](E))?S:(L=[E,[]],K(T,"[]=",L),L[L.length-1]))["$<<"](w):c(w["$empty?"]())||T["$[]="]("style",w),y}),I(ce,"$adjust_indentation!",function(T,E,w){var U=y,L=y,Y=y;return E==null&&(E=0),w==null&&(w=0),c(T["$empty?"]())||(c(ve(w,0))&&c(K(T,"any?",[],function(u){return u==null&&(u=y),u["$include?"](j("TAB"))}))&&(U=Ye(" ",w),K(T,"map!",[],function(u){var t=y,a=y,v=y,_=y,l=y;return u==null&&(u=y),c(u["$empty?"]())||c((t=u.$index(j("TAB")))["$nil?"]())||ue(t,0)&&(a=0,function(){try{var F=Ue("break");return K(u,"each_byte",[],function(M){return M==null&&(M=y),ue(M,9)||F.$throw(),a=Ce(a,1)})}catch(A){if(A===F)return A.$v;throw A}}(),u=""+Ye(U,a)+u.$slice(a,u.$length()),!c(u["$include?"](j("TAB"))))?u:(v=0,_=0,l="",K(u,"each_char",[],function(A){var M=y,W=y;return A==null&&(A=y),ue(A,j("TAB"))?ue((M=Ce(_,v))["$%"](w),0)?(v=Ce(v,et(w,1)),l=Ce(l,U)):(ue(W=et(w,M["$%"](w)),1)||(v=Ce(v,et(W,1))),l=Ce(l,Ye(" ",W))):l=Ce(l,A),_=Ce(_,1)}),l)})),c(ge(E,0)))||(L=y,function(){try{var S=Ue("break");return K(T,"each",[],function(t){var a=y;return t==null&&(t=y),c(t["$empty?"]())||(ue(a=et(t.$length(),t.$lstrip().$length()),0)&&(L=y,S.$throw()),c(L)&&c(ge(L,a)))?y:L=a})}catch(u){if(u===S)return u.$v;throw u}}(),ue(E,0)?c(L)&&K(T,"map!",[],function(u){return u==null&&(u=y),c(u["$empty?"]())?u:u.$slice(L,u.$length())}):(Y=Ye(" ",E),c(L)?K(T,"map!",[],function(u){return u==null&&(u=y),c(u["$empty?"]())?u:Ce(Y,u.$slice(L,u.$length()))}):K(T,"map!",[],function(u){return u==null&&(u=y),c(u["$empty?"]())?u:Ce(Y,u)}))),y},-2),I(ce,"$uniform?",function(T,E,w){return T.$count(E)["$=="](w)}),I(ce,"$sanitize_attribute_name",function(T){return T.$gsub(j("InvalidAttributeNameCharsRx"),"").$downcase()})}(z[0],null,z)}(Qe[0],Qe)},Opal.modules["asciidoctor/path_resolver"]=function(e){"use strict";var H=e.module,P=e.klass,C=e.const_set,K=e.truthy,c=e.hash2,R=e.def,we=e.eqeq,I=e.alias,ue=e.rb_plus,g=e.to_ary,Ke=e.send,oe=e.not,Ce=e.neqeq,ge=e.rb_gt,ve=e.gvars,st=[],Ae=e.nil,et=e.$$$;return e.add_stubs("include,attr_accessor,root?,posixify,expand_path,pwd,start_with?,==,match?,absolute_path?,+,length,descends_from?,slice,to_s,relative_path_from,new,include?,tr,partition_path,each,pop,<<,join_path,[],web_root?,unc?,index,split,delete,[]=,join,raise,!,fetch,warn,logger,empty?,nil_or_empty?,chomp,!=,>,size,extract_uri_prefix,end_with?,gsub,private,=~"),function(Ye,Ue){var Qe=H(Ye,"Asciidoctor"),y=[Qe].concat(Ue);return function(Je,p,Ve){var rt=P(Je,p,"PathResolver"),z=[rt].concat(Ve),x=e.$r(z),ke=rt.$$prototype;return ke.file_separator=ke._partition_path_web=ke._partition_path_sys=ke.working_dir=Ae,rt.$include(x("Logging")),C(z[0],"DOT","."),C(z[0],"DOT_DOT",".."),C(z[0],"DOT_SLASH","./"),C(z[0],"SLASH","/"),C(z[0],"BACKSLASH","\\"),C(z[0],"DOUBLE_SLASH","//"),C(z[0],"URI_CLASSLOADER","uri:classloader:"),C(z[0],"WindowsRootRx",/^(?:[a-zA-Z]:)?[\\\/]/),rt.$attr_accessor("file_separator"),rt.$attr_accessor("working_dir"),R(rt,"$initialize",function(ce,ie){var j=this,Q=Ae,T=Ae;return ce==null&&(ce=Ae),ie==null&&(ie=Ae),j.file_separator=K(Q=K(T=ce)?T:et(et("File"),"ALT_SEPARATOR"))?Q:et(et("File"),"SEPARATOR"),j.working_dir=K(ie)?K(j["$root?"](ie))?j.$posixify(ie):et("File").$expand_path(ie):et("Dir").$pwd(),j._partition_path_sys=c([],{}),j._partition_path_web=c([],{})},-1),R(rt,"$absolute_path?",function(ce){var ie=this,j=Ae,Q=Ae;return K(j=ce["$start_with?"](x("SLASH")))?j:K(Q=ie.file_separator["$=="](x("BACKSLASH")))?x("WindowsRootRx")["$match?"](ce):Q}),we(x("RUBY_ENGINE"),"opal")&&we(et("JAVASCRIPT_IO_MODULE"),"xmlhttprequest")?R(rt,"$root?",function(ce){var ie=this,j=Ae;return K(j=ie["$absolute_path?"](ce))?j:ce["$start_with?"]("file://","http://","https://")}):we(et("RUBY_ENGINE"),"jruby")?R(rt,"$root?",function(ce){var ie=this,j=Ae;return K(j=ie["$absolute_path?"](ce))?j:ce["$start_with?"](x("URI_CLASSLOADER"))}):I(rt,"root?","absolute_path?"),R(rt,"$unc?",function(ce){return ce["$start_with?"](x("DOUBLE_SLASH"))}),R(rt,"$web_root?",function(ce){return ce["$start_with?"](x("SLASH"))}),R(rt,"$descends_from?",function(ce,ie){var j=Ae;return we(ie,ce)?0:we(ie,x("SLASH"))?K(j=ce["$start_with?"](x("SLASH")))?1:j:K(j=ce["$start_with?"](ue(ie,x("SLASH"))))?ue(ie.$length(),1):j}),R(rt,"$relative_path",function(ce,ie){var j=this,Q=Ae;if(K(j["$root?"](ce))){if(K(Q=j["$descends_from?"](ce,ie)))return ce.$slice(Q,ce.$length());try{return x("Pathname").$new(ce).$relative_path_from(x("Pathname").$new(ie)).$to_s()}catch(T){if(e.rescue(T,[x("StandardError")]))try{return ce}finally{e.pop_exception()}else throw T}}else return ce}),R(rt,"$posixify",function(ce){var ie=this;return K(ce)?we(ie.file_separator,x("BACKSLASH"))&&K(ce["$include?"](x("BACKSLASH")))?ce.$tr(x("BACKSLASH"),x("SLASH")):ce:""}),I(rt,"posixfy","posixify"),R(rt,"$expand_path",function(ce){var ie,j,Q=this,T=Ae,E=Ae,w=Ae;return j=Q.$partition_path(ce),ie=g(j),T=ie[0]==null?Ae:ie[0],E=ie[1]==null?Ae:ie[1],K(ce["$include?"](x("DOT_DOT")))?(w=[],Ke(T,"each",[],function(L){return L==null&&(L=Ae),we(L,x("DOT_DOT"))?w.$pop():w["$<<"](L)}),Q.$join_path(w,E)):Q.$join_path(T,E)}),R(rt,"$partition_path",function(ce,ie){var j,Q=this,T=Ae,E=Ae,w=Ae,U=Ae,L=Ae;return ie==null&&(ie=Ae),K(T=(E=K(ie)?Q._partition_path_web:Q._partition_path_sys)["$[]"](ce))?T:(w=Q.$posixify(ce),K(ie)?K(Q["$web_root?"](w))?U=x("SLASH"):K(w["$start_with?"](x("DOT_SLASH")))&&(U=x("DOT_SLASH")):K(Q["$root?"](w))?K(Q["$unc?"](w))?U=x("DOUBLE_SLASH"):K(w["$start_with?"](x("SLASH")))?U=x("SLASH"):K(w["$start_with?"](x("URI_CLASSLOADER")))?U=w.$slice(0,x("URI_CLASSLOADER").$length()):U=w.$slice(0,ue(w.$index(x("SLASH")),1)):K(w["$start_with?"](x("DOT_SLASH")))&&(U=x("DOT_SLASH")),L=(K(U)?w.$slice(U.$length(),w.$length()):w).$split(x("SLASH")),L.$delete(x("DOT")),j=[ce,[L,U]],Ke(E,"[]=",j),j[j.length-1])},-2),R(rt,"$join_path",function(ce,ie){return ie==null&&(ie=Ae),K(ie)?""+ie+ce.$join(x("SLASH")):ce.$join(x("SLASH"))},-2),R(rt,"$system_path",function(ce,ie,j,Q){var T,E,w=this,U=Ae,L=Ae,Y=Ae,S=Ae,u=Ae,t=Ae,a=Ae,v=Ae,_=Ae,l=Ae,F=Ae;if(ie==null&&(ie=Ae),j==null&&(j=Ae),Q==null&&(Q=c([],{})),K(j)&&(K(w["$root?"](j))||w.$raise(et("SecurityError"),"Jail is not an absolute path: "+j),j=w.$posixify(j)),K(ce))if(K(w["$root?"](ce))){if(U=w.$expand_path(ce),K(j)&&oe(w["$descends_from?"](U,j))){if(K(Q.$fetch("recover",!0)))return w.$logger().$warn(""+(K(L=Q["$[]"]("target_name"))?L:"path")+" is outside of jail; recovering automatically"),E=w.$partition_path(U),T=g(E),Y=T[0]==null?Ae:T[0],E=w.$partition_path(j),T=g(E),S=T[0]==null?Ae:T[0],u=T[1]==null?Ae:T[1],w.$join_path(ue(S,Y),u);w.$raise(et("SecurityError"),""+(K(L=Q["$[]"]("target_name"))?L:"path")+" "+ce+" is outside of jail: "+j+" (disallowed in safe mode)")}return U}else E=w.$partition_path(ce),T=g(E),Y=T[0]==null?Ae:T[0];else Y=[];if(K(Y["$empty?"]())){if(K(ie["$nil_or_empty?"]()))return K(L=j)?L:w.working_dir;if(K(w["$root?"](ie)))if(K(j))ie=w.$posixify(ie);else return w.$expand_path(ie);else E=w.$partition_path(ie),T=g(E),Y=T[0]==null?Ae:T[0],ie=K(L=j)?L:w.working_dir}else K(ie["$nil_or_empty?"]())?ie=K(L=j)?L:w.working_dir:K(w["$root?"](ie))?K(j)&&(ie=w.$posixify(ie)):ie=""+(K(L=j)?L:w.working_dir).$chomp("/")+"/"+ie;return K(j)&&K(t=w["$descends_from?"](ie,j)["$!"]())&&we(w.file_separator,x("BACKSLASH"))?(E=w.$partition_path(ie),T=g(E),a=T[0]==null?Ae:T[0],v=T[1]==null?Ae:T[1],E=w.$partition_path(j),T=g(E),S=T[0]==null?Ae:T[0],u=T[1]==null?Ae:T[1],Ce(v,u)&&(K(Q.$fetch("recover",!0))?(w.$logger().$warn("start path for "+(K(L=Q["$[]"]("target_name"))?L:"path")+" is outside of jail root; recovering automatically"),a=S,t=!1):w.$raise(et("SecurityError"),"start path for "+(K(L=Q["$[]"]("target_name"))?L:"path")+" "+ie+" refers to location outside jail root: "+j+" (disallowed in safe mode)"))):(E=w.$partition_path(ie),T=g(E),a=T[0]==null?Ae:T[0],u=T[1]==null?Ae:T[1]),K((_=ue(a,Y))["$include?"](x("DOT_DOT")))&&(T=[_,[]],l=T[0],_=T[1],K(j)?(K(S)||(E=w.$partition_path(j),T=g(E),S=T[0]==null?Ae:T[0]),F=!1,Ke(l,"each",[],function A(M){var W=A.$$s==null?this:A.$$s;return M==null&&(M=Ae),we(M,x("DOT_DOT"))?K(ge(_.$size(),S.$size()))?_.$pop():K(Q.$fetch("recover",!0))?K(F)?Ae:(W.$logger().$warn(""+(K(L=Q["$[]"]("target_name"))?L:"path")+" has illegal reference to ancestor of jail; recovering automatically"),F=!0):W.$raise(et("SecurityError"),""+(K(L=Q["$[]"]("target_name"))?L:"path")+" "+ce+" refers to location outside jail: "+j+" (disallowed in safe mode)"):_["$<<"](M)},{$$s:w})):Ke(l,"each",[],function(M){return M==null&&(M=Ae),we(M,x("DOT_DOT"))?_.$pop():_["$<<"](M)})),K(t)?(U=w.$join_path(_,u),K(w["$descends_from?"](U,j))?U:K(Q.$fetch("recover",!0))?(w.$logger().$warn(""+(K(L=Q["$[]"]("target_name"))?L:"path")+" is outside of jail; recovering automatically"),K(S)||(E=w.$partition_path(j),T=g(E),S=T[0]==null?Ae:T[0]),w.$join_path(ue(S,Y),u)):w.$raise(et("SecurityError"),""+(K(L=Q["$[]"]("target_name"))?L:"path")+" "+ce+" is outside of jail: "+j+" (disallowed in safe mode)")):w.$join_path(_,u)},-2),R(rt,"$web_path",function(ce,ie){var j,Q,T=this,E=Ae,w=Ae,U=Ae,L=Ae,Y=Ae;return ie==null&&(ie=Ae),ce=T.$posixify(ce),ie=T.$posixify(ie),K(ie["$nil_or_empty?"]())||K(T["$web_root?"](ce))||(Q=T.$extract_uri_prefix(""+ie+(K(ie["$end_with?"](x("SLASH")))?"":x("SLASH"))+ce),j=g(Q),ce=j[0]==null?Ae:j[0],E=j[1]==null?Ae:j[1]),Q=T.$partition_path(ce,!0),j=g(Q),w=j[0]==null?Ae:j[0],U=j[1]==null?Ae:j[1],L=[],Ke(w,"each",[],function(u){return u==null&&(u=Ae),we(u,x("DOT_DOT"))?K(L["$empty?"]())?K(U)&&Ce(U,x("DOT_SLASH"))?Ae:L["$<<"](u):we(L["$[]"](-1),x("DOT_DOT"))?L["$<<"](u):L.$pop():L["$<<"](u)}),K((Y=T.$join_path(L,U))["$include?"](" "))&&(Y=Y.$gsub(" ","%20")),K(E)?""+E+Y:Y},-2),rt.$private(),R(rt,"$extract_uri_prefix",function(ce){var ie;return K(ce["$include?"](":"))&&K(x("UriSniffRx")["$=~"](ce))?[ce.$slice(((ie=ve["~"])===Ae?Ae:ie["$[]"](0)).$length(),ce.$length()),(ie=ve["~"])===Ae?Ae:ie["$[]"](0)]:ce})}(y[0],null,y)}(st[0],st)},Opal.modules["asciidoctor/reader"]=function(e){"use strict";var H=e.module,P=e.klass,C=e.def,K=e.rb_plus,c=e.alias,R=e.hash2,we=e.not,I=e.eqeqeq,ue=e.to_ary,g=e.truthy,Ke=e.rb_gt,oe=e.send,Ce=e.rb_minus,ge=e.thrower,ve=e.eqeq,st=e.rb_times,Ae=e.neqeq,et=e.to_a,Ye=e.assign_ivar_val,Ue=e.send2,Qe=e.find_super,y=e.rb_ge,Je=e.gvars,p=e.rb_lt,Ve=e.hash,rt=[],z=e.nil,x=e.$$$;return e.add_stubs("include,attr_reader,+,line_info,attr_accessor,!,===,split,file,dir,dirname,path,basename,lineno,reverse,prepare_lines,empty?,nil_or_empty?,peek_line,[],>,slice,length,process_line,times,shift,read_line,<<,-,unshift_all,has_more_lines?,read_lines,join,unshift,unshift_line,unshift_lines,replace_next_line,start_with?,==,*,read_lines_until,size,clear,cursor,[]=,fetch,!=,cursor_at_mark,warn,logger,message_with_context,pop,push,respond_to?,reverse_each,new,tap,each,instance_variables,instance_variable_get,drop,instance_variable_set,class,object_id,inspect,private,prepare_source_array,prepare_source_string,chomp,valid_encoding?,to_s,raise,to_i,attributes,catalog,pop_include,parse,path=,dup,end_with?,keys,rindex,rootname,key?,attr,reverse!,>=,exceeds_max_depth?,nil?,include_processors?,extensions,extensions?,include_processors,map,skip_front_matter!,adjust_indentation!,include?,=~,preprocess_conditional_directive,preprocess_include_directive,downcase,error,none?,any?,all?,strip,send,resolve_expr_val,rstrip,sub_attributes,attribute_missing,info,parse_attributes,find,handles?,instance,process_method,safe,resolve_include_path,method,split_delimited_value,partition,<,to_a,uniq,sort,call,each_line,infinite?,push_include,delete,first,values,value?,create_include_cursor,delete_at,keep_if,read,uriish?,attr?,require_library,normalize_system_path,file?,relative_path,path_resolver,base_dir,to_f"),function(ke,ee){var ce=H(ke,"Asciidoctor"),ie=[ce].concat(ee),j=e.$r(ie);return function(Q,T,E){var w=P(Q,T,"Reader"),U=[w].concat(E),L=e.$r(U),Y=w.$$prototype;return Y.file=Y.lines=Y.look_ahead=Y.unescape_next_line=Y.lineno=Y.process_lines=Y.dir=Y.path=Y.mark=Y.source_lines=Y.saved=z,w.$include(L("Logging")),function(S,u){var t=P(S,u,"Cursor"),a=t.$$prototype;return a.lineno=a.path=z,t.$attr_reader("file","dir","path","lineno"),C(t,"$initialize",function(_,l,F,A){var M,W=this;return l==null&&(l=z),F==null&&(F=z),A==null&&(A=1),M=[_,l,F,A],W.file=M[0],W.dir=M[1],W.path=M[2],W.lineno=M[3],M},-2),C(t,"$advance",function(_){var l=this;return l.lineno=K(l.lineno,_)}),C(t,"$line_info",function(){var _=this;return""+_.path+": line "+_.lineno}),c(t,"to_s","line_info")}(U[0],null),w.$attr_reader("file"),w.$attr_reader("dir"),w.$attr_reader("path"),w.$attr_reader("lineno"),w.$attr_reader("source_lines"),w.$attr_accessor("process_lines"),w.$attr_accessor("unterminated"),C(w,"$initialize",function(u,t,a){var v,_,l=this,F=z;return u==null&&(u=z),t==null&&(t=z),a==null&&(a=R([],{})),we(t)?(l.file=z,l.dir=".",l.path="<stdin>",l.lineno=1):I(x("String"),t)?(l.file=t,_=x("File").$split(l.file),v=ue(_),l.dir=v[0]==null?z:v[0],l.path=v[1]==null?z:v[1],l.lineno=1):(g(l.file=t.$file())?(l.dir=g(F=t.$dir())?F:x("File").$dirname(l.file),l.path=g(F=t.$path())?F:x("File").$basename(l.file)):(l.dir=g(F=t.$dir())?F:".",l.path=g(F=t.$path())?F:"<stdin>"),l.lineno=g(F=t.$lineno())?F:1),l.lines=(l.source_lines=l.$prepare_lines(u,a)).$reverse(),l.mark=z,l.look_ahead=0,l.process_lines=!0,l.unescape_next_line=!1,l.unterminated=z,l.saved=z},-1),C(w,"$has_more_lines?",function(){var u=this;return g(u.lines["$empty?"]())?(u.look_ahead=0,!1):!0}),C(w,"$empty?",function(){var u=this;return g(u.lines["$empty?"]())?(u.look_ahead=0,!0):!1}),c(w,"eof?","empty?"),C(w,"$next_line_empty?",function(){var u=this;return u.$peek_line()["$nil_or_empty?"]()}),C(w,"$peek_line",function(u){var t=this,a=z,v=z;for(u==null&&(u=!1);g(!0);){if(a=t.lines["$[]"](-1),g(u)||g(Ke(t.look_ahead,0)))return g(t.unescape_next_line)?a.$slice(1,a.$length()):a;if(g(a)){if(g(v=t.$process_line(a)))return v}else return t.look_ahead=0,z}},-1),C(w,"$peek_lines",function(u,t){var a=this,v=z,_=z,l=z;return u==null&&(u=z),t==null&&(t=!1),v=a.look_ahead,_=[],function(){try{var F=ge("break");return oe(g(l=u)?l:L("MAX_INT"),"times",[],function A(){var M=A.$$s==null?this:A.$$s,W=z;if(M.lineno==null&&(M.lineno=z),g(W=g(t)?M.$shift():M.$read_line()))return _["$<<"](W);g(t)&&(M.lineno=Ce(M.lineno,1)),F.$throw()},{$$s:a})}catch(A){if(A===F)return A.$v;throw A}}(),g(_["$empty?"]())||(a.$unshift_all(_),g(t)&&(a.look_ahead=v)),_},-1),C(w,"$read_line",function(){var u=this;return g(Ke(u.look_ahead,0))||g(u["$has_more_lines?"]())?u.$shift():z}),C(w,"$read_lines",function(){var u=this,t=z;for(t=[];g(u["$has_more_lines?"]());)t["$<<"](u.$shift());return t}),c(w,"readlines","read_lines"),C(w,"$read",function(){var u=this;return u.$read_lines().$join(L("LF"))}),C(w,"$advance",function(){var u=this;return!!g(u.$shift())}),C(w,"$unshift_line",function(u){var t=this;return t.$unshift(u),z}),c(w,"restore_line","unshift_line"),C(w,"$unshift_lines",function(u){var t=this;return t.$unshift_all(u)}),c(w,"restore_lines","unshift_lines"),C(w,"$replace_next_line",function(u){var t=this;return t.$shift(),t.$unshift(u),!0}),c(w,"replace_line","replace_next_line"),C(w,"$skip_blank_lines",function(){var u=this,t=z,a=z;if(g(u["$empty?"]()))return z;for(t=0;g(a=u.$peek_line());)if(g(a["$empty?"]()))u.$shift(),t=K(t,1);else return t}),C(w,"$skip_comment_lines",function(){var u=this,t=z,a=z,v=z;if(g(u["$empty?"]()))return z;for(;g(g(t=a=u.$peek_line())?a["$empty?"]()["$!"]():t)&&g(a["$start_with?"]("//"));)if(g(a["$start_with?"]("///")))if(g(Ke(v=a.$length(),3))&&ve(a,st("/",v)))u.$read_lines_until(R(["terminator","skip_first_line","read_last_line","skip_processing","context"],{terminator:a,skip_first_line:!0,read_last_line:!0,skip_processing:!0,context:"comment"}));else break;else u.$shift();return z}),C(w,"$skip_line_comments",function(){var u=this,t=z,a=z,v=z;if(g(u["$empty?"]()))return[];for(t=[];g(g(a=v=u.$peek_line())?v["$empty?"]()["$!"]():a)&&g(v["$start_with?"]("//"));)t["$<<"](u.$shift());return t}),C(w,"$terminate",function(){var u=this;return u.lineno=K(u.lineno,u.lines.$size()),u.lines.$clear(),u.look_ahead=0,z}),C(w,"$read_lines_until",function S(u){var t,a=S.$$p||z,v=this,_=z,l=z,F=z,A=z,M=z,W=z,ne=z,O=z,He=z,Xe=z,it=z,nt=z,at=z,ct=z,ut=z,_t=z;for(S.$$p=null,u==null&&(u=R([],{})),_=[],g(v.process_lines)&&g(u["$[]"]("skip_processing"))&&(v.process_lines=!1,l=!0),g(F=u["$[]"]("terminator"))?(A=g(M=u["$[]"]("cursor"))?M:v.$cursor(),W=!1,ne=!1):(W=u["$[]"]("break_on_blank_lines"),ne=u["$[]"]("break_on_list_continuation")),O=u["$[]"]("skip_line_comments"),He=Xe=z,g(u["$[]"]("skip_first_line"))&&v.$shift();g(it=v.$read_line());){if(g(g(F)?it["$=="](F):g(M=g(nt=g(at=W)?it["$empty?"]():at)?nt:g(at=g(ct=g(ut=ne)?He:ut)?it["$=="](L("LIST_CONTINUATION")):ct)?(t=["preserve_last_line",!0],oe(u,"[]=",t),t[t.length-1]):at)?M:g(nt=a!==z)?e.yield1(a,it):nt)){g(u["$[]"]("read_last_line"))&&_["$<<"](it),g(u["$[]"]("preserve_last_line"))&&(v.$unshift(it),Xe=!0);break}g(O)&&g(it["$start_with?"]("//"))&&we(it["$start_with?"]("///"))||(_["$<<"](it),He=!0)}return g(l)&&(v.process_lines=!0,g(Xe)&&we(F)&&(v.look_ahead=Ce(v.look_ahead,1))),g(F)&&Ae(F,it)&&g(_t=u.$fetch("context",F))&&(ve(A,"at_mark")&&(A=v.$cursor_at_mark()),v.$logger().$warn(v.$message_with_context("unterminated "+_t+" block",R(["source_location"],{source_location:A}))),v.unterminated=!0),_},-1),C(w,"$shift",function(){var u=this;return u.lineno=K(u.lineno,1),ve(u.look_ahead,0)||(u.look_ahead=Ce(u.look_ahead,1)),u.lines.$pop()}),C(w,"$unshift",function(u){var t=this;return t.lineno=Ce(t.lineno,1),t.look_ahead=K(t.look_ahead,1),t.lines.$push(u),z}),ve(x("RUBY_ENGINE"),"jruby")?C(w,"$unshift_all",function(u){var t=this;return t.lineno=Ce(t.lineno,u.$size()),t.look_ahead=K(t.look_ahead,u.$size()),g(u["$respond_to?"]("reverse"))?oe(t.lines,"push",et(u.$reverse())):oe(u,"reverse_each",[],function a(v){var _=a.$$s==null?this:a.$$s;return _.lines==null&&(_.lines=z),v==null&&(v=z),_.lines.$push(v)},{$$s:t}),z}):C(w,"$unshift_all",function(u){var t=this;return t.lineno=Ce(t.lineno,u.$size()),t.look_ahead=K(t.look_ahead,u.$size()),oe(t.lines,"push",et(u.$reverse())),z}),C(w,"$cursor",function(){var u=this;return L("Cursor").$new(u.file,u.dir,u.path,u.lineno)}),C(w,"$cursor_at_line",function(u){var t=this;return L("Cursor").$new(t.file,t.dir,t.path,u)}),C(w,"$cursor_at_mark",function(){var u=this;return g(u.mark)?oe(L("Cursor"),"new",et(u.mark)):u.$cursor()}),C(w,"$cursor_before_mark",function(){var u,t,a=this,v=z,_=z,l=z,F=z;return g(a.mark)?(t=a.mark,u=ue(t),v=u[0]==null?z:u[0],_=u[1]==null?z:u[1],l=u[2]==null?z:u[2],F=u[3]==null?z:u[3],L("Cursor").$new(v,_,l,Ce(F,1))):L("Cursor").$new(a.file,a.dir,a.path,Ce(a.lineno,1))}),C(w,"$cursor_at_prev_line",function(){var u=this;return L("Cursor").$new(u.file,u.dir,u.path,Ce(u.lineno,1))}),C(w,"$mark",function(){var u=this;return u.mark=[u.file,u.dir,u.path,u.lineno]}),C(w,"$line_info",function(){var u=this;return""+u.path+": line "+u.lineno}),C(w,"$lines",function(){var u=this;return u.lines.$reverse()}),C(w,"$string",function(){var u=this;return u.lines.$reverse().$join(L("LF"))}),C(w,"$source",function(){var u=this;return u.source_lines.$join(L("LF"))}),C(w,"$save",function(){var u=this;return u.saved=oe(R([],{}),"tap",[],function t(a){var v=t.$$s==null?this:t.$$s;return a==null&&(a=z),oe(v.$instance_variables(),"each",[],function _(l){var F,A=_.$$s==null?this:_.$$s,M=z;return l==null&&(l=z),ve(l,"@saved")||ve(l,"@source_lines")?z:(F=[l,I(x("Array"),M=A.$instance_variable_get(l))?M.$drop(0):M],oe(a,"[]=",F),F[F.length-1])},{$$s:v})},{$$s:u}),z}),C(w,"$restore_save",function(){var u=this;return g(u.saved)?(oe(u.saved,"each",[],function t(a,v){var _=t.$$s==null?this:t.$$s;return a==null&&(a=z),v==null&&(v=z),_.$instance_variable_set(a,v)},{$$s:u}),u.saved=z):z}),C(w,"$discard_save",Ye("saved",z)),C(w,"$to_s",function(){var u=this;return"#<"+u.$class()+"@"+u.$object_id()+" {path: "+u.path.$inspect()+", line: "+u.lineno+"}>"}),w.$private(),C(w,"$prepare_lines",function(u,t){var a=this,v=z;t==null&&(t=R([],{}));try{return g(v=t["$[]"]("normalize"))?I(x("Array"),u)?L("Helpers").$prepare_source_array(u,v["$!="]("chomp")):L("Helpers").$prepare_source_string(u,v["$!="]("chomp")):I(x("Array"),u)?u.$drop(0):g(u)?u.$chomp().$split(L("LF"),-1):[]}catch(_){if(e.rescue(_,[L("StandardError")]))try{return g((I(x("Array"),u)?u.$join():u.$to_s())["$valid_encoding?"]())?a.$raise():a.$raise(x("ArgumentError"),"source is either binary or contains invalid Unicode data")}finally{e.pop_exception()}else throw _}},-2),C(w,"$process_line",function(u){var t=this;return g(t.process_lines)&&(t.look_ahead=K(t.look_ahead,1)),u})}(ie[0],null,ie),function(Q,T,E){var w=P(Q,T,"PreprocessorReader"),U=[w].concat(E),L=e.$r(U),Y=w.$$prototype;return Y.include_stack=Y.lines=Y.file=Y.dir=Y.path=Y.lineno=Y.maxdepth=Y.process_lines=Y.includes=Y.document=Y.unescape_next_line=Y.include_processor_extensions=Y.look_ahead=Y.skipping=Y.conditional_stack=z,w.$attr_reader("include_stack"),C(w,"$initialize",function S(u,t,a,v){var _=S.$$p||z,l=this,F=z,A=z;return S.$$p=null,t==null&&(t=z),a==null&&(a=z),v==null&&(v=R([],{})),l.document=u,Ue(l,Qe(l,"initialize",S,!1,!0),"initialize",[t,a,v],null),g(Ke(F=(g(A=u.$attributes()["$[]"]("max-include-depth"))?A:64).$to_i(),0))?l.maxdepth=R(["abs","curr","rel"],{abs:F,curr:F,rel:F}):l.maxdepth=z,l.include_stack=[],l.includes=u.$catalog()["$[]"]("includes"),l.skipping=!1,l.conditional_stack=[],l.include_processor_extensions=z},-2),C(w,"$has_more_lines?",function(){var u=this;return!!g(u.$peek_line())}),C(w,"$empty?",function(){var u=this;return!g(u.$peek_line())}),c(w,"eof?","empty?"),C(w,"$peek_line",function S(u){var t=S.$$p||z,a=this,v=z;return S.$$p=null,u==null&&(u=!1),g(v=Ue(a,Qe(a,"peek_line",S,!1,!0),"peek_line",[u],t))?v:g(a.include_stack["$empty?"]())?z:(a.$pop_include(),a.$peek_line(u))},-1),C(w,"$push_include",function(u,t,a,v,_){var l=this,F=z,A=z,M=z,W=z,ne=z,O=z;return t==null&&(t=z),a==null&&(a=z),v==null&&(v=1),_==null&&(_=R([],{})),l.include_stack["$<<"]([l.lines,l.file,l.dir,l.path,l.lineno,l.maxdepth,l.process_lines]),g(l.file=t)?(I(x("String"),t)?l.dir=x("File").$dirname(t):g(L("RUBY_ENGINE_OPAL"))?l.dir=x("URI").$parse(x("File").$dirname(t=t.$to_s())):((l.dir=t.$dup())["$path="](ve(F=x("File").$dirname(t.$path()),"/")?"":F),t=t.$to_s()),l.path=a=g(A=a)?A:x("File").$basename(t),g(l.process_lines=oe(t,"end_with?",et(L("ASCIIDOC_EXTENSIONS").$keys())))&&(g(A=l.includes["$[]"](a.$slice(0,a.$rindex("."))))||l.includes["$[]="](a.$slice(0,a.$rindex(".")),g(_["$[]"]("partial-option"))?z:!0))):(l.dir=".",l.process_lines=!0,g(l.path=a)?g(A=l.includes["$[]"](L("Helpers").$rootname(a)))||l.includes["$[]="](L("Helpers").$rootname(a),g(_["$[]"]("partial-option"))?z:!0):l.path="<stdin>"),l.lineno=v,g(l.maxdepth)&&g(_["$key?"]("depth"))&&(g(Ke(M=_["$[]"]("depth").$to_i(),0))?(g(Ke(W=K(l.include_stack.$size(),M),ne=l.maxdepth["$[]"]("abs")))&&(W=M=ne),l.maxdepth=R(["abs","curr","rel"],{abs:ne,curr:W,rel:M})):l.maxdepth=R(["abs","curr","rel"],{abs:l.maxdepth["$[]"]("abs"),curr:l.include_stack.$size(),rel:0})),g((l.lines=l.$prepare_lines(u,R(["normalize","condense","indent"],{normalize:g(A=l.process_lines)?A:"chomp",condense:!1,indent:_["$[]"]("indent")})))["$empty?"]())?l.$pop_include():(g(_["$key?"]("leveloffset"))?(l.lines=K(K([g(O=l.document.$attr("leveloffset"))?":leveloffset: "+O:":leveloffset!:",""],l.lines.$reverse()),["",":leveloffset: "+_["$[]"]("leveloffset")]),l.lineno=Ce(l.lineno,2)):l.lines["$reverse!"](),l.look_ahead=0),l},-2),C(w,"$include_depth",function(){var u=this;return u.include_stack.$size()}),C(w,"$exceeds_max_depth?",function(){var u=this,t=z,a=z;return g(t=g(a=u.maxdepth)?y(u.include_stack.$size(),u.maxdepth["$[]"]("curr")):a)?u.maxdepth["$[]"]("rel"):t}),c(w,"exceeded_max_depth?","exceeds_max_depth?"),C(w,"$shift",function S(){var u=S.$$p||z,t=this,a=z;return S.$$p=null,g(t.unescape_next_line)?(t.unescape_next_line=!1,(a=Ue(t,Qe(t,"shift",S,!1,!0),"shift",[],u)).$slice(1,a.$length())):Ue(t,Qe(t,"shift",S,!1,!0),"shift",[],u)}),C(w,"$include_processors?",function(){var u=this;return g(u.include_processor_extensions["$nil?"]())?g(u.document["$extensions?"]())&&g(u.document.$extensions()["$include_processors?"]())?(u.include_processor_extensions=u.document.$extensions().$include_processors())["$!"]()["$!"]():u.include_processor_extensions=!1:u.include_processor_extensions["$!="](!1)}),C(w,"$create_include_cursor",function(u,t,a){var v=z;return I(x("String"),u)?v=x("File").$dirname(u):g(L("RUBY_ENGINE_OPAL"))?v=x("File").$dirname(u=u.$to_s()):(v=ve(v=x("File").$dirname(u.$path()),"")?"/":v,u=u.$to_s()),L("Cursor").$new(u,v,t,a)}),C(w,"$to_s",function(){var u=this;return"#<"+u.$class()+"@"+u.$object_id()+" {path: "+u.path.$inspect()+", line: "+u.lineno+", include depth: "+u.include_stack.$size()+", include stack: ["+oe(u.include_stack,"map",[],function(a){return a==null&&(a=z),a.$to_s()}).$join(", ")+"]}>"}),w.$private(),C(w,"$prepare_lines",function S(u,t){var a=S.$$p||z,v=this,_=z,l=z,F=z,A=z;if(S.$$p=null,t==null&&(t=R([],{})),_=Ue(v,Qe(v,"prepare_lines",S,!1,!0),"prepare_lines",[u,t],a),g(v.document)&&g(v.document.$attributes()["$[]"]("skip-front-matter"))&&g(l=v["$skip_front_matter!"](_))&&v.document.$attributes()["$[]="]("front-matter",l.$join(L("LF"))),g(t.$fetch("condense",!0)))for(;g(g(F=A=_["$[]"](-1))?A["$empty?"]():F);)_.$pop();return g(t["$[]"]("indent"))&&L("Parser")["$adjust_indentation!"](_,t["$[]"]("indent").$to_i(),v.document.$attr("tabsize").$to_i()),_},-2),C(w,"$process_line",function(u){var t,a=this;return g(a.process_lines)?g(u["$empty?"]())?(a.look_ahead=K(a.look_ahead,1),u):g(u["$end_with?"]("]"))&&we(u["$start_with?"]("["))&&g(u["$include?"]("::"))?g(u["$include?"]("if"))&&g(L("ConditionalDirectiveRx")["$=~"](u))?ve((t=Je["~"])===z?z:t["$[]"](1),"\\")?(a.unescape_next_line=!0,a.look_ahead=K(a.look_ahead,1),u.$slice(1,u.$length())):g(a.$preprocess_conditional_directive((t=Je["~"])===z?z:t["$[]"](2),(t=Je["~"])===z?z:t["$[]"](3),(t=Je["~"])===z?z:t["$[]"](4),(t=Je["~"])===z?z:t["$[]"](5)))?(a.$shift(),z):(a.look_ahead=K(a.look_ahead,1),u):g(a.skipping)?(a.$shift(),z):g(u["$start_with?"]("inc","\\inc"))&&g(L("IncludeDirectiveRx")["$=~"](u))?ve((t=Je["~"])===z?z:t["$[]"](1),"\\")?(a.unescape_next_line=!0,a.look_ahead=K(a.look_ahead,1),u.$slice(1,u.$length())):g(a.$preprocess_include_directive((t=Je["~"])===z?z:t["$[]"](2),(t=Je["~"])===z?z:t["$[]"](3)))?z:(a.look_ahead=K(a.look_ahead,1),u):(a.look_ahead=K(a.look_ahead,1),u):g(a.skipping)?(a.$shift(),z):(a.look_ahead=K(a.look_ahead,1),u):u}),C(w,"$preprocess_conditional_directive",function(u,t,a,v){var _,l=this,F=z,A=z,M=z,W=z,ne=z,O=z;if(g(F=t["$empty?"]())||(t=t.$downcase()),ve(u,"endif"))return g(v)?l.$logger().$error(l.$message_with_context("malformed preprocessor directive - text not permitted: endif::"+t+"["+v+"]",R(["source_location"],{source_location:l.$cursor()}))):g(l.conditional_stack["$empty?"]())?l.$logger().$error(l.$message_with_context("unmatched preprocessor directive: endif::"+t+"[]",R(["source_location"],{source_location:l.$cursor()}))):g(F)||ve(t,(A=l.conditional_stack["$[]"](-1))["$[]"]("target"))?(l.conditional_stack.$pop(),l.skipping=g(l.conditional_stack["$empty?"]())?!1:l.conditional_stack["$[]"](-1)["$[]"]("skipping")):l.$logger().$error(l.$message_with_context("mismatched preprocessor directive: endif::"+t+"[], expected endif::"+A["$[]"]("target")+"[]",R(["source_location"],{source_location:l.$cursor()}))),!0;if(g(l.skipping))M=!1;else switch(u){case"ifdef":if(g(F))return l.$logger().$error(l.$message_with_context("malformed preprocessor directive - missing target: ifdef::["+v+"]",R(["source_location"],{source_location:l.$cursor()}))),!0;switch(a){case",":M=oe(t.$split(",",-1),"none?",[],function He(Xe){var it=He.$$s==null?this:He.$$s;return it.document==null&&(it.document=z),Xe==null&&(Xe=z),it.document.$attributes()["$key?"](Xe)},{$$s:l});break;case"+":M=oe(t.$split("+",-1),"any?",[],function He(Xe){var it=He.$$s==null?this:He.$$s;return it.document==null&&(it.document=z),Xe==null&&(Xe=z),it.document.$attributes()["$key?"](Xe)["$!"]()},{$$s:l});break;default:M=l.document.$attributes()["$key?"](t)["$!"]()}break;case"ifndef":if(g(F))return l.$logger().$error(l.$message_with_context("malformed preprocessor directive - missing target: ifndef::["+v+"]",R(["source_location"],{source_location:l.$cursor()}))),!0;switch(a){case",":M=oe(t.$split(",",-1),"any?",[],function He(Xe){var it=He.$$s==null?this:He.$$s;return it.document==null&&(it.document=z),Xe==null&&(Xe=z),it.document.$attributes()["$key?"](Xe)},{$$s:l});break;case"+":M=oe(t.$split("+",-1),"all?",[],function He(Xe){var it=He.$$s==null?this:He.$$s;return it.document==null&&(it.document=z),Xe==null&&(Xe=z),it.document.$attributes()["$key?"](Xe)},{$$s:l});break;default:M=l.document.$attributes()["$key?"](t)}break;case"ifeval":if(g(F))if(g(v)&&g(L("EvalExpressionRx")["$=~"](v.$strip())))W=(_=Je["~"])===z?z:_["$[]"](1),ne=(_=Je["~"])===z?z:_["$[]"](2),O=(_=Je["~"])===z?z:_["$[]"](3),M=function(){try{return!g(l.$resolve_expr_val(W).$send(ne,l.$resolve_expr_val(O)))}catch(He){if(e.rescue(He,[L("StandardError")]))try{return!0}finally{e.pop_exception()}else throw He}}();else return l.$logger().$error(l.$message_with_context("malformed preprocessor directive - "+(g(v)?"invalid expression":"missing expression")+": ifeval::["+v+"]",R(["source_location"],{source_location:l.$cursor()}))),!0;else return l.$logger().$error(l.$message_with_context("malformed preprocessor directive - target not permitted: ifeval::"+t+"["+v+"]",R(["source_location"],{source_location:l.$cursor()}))),!0;break;default:}return ve(u,"ifeval")||we(v)?(g(M)&&(l.skipping=!0),l.conditional_stack["$<<"](R(["target","skip","skipping"],{target:t,skip:M,skipping:l.skipping}))):g(l.skipping)||g(M)||(l.$replace_next_line(v.$rstrip()),l.$unshift(""),g(v["$start_with?"]("include::"))&&(l.look_ahead=Ce(l.look_ahead,1))),!0}),C(w,"$preprocess_include_directive",function(u,t){var a,v,_=this,l=z,F=z,A=z,M=z,W=z,ne=z,O=z,He=z,Xe=z,it=z,nt=z,at=z,ct=z,ut=z,_t=z,ft=z,mt=z,yt=z,wt=z,kt=z,Rt=z,zt=z,Tt=z,St=z,At=z,qt=z,Bt=z;if(l=_.document,g((F=u)["$include?"](L("ATTR_REF_HEAD")))&&g((F=l.$sub_attributes(u,R(["attribute_missing"],{attribute_missing:ve(A=g(M=l.$attributes()["$[]"]("attribute-missing"))?M:L("Compliance").$attribute_missing(),"warn")?"drop-line":A})))["$empty?"]()))return ve(A,"drop-line")&&g(l.$sub_attributes(K(u," "),R(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]())?(oe(_.$logger(),"info",[],function It(){var xt=It.$$s==null?this:It.$$s;return xt.$message_with_context("include dropped due to missing attribute: include::"+u+"["+t+"]",R(["source_location"],{source_location:xt.$cursor()}))},{$$s:_}),_.$shift(),!0):g(l.$parse_attributes(t,[],R(["sub_input"],{sub_input:!0}))["$[]"]("optional-option"))?(oe(_.$logger(),"info",[],function It(){var xt=It.$$s==null?this:It.$$s;return xt.$message_with_context("optional include dropped "+(ve(A,"warn")&&g(l.$sub_attributes(K(u," "),R(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]())?"due to missing attribute":"because resolved target is blank")+": include::"+u+"["+t+"]",R(["source_location"],{source_location:xt.$cursor()}))},{$$s:_}),_.$shift(),!0):(_.$logger().$warn(_.$message_with_context("include dropped "+(ve(A,"warn")&&g(l.$sub_attributes(K(u," "),R(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]())?"due to missing attribute":"because resolved target is blank")+": include::"+u+"["+t+"]",R(["source_location"],{source_location:_.$cursor()}))),_.$replace_next_line("Unresolved directive in "+_.path+" - include::"+u+"["+t+"]"));if(g(_["$include_processors?"]())&&g(W=oe(_.include_processor_extensions,"find",[],function(xt){return xt==null&&(xt=z),xt.$instance()["$handles?"](F)})))return _.$shift(),W.$process_method()["$[]"](l,_,F,l.$parse_attributes(t,[],R(["sub_input"],{sub_input:!0}))),!0;if(g(y(l.$safe(),x(L("SafeMode"),"SECURE"))))return _.$replace_next_line("link:"+F+"[role=include]");if(g(_.maxdepth)){if(g(y(_.include_stack.$size(),_.maxdepth["$[]"]("curr"))))return _.$logger().$error(_.$message_with_context("maximum include depth of "+_.maxdepth["$[]"]("rel")+" exceeded",R(["source_location"],{source_location:_.$cursor()}))),z;switch(ne=l.$parse_attributes(t,[],R(["sub_input"],{sub_input:!0})),v=_.$resolve_include_path(F,t,ne),a=ue(v),O=a[0]==null?z:a[0],He=a[1]==null?z:a[1],Xe=a[2]==null?z:a[2],He){case"file":it=x("File").$method("open"),nt=L("FILE_READ_MODE");break;case"uri":it=x("OpenURI").$method("open_uri"),nt=L("URI_READ_MODE");break;default:return O}if(g(L("RUBY_ENGINE_OPAL"))||g(at=ne["$[]"]("encoding"))&&g(function(){try{return x("Encoding").$find(at)}catch(It){if(e.rescue(It,[L("StandardError")]))try{return z}finally{e.pop_exception()}else throw It}}())&&((ct=nt.$split(":"))["$[]="](1,at),nt=ct.$join(":")),ut=_t=z,g(t)&&(g(ne["$key?"]("lines"))?(ut=[],oe(_.$split_delimited_value(ne["$[]"]("lines")),"each",[],function(xt){var Ct,Ft,Et=z,Pt=z,Lt=z;return xt==null&&(xt=z),g(xt["$include?"](".."))?(Ft=xt.$partition(".."),Ct=ue(Ft),Et=Ct[0]==null?z:Ct[0],Pt=Ct[1]==null?z:Ct[1],Lt=Ct[2]==null?z:Ct[2],ut=K(ut,g(Lt["$empty?"]())||g(p(Lt=Lt.$to_i(),0))?[Et.$to_i(),x(x("Float"),"INFINITY")]:e.Range.$new(Et.$to_i(),Lt,!1).$to_a())):ut["$<<"](xt.$to_i())}),ut=g(ut["$empty?"]())?z:ut.$sort().$uniq()):g(ne["$key?"]("tag"))?g((ft=ne["$[]"]("tag"))["$empty?"]())||ve(ft,"!")||(_t=g(ft["$start_with?"]("!"))?Ve(ft.$slice(1,ft.$length()),!1):Ve(ft,!0)):g(ne["$key?"]("tags"))&&(_t=R([],{}),oe(_.$split_delimited_value(ne["$[]"]("tags")),"each",[],function(xt){var Ct;return xt==null&&(xt=z),g(xt["$empty?"]())||ve(xt,"!")?z:g(xt["$start_with?"]("!"))?(Ct=[xt.$slice(1,xt.$length()),!1],oe(_t,"[]=",Ct),Ct[Ct.length-1]):(Ct=[xt,!0],oe(_t,"[]=",Ct),Ct[Ct.length-1])}),g(_t["$empty?"]())&&(_t=z))),g(ut)){a=[[],z,0],mt=a[0],yt=a[1],wt=a[2];try{oe(it,"call",[O,nt],function(xt){var Ct=z;return xt==null&&(xt=z),Ct=z,function(){try{var Ft=ge("break");return oe(xt,"each_line",[],function(Pt){var Lt=z;if(Pt==null&&(Pt=z),wt=K(wt,1),g(Ct)||I(x("Float"),Lt=ut["$[]"](0))&&g(Ct=Lt["$infinite?"]()))return yt=g(M=yt)?M:wt,mt["$<<"](Pt);if(ve(Lt,wt)&&(yt=g(M=yt)?M:wt,mt["$<<"](Pt),ut.$shift()),g(ut["$empty?"]()))Ft.$throw();else return z})}catch(Et){if(Et===Ft)return Et.$v;throw Et}}()})}catch(It){if(e.rescue(It,[L("StandardError")]))try{return _.$logger().$error(_.$message_with_context("include "+He+" not readable: "+O,R(["source_location"],{source_location:_.$cursor()}))),_.$replace_next_line("Unresolved directive in "+_.path+" - include::"+F+"["+t+"]")}finally{e.pop_exception()}else throw It}_.$shift(),g(yt)&&(ne["$[]="]("partial-option",""),_.$push_include(mt,O,Xe,yt,ne))}else if(g(_t)){a=[[],z,0,[],x("Set").$new(),z],mt=a[0],yt=a[1],wt=a[2],kt=a[3],Rt=a[4],zt=a[5],g(_t["$key?"]("**"))?(Tt=St=_t.$delete("**"),g(_t["$key?"]("*"))?At=_t.$delete("*"):we(Tt)&&ve(_t.$values().$first(),!1)&&(At=!0)):g(_t["$key?"]("*"))?ve(_t.$keys().$first(),"*")?Tt=St=(At=_t.$delete("*"))["$!"]():(Tt=St=!1,At=_t.$delete("*")):Tt=St=_t["$value?"](!0)["$!"]();try{oe(it,"call",[O,nt],function It(xt){var Ct,Ft=It.$$s==null?this:It.$$s,Et=z,Pt=z;return xt==null&&(xt=z),Ct=["::","[]"],Et=Ct[0],Pt=Ct[1],oe(xt,"each_line",[],function Lt(Dt){var Nt,Ht,Mt=Lt.$$s==null?this:Lt.$$s,jt=z,Kt=z,Gt=z;return Dt==null&&(Dt=z),wt=K(wt,1),g(Dt["$include?"](Et))&&g(Dt["$include?"](Pt))&&g(L("TagDirectiveRx")["$=~"](Dt))?(jt=(Nt=Je["~"])===z?z:Nt["$[]"](2),g((Nt=Je["~"])===z?z:Nt["$[]"](1))?ve(jt,zt)?(kt.$pop(),Ht=g(kt["$empty?"]())?[z,St]:kt["$[]"](-1),Nt=ue(Ht),zt=Nt[0]==null?z:Nt[0],Tt=Nt[1]==null?z:Nt[1],Ht):g(_t["$key?"](jt))?(Kt=Mt.$create_include_cursor(O,F,wt),g(Gt=oe(kt,"rindex",[],function(Wt){return Wt==null&&(Wt=z),Wt["$=="](jt)},{$$has_trailing_comma_in_args:!0}))?(ve(Gt,0)?kt.$shift():kt.$delete_at(Gt),Mt.$logger().$warn(Mt.$message_with_context("mismatched end tag (expected '"+zt+"' but found '"+jt+"') at line "+wt+" of include "+He+": "+O,R(["source_location","include_location"],{source_location:Mt.$cursor(),include_location:Kt})))):Mt.$logger().$warn(Mt.$message_with_context("unexpected end tag '"+jt+"' at line "+wt+" of include "+He+": "+O,R(["source_location","include_location"],{source_location:Mt.$cursor(),include_location:Kt})))):z:g(_t["$key?"](jt))?(g(Tt=_t["$[]"](jt))&&Rt["$<<"](jt),kt["$<<"]([zt=jt,Tt,wt])):we(At["$nil?"]())?(Tt=g(zt)&&we(Tt)?!1:At,kt["$<<"]([zt=jt,Tt,wt])):z):g(Tt)?(yt=g(M=yt)?M:wt,mt["$<<"](Dt)):z},{$$s:Ft})},{$$s:_})}catch(It){if(e.rescue(It,[L("StandardError")]))try{return _.$logger().$error(_.$message_with_context("include "+He+" not readable: "+O,R(["source_location"],{source_location:_.$cursor()}))),_.$replace_next_line("Unresolved directive in "+_.path+" - include::"+F+"["+t+"]")}finally{e.pop_exception()}else throw It}g(kt["$empty?"]())||oe(kt,"each",[],function It(xt,Ct,Ft){var Et=It.$$s==null?this:It.$$s;return xt==null&&(xt=z),Ct==null&&(Ct=z),Ft==null&&(Ft=z),Et.$logger().$warn(Et.$message_with_context("detected unclosed tag '"+xt+"' starting at line "+Ft+" of include "+He+": "+O,R(["source_location","include_location"],{source_location:Et.$cursor(),include_location:Et.$create_include_cursor(O,F,Ft)})))},{$$s:_}),g((qt=Ce(oe(_t,"keep_if",[],function(xt,Ct){return xt==null&&(xt=z),Ct==null&&(Ct=z),Ct}).$keys(),Rt.$to_a()))["$empty?"]())||_.$logger().$warn(_.$message_with_context("tag"+(g(Ke(qt.$size(),1))?"s":"")+" '"+qt.$join(", ")+"' not found in include "+He+": "+O,R(["source_location"],{source_location:_.$cursor()}))),_.$shift(),g(yt)&&(g(St)&&Ae(At,!1)&&g(_t["$empty?"]())||ne["$[]="]("partial-option",""),_.$push_include(mt,O,Xe,yt,ne))}else{Bt=z;try{Bt=oe(it,"call",[O,nt],function(xt){return xt==null&&(xt=z),xt.$read()}),_.$shift()}catch(It){if(e.rescue(It,[L("StandardError")]))try{return _.$logger().$error(_.$message_with_context("include "+He+" not readable: "+O,R(["source_location"],{source_location:_.$cursor()}))),_.$replace_next_line("Unresolved directive in "+_.path+" - include::"+F+"["+t+"]")}finally{e.pop_exception()}else throw It}_.$push_include(Bt,O,Xe,1,ne)}return!0}else return z}),C(w,"$resolve_include_path",function(u,t,a){var v,_,l=this,F=z,A=z,M=z;return F=l.document,g(L("Helpers")["$uriish?"](u))||g(I(x("String"),l.dir)?z:u=""+l.dir+"/"+u)?g(F["$attr?"]("allow-uri-read"))?(g(F["$attr?"]("cache-uri"))?g((_=x("::","OpenURI","skip_raise"))&&(v=x(_,"Cache","skip_raise"))?"constant":z)||L("Helpers").$require_library("open-uri/cached","open-uri-cached"):we(L("RUBY_ENGINE_OPAL"))&&x("OpenURI"),[x("URI").$parse(u),"uri",u]):l.$replace_next_line("link:"+u+"[role=include]"):(A=F.$normalize_system_path(u,l.dir,z,R(["target_name"],{target_name:"include file"})),g(x("File")["$file?"](A))?(M=F.$path_resolver().$relative_path(A,F.$base_dir()),[A,"file",M]):g(a["$[]"]("optional-option"))?(oe(l.$logger(),"info",[],function W(){var ne=W.$$s==null?this:W.$$s;return ne.$message_with_context("optional include dropped because include file not found: "+A,R(["source_location"],{source_location:ne.$cursor()}))},{$$s:l}),l.$shift(),!0):(l.$logger().$error(l.$message_with_context("include file not found: "+A,R(["source_location"],{source_location:l.$cursor()}))),l.$replace_next_line("Unresolved directive in "+l.path+" - include::"+u+"["+t+"]")))}),C(w,"$pop_include",function(){var u,t,a=this;return g(a.include_stack["$empty?"]())||(t=a.include_stack.$pop(),u=ue(t),a.lines=u[0]==null?z:u[0],a.file=u[1]==null?z:u[1],a.dir=u[2]==null?z:u[2],a.path=u[3]==null?z:u[3],a.lineno=u[4]==null?z:u[4],a.maxdepth=u[5]==null?z:u[5],a.process_lines=u[6]==null?z:u[6],a.look_ahead=0),z}),C(w,"$split_delimited_value",function(u){return g(u["$include?"](","))?u.$split(","):u.$split(";")}),C(w,"$skip_front_matter!",function(u,t){var a=this,v=z,_=z,l=z,F=z,A=z;if(t==null&&(t=!0),!ve(v=u["$[]"](0),"---"))return z;for(_=u.$drop(0),u.$shift(),l=[],g(t)&&(a.lineno=K(a.lineno,1));!g(g(F=A=u["$empty?"]())?F:u["$[]"](0)["$=="](v));)l["$<<"](u.$shift()),g(t)&&(a.lineno=K(a.lineno,1));return g(A)?(oe(u,"unshift",et(_)),g(t)&&(a.lineno=Ce(a.lineno,_.$size())),z):(u.$shift(),g(t)&&(a.lineno=K(a.lineno,1)),l)},-2),C(w,"$resolve_expr_val",function(u){var t=this,a=z;return g(u["$start_with?"]('"'))&&g(u["$end_with?"]('"'))||g(u["$start_with?"]("'"))&&g(u["$end_with?"]("'"))?(a=!0,u=u.$slice(1,Ce(u.$length(),1))):a=!1,g(u["$include?"](L("ATTR_REF_HEAD")))&&(u=t.document.$sub_attributes(u,R(["attribute_missing"],{attribute_missing:"drop"}))),g(a)?u:g(u["$empty?"]())?z:ve(u,"true")?!0:ve(u,"false")?!1:g(u.$rstrip()["$empty?"]())?" ":g(u["$include?"]("."))?u.$to_f():u.$to_i()})}(ie[0],j("Reader"),ie)}(rt[0],rt)},Opal.modules["asciidoctor/section"]=function(e){"use strict";var H=e.module,P=e.klass,C=e.hash2,K=e.send2,c=e.find_super,R=e.eqeqeq,we=e.truthy,I=e.rb_plus,ue=e.def,g=e.alias,Ke=e.rb_gt,oe=e.eqeq,Ce=e.not,ge=e.send,ve=e.defs,st=[],Ae=e.nil;return e.add_stubs("attr_accessor,attr_reader,===,+,level,special,title,generate_id,>,==,sectnum,!,empty?,reftext,sub_placeholder,sub_quotes,compat_mode,[],attributes,context,assign_numeral,class,object_id,inspect,size,[]=,chr,length,gsub,downcase,delete,tr_s,end_with?,chop,start_with?,slice,key?,catalog,unique_id_start_index"),function(et,Ye){var Ue=H(et,"Asciidoctor"),Qe=[Ue].concat(Ye),y=e.$r(Qe);return function(Je,p,Ve){var rt=P(Je,p,"Section"),z=[rt].concat(Ve),x=e.$r(z),ke=rt.$$prototype;return ke.document=ke.next_section_index=ke.parent=ke.level=ke.numeral=ke.numbered=ke.sectname=ke.title=ke.blocks=Ae,rt.$attr_accessor("index"),rt.$attr_accessor("sectname"),rt.$attr_accessor("special"),rt.$attr_accessor("numbered"),rt.$attr_reader("caption"),ue(rt,"$initialize",function ee(ce,ie,j,Q){var T,E=ee.$$p||Ae,w=this,U=Ae;return ee.$$p=null,ce==null&&(ce=Ae),ie==null&&(ie=Ae),j==null&&(j=!1),Q==null&&(Q=C([],{})),K(w,c(w,"initialize",ee,!1,!0),"initialize",[ce,"section",Q],null),R(x("Section"),ce)?(T=[we(U=ie)?U:I(ce.$level(),1),ce.$special()],w.level=T[0],w.special=T[1]):(T=[we(U=ie)?U:1,!1],w.level=T[0],w.special=T[1]),w.numbered=j,w.index=0},-1),g(rt,"name","title"),ue(rt,"$generate_id",function(){var ce=this;return x("Section").$generate_id(ce.$title(),ce.document)}),ue(rt,"$sections?",function(){var ce=this;return Ke(ce.next_section_index,0)}),ue(rt,"$sectnum",function(ce,ie){var j=this,Q=Ae;return ce==null&&(ce="."),ie==null&&(ie=Ae),ie=we(Q=ie)?Q:oe(ie,!1)?"":ce,we(Ke(j.level,1))&&R(x("Section"),j.parent)?""+j.parent.$sectnum(ce,ce)+j.numeral+ie:""+j.numeral+ie},-1),ue(rt,"$xreftext",function(ce){var ie=this,j=Ae,Q=Ae,T=Ae,E=Ae;if(ce==null&&(ce=Ae),we(j=ie.$reftext())&&Ce(j["$empty?"]()))return j;if(we(ce))if(we(ie.numbered))switch(ce){case"full":return oe(Q=ie.sectname,"chapter")||oe(Q,"appendix")?T=ie.$sub_placeholder(ie.$sub_quotes("_%s_"),ie.$title()):T=ie.$sub_placeholder(ie.$sub_quotes(we(ie.document.$compat_mode())?"``%s''":'"`%s`"'),ie.$title()),we(E=ie.document.$attributes()["$[]"](""+Q+"-refsig"))?""+E+" "+ie.$sectnum(".",",")+" "+T:""+ie.$sectnum(".",",")+" "+T;case"short":return we(E=ie.document.$attributes()["$[]"](""+ie.sectname+"-refsig"))?""+E+" "+ie.$sectnum(".",""):ie.$sectnum(".","");default:return oe(Q=ie.sectname,"chapter")||oe(Q,"appendix")?ie.$sub_placeholder(ie.$sub_quotes("_%s_"),ie.$title()):ie.$title()}else return oe(Q=ie.sectname,"chapter")||oe(Q,"appendix")?ie.$sub_placeholder(ie.$sub_quotes("_%s_"),ie.$title()):ie.$title();else return ie.$title()},-1),ue(rt,"$<<",function ee(ce){var ie=ee.$$p||Ae,j=this;return ee.$$p=null,oe(ce.$context(),"section")&&j.$assign_numeral(ce),K(j,c(j,"<<",ee,!1,!0),"<<",[ce],ie)}),ue(rt,"$to_s",function ee(){var ce=ee.$$p||Ae,ie=this,j=Ae;return ee.$$p=null,we(ie.title)?(j=we(ie.numbered)?""+ie.$sectnum()+" "+ie.title:ie.title,"#<"+ie.$class()+"@"+ie.$object_id()+" {level: "+ie.level+", title: "+j.$inspect()+", blocks: "+ie.blocks.$size()+"}>"):K(ie,c(ie,"to_s",ee,!1,!0),"to_s",[],ce)}),ve(rt,"$generate_id",function(ce,ie){var j,Q=Ae,T=Ae,E=Ae,w=Ae,U=Ae,L=Ae,Y=Ae,S=Ae,u=Ae,t=Ae;if(Q=ie.$attributes(),T=we(E=Q["$[]"]("idprefix"))?E:"_",we(w=Q["$[]"]("idseparator"))?(oe(w.$length(),1)||Ce(U=w["$empty?"]())&&we(w=(j=["idseparator",w.$chr()],ge(Q,"[]=",j),j[j.length-1])))&&(L=oe(w,"-")||oe(w,".")?" .-":" "+w+".-"):(j=["_"," _.-"],w=j[0],L=j[1]),Y=""+T+ce.$downcase().$gsub(x("InvalidSectionIdCharsRx"),""),we(U)?Y=Y.$delete(" "):(Y=Y.$tr_s(L,w),we(Y["$end_with?"](w))&&(Y=Y.$chop()),we(T["$empty?"]())&&we(Y["$start_with?"](w))&&(Y=Y.$slice(1,Y.$length()))),we(ie.$catalog()["$[]"]("refs")["$key?"](Y))){for(S=ie.$catalog()["$[]"]("refs"),u=x("Compliance").$unique_id_start_index();we(S["$[]"](t=""+Y+w+u));)u=I(u,1);return t}else return Y})}(Qe[0],y("AbstractBlock"),Qe)}(st[0],st)},Opal.modules["asciidoctor/stylesheets"]=function(e){"use strict";var H=e.module,P=e.klass,C=e.const_set,K=e.return_ivar,c=e.defs,R=e.def,we=e.truthy,I=e.hash2,ue=[],g=e.nil,Ke=e.$$$;return e.add_stubs("join,new,rstrip,read,primary_stylesheet_data,write,primary_stylesheet_name,stylesheet_basename,for,read_stylesheet,coderay_stylesheet_data,coderay_stylesheet_name,pygments_stylesheet_data,pygments_stylesheet_name"),function(oe,Ce){var ge=H(oe,"Asciidoctor"),ve=[ge].concat(Ce);return function(st,Ae,et){var Ye=P(st,Ae,"Stylesheets"),Ue=[Ye].concat(et),Qe=e.$r(Ue),y=Ye.$$prototype;return y.primary_stylesheet_data=g,C(Ue[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),C(Ue[0],"STYLESHEETS_DIR",Ke("File").$join(Qe("DATA_DIR"),"stylesheets")),Ye.__instance__=Ye.$new(),c(Ye,"$instance",K("__instance__")),R(Ye,"$primary_stylesheet_name",function(){return Qe("DEFAULT_STYLESHEET_NAME")}),R(Ye,"$primary_stylesheet_data",function(){var p=this,Ve=g;return p.primary_stylesheet_data=we(Ve=p.primary_stylesheet_data)?Ve:Ke("File").$read(Ke("File").$join(Qe("STYLESHEETS_DIR"),"asciidoctor-default.css"),I(["mode"],{mode:Qe("FILE_READ_MODE")})).$rstrip()}),R(Ye,"$embed_primary_stylesheet",function(){var p=this;return`<style>
`+p.$primary_stylesheet_data()+`
</style>`}),R(Ye,"$write_primary_stylesheet",function(p){var Ve=this;return p==null&&(p="."),Ke("File").$write(Ke("File").$join(p,Ve.$primary_stylesheet_name()),Ve.$primary_stylesheet_data(),I(["mode"],{mode:Qe("FILE_WRITE_MODE")}))},-1),R(Ye,"$coderay_stylesheet_name",function(){return Qe("SyntaxHighlighter").$for("coderay").$stylesheet_basename()}),R(Ye,"$coderay_stylesheet_data",function(){return Qe("SyntaxHighlighter").$for("coderay").$read_stylesheet()}),R(Ye,"$embed_coderay_stylesheet",function(){var p=this;return`<style>
`+p.$coderay_stylesheet_data()+`
</style>`}),R(Ye,"$write_coderay_stylesheet",function(p){var Ve=this;return p==null&&(p="."),Ke("File").$write(Ke("File").$join(p,Ve.$coderay_stylesheet_name()),Ve.$coderay_stylesheet_data(),I(["mode"],{mode:Qe("FILE_WRITE_MODE")}))},-1),R(Ye,"$pygments_stylesheet_name",function(p){return p==null&&(p=g),Qe("SyntaxHighlighter").$for("pygments").$stylesheet_basename(p)},-1),R(Ye,"$pygments_stylesheet_data",function(p){return p==null&&(p=g),Qe("SyntaxHighlighter").$for("pygments").$read_stylesheet(p)},-1),R(Ye,"$embed_pygments_stylesheet",function(p){var Ve=this;return p==null&&(p=g),`<style>
`+Ve.$pygments_stylesheet_data(p)+`
</style>`},-1),R(Ye,"$write_pygments_stylesheet",function(p,Ve){var rt=this;return p==null&&(p="."),Ve==null&&(Ve=g),Ke("File").$write(Ke("File").$join(p,rt.$pygments_stylesheet_name(Ve)),rt.$pygments_stylesheet_data(Ve),I(["mode"],{mode:Qe("FILE_WRITE_MODE")}))},-1)}(ve[0],null,ve)}(ue[0],ue)},Opal.modules["asciidoctor/table"]=function(e){"use strict";var H=e.module,P=e.klass,C=e.const_set,K=e.def,c=e.alias,R=e.hash2,we=e.send2,I=e.find_super,ue=e.truthy,g=e.rb_lt,Ke=e.rb_gt,oe=e.eqeq,Ce=e.rb_times,ge=e.rb_divide,ve=e.send,st=e.rb_plus,Ae=e.rb_minus,et=e.return_val,Ye=e.to_a,Ue=e.gvars,Qe=e.neqeq,y=e.return_ivar,Je=e.to_ary,p=e.regexp,Ve=e.not,rt=e.thrower,z=[],x=e.nil,ke=e.$$$;return e.add_stubs("attr_accessor,send,attr_reader,new,[],<,>,to_i,==,[]=,attributes,truncate,*,/,to_f,empty?,body,each,<<,size,+,assign_column_widths,warn,logger,-,update_attributes,assign_width,round,head=,map,shift,reinitialize,nil?,unshift,foot=,pop,parent,sourcemap,dup,header_row?,table,style,merge,delete,start_with?,rstrip,slice,length,advance,lstrip,strip,split,include?,readlines,catalog_inline_anchor,=~,apply_subs,attr_writer,convert,text,!=,file,lineno,include,to_set,mark,key?,nested?,document,error,message_with_context,cursor_at_prev_line,nil_or_empty?,escape,columns,match,chop,end_with?,gsub,!,push_cellspec,cell_open?,close_cell,take_cellspec,squeeze,upto,times,cursor_before_mark,rowspan,activate_rowspan,colspan,end_of_row?,close_row,private,rows,effective_column_visits"),function(ee,ce){var ie=H(ee,"Asciidoctor"),j=[ie].concat(ce),Q=e.$r(j);return function(T,E,w){var U=P(T,E,"Table"),L=[U].concat(w),Y=e.$r(L),S=U.$$prototype;return S.attributes=S.document=S.rows=S.has_header_option=S.columns=x,C(L[0],"DEFAULT_PRECISION",4),function(u,t){var a=P(u,t,"Rows"),v=a.$$prototype;return v.head=v.body=v.foot=x,a.$attr_accessor("head","foot","body"),K(a,"$initialize",function(l,F,A){var M=this;return l==null&&(l=[]),F==null&&(F=[]),A==null&&(A=[]),M.head=l,M.foot=F,M.body=A},-1),c(a,"[]","send"),K(a,"$by_section",function(){var l=this;return[["head",l.head],["body",l.body],["foot",l.foot]]}),K(a,"$to_h",function(){var l=this;return R(["head","body","foot"],{head:l.head,body:l.body,foot:l.foot})})}(L[0],null),U.$attr_accessor("columns"),U.$attr_accessor("rows"),U.$attr_accessor("has_header_option"),U.$attr_reader("caption"),K(U,"$initialize",function u(t,a){var v,_=u.$$p||x,l=this,F=x,A=x,M=x;return u.$$p=null,we(l,I(l,"initialize",u,!1,!0),"initialize",[t,"table"],null),l.rows=Y("Rows").$new(),l.columns=[],l.has_header_option=!1,ue(F=a["$[]"]("width"))?(ue(Ke(A=F.$to_i(),100))||ue(g(A,1)))&&(oe(A,0)&&(oe(F,"0")||oe(F,"0%"))||(A=100)):A=100,l.attributes["$[]="]("tablepcwidth",A),ue(l.document.$attributes()["$[]"]("pagewidth"))&&l.attributes["$[]="]("tableabswidth",oe(M=Ce(ge(A,100),l.document.$attributes()["$[]"]("pagewidth").$to_f()).$truncate(Y("DEFAULT_PRECISION")),M.$to_i())?M.$to_i():M),ue(a["$[]"]("rotate-option"))?(v=["orientation","landscape"],ve(l.attributes,"[]=",v),v[v.length-1]):x}),K(U,"$header_row?",function(){var t=this,a=x;return ue(a=t.has_header_option)&&ue(t.rows.$body()["$empty?"]())?a:x}),K(U,"$create_columns",function(t){var a=this,v=x,_=x,l=x,F=x;return v=[],_=x,l=0,ve(t,"each",[],function A(M){var W=A.$$s==null?this:A.$$s,ne=x,O=x;return M==null&&(M=x),ne=M["$[]"]("width"),v["$<<"](Y("Column").$new(W,v.$size(),M)),ue(g(ne,0))?(_=ue(O=_)?O:[])["$<<"](v["$[]"](-1)):l=st(l,ne)},{$$s:a}),ue(Ke(F=(a.columns=v).$size(),0))&&(a.attributes["$[]="]("colcount",F),ue(Ke(l,0))||ue(_)||(l=x),a.$assign_column_widths(l,_)),x}),K(U,"$assign_column_widths",function(t,a){var v=this,_=x,l=x,F=x,A=x,M=x;return t==null&&(t=x),a==null&&(a=x),_=Y("DEFAULT_PRECISION"),l=F=0,ue(t)?(ue(a)&&(ue(Ke(t,100))?(A=0,v.$logger().$warn("total column width must not exceed 100% when using autowidth columns; got "+t+"%")):(A=ge(Ae(100,t),a.$size()).$truncate(_),oe(A.$to_i(),A)&&(A=A.$to_i()),t=100),M=R(["width","autowidth-option"],{width:A,"autowidth-option":""}),ve(a,"each",[],function(ne){return ne==null&&(ne=x),ne.$update_attributes(M)})),ve(v.columns,"each",[],function(ne){return ne==null&&(ne=x),l=st(l,F=ne.$assign_width(x,t,_))})):(F=ge(100,v.columns.$size()).$truncate(_),oe(F.$to_i(),F)&&(F=F.$to_i()),ve(v.columns,"each",[],function(ne){return ne==null&&(ne=x),l=st(l,ne.$assign_width(F,x,_))})),oe(l,100)||v.columns["$[]"](-1).$assign_width(st(Ae(100,l),F).$round(_),x,_),x},-1),K(U,"$partition_header_footer",function(t){var a,v=this,_=x,l=x;return _=(a=["rowcount",(l=v.rows.$body()).$size()],ve(v.attributes,"[]=",a),a[a.length-1]),ue(Ke(_,0))&&(ue(v.has_header_option)?(v.rows["$head="]([ve(l.$shift(),"map",[],function(A){return A==null&&(A=x),A.$reinitialize(!0)})]),_=Ae(_,1)):ue(v.has_header_option["$nil?"]())&&(v.has_header_option=!1,l.$unshift(ve(l.$shift(),"map",[],function(A){return A==null&&(A=x),A.$reinitialize(!1)})))),ue(Ke(_,0))&&ue(t["$[]"]("footer-option"))&&v.rows["$foot="]([l.$pop()]),x})}(j[0],Q("AbstractBlock"),j),function(T,E){var w=P(T,E,"Column"),U=w.$$prototype;return U.attributes=x,w.$attr_accessor("style"),K(w,"$initialize",function L(Y,S,u){var t=L.$$p||x,a=this,v=x;return L.$$p=null,u==null&&(u=R([],{})),we(a,I(a,"initialize",L,!1,!0),"initialize",[Y,"table_column"],null),a.style=u["$[]"]("style"),u["$[]="]("colnumber",st(S,1)),ue(v=u["$[]"]("width"))||u["$[]="]("width",1),ue(v=u["$[]"]("halign"))||u["$[]="]("halign","left"),ue(v=u["$[]"]("valign"))||u["$[]="]("valign","top"),a.$update_attributes(u)},-3),c(w,"table","parent"),K(w,"$assign_width",function(Y,S,u){var t,a=this,v=x;return ue(S)&&(Y=ge(Ce(a.attributes["$[]"]("width").$to_f(),100),S).$truncate(u),oe(Y.$to_i(),Y)&&(Y=Y.$to_i())),ue(a.$parent().$attributes()["$[]"]("tableabswidth"))&&a.attributes["$[]="]("colabswidth",oe(v=Ce(ge(Y,100),a.$parent().$attributes()["$[]"]("tableabswidth")).$truncate(u),v.$to_i())?v.$to_i():v),t=["colpcwidth",Y],ve(a.attributes,"[]=",t),t[t.length-1]}),K(w,"$block?",et(!1)),K(w,"$inline?",et(!1))}(Q("Table"),Q("AbstractNode")),function(T,E,w){var U=P(T,E,"Cell"),L=[U].concat(w),Y=e.$r(L),S=U.$$prototype;return S.document=S.reinitialize_args=S.attributes=S.cursor=S.text=S.subs=S.style=S.inner_document=S.source_location=S.colspan=S.rowspan=x,C(L[0],"DOUBLE_LF",Ce(Y("LF"),2)),U.$attr_accessor("colspan"),U.$attr_accessor("rowspan"),c(U,"column","parent"),U.$attr_reader("inner_document"),K(U,"$initialize",function u(t,a,v,_){var l,F=u.$$p||x,A=this,M=x,W=x,ne=x,O=x,He=x,Xe=x,it=x,nt=x,at=x,ct=x,ut=x,_t=x,ft=x;if(u.$$p=null,v==null&&(v=R([],{})),_==null&&(_=R([],{})),we(A,I(A,"initialize",u,!1,!0),"initialize",[t,"table_cell"],null),A.cursor=A.reinitialize_args=x,ue(A.document.$sourcemap())&&(A.source_location=_["$[]"]("cursor").$dup()),ue(t)&&(ue(M=t.$table()["$header_row?"]())?oe(M,"implicit")&&ue(W=ue(ne=t.$style())?ne:ue(O=v)?v["$[]"]("style"):O)&&((oe(W,"asciidoc")||oe(W,"literal"))&&(A.reinitialize_args=[t,a,ue(ne=v)?v.$merge():ne,_]),W=x):W=t.$style(),A.$update_attributes(t.$attributes())),ue(v))switch(ue(v["$empty?"]())?A.colspan=A.rowspan=x:(l=[v.$delete("colspan"),v.$delete("rowspan")],A.colspan=l[0],A.rowspan=l[1],ue(M)||(W=ue(ne=v["$[]"]("style"))?ne:W),A.$update_attributes(v)),W){case"asciidoc":if(He=!0,Xe=_["$[]"]("cursor"),ue((a=a.$rstrip())["$start_with?"](Y("LF")))){for(it=1;ue((a=a.$slice(1,a.$length()))["$start_with?"](Y("LF")));)it=st(it,1);Xe.$advance(it)}else a=a.$lstrip();break;case"literal":for(nt=!0,a=a.$rstrip();ue(a["$start_with?"](Y("LF")));)a=a.$slice(1,a.$length());break;default:at=!0,a=ue(a)?a.$strip():""}else A.colspan=A.rowspan=x,oe(W,"asciidoc")&&(He=!0,Xe=_["$[]"]("cursor"));return ue(He)?(ct=A.document.$attributes().$delete("doctitle"),ut=a.$split(Y("LF"),-1),ue(ut["$empty?"]())||ue((_t=ut["$[]"](0))["$include?"]("::"))&&(ft=Y("PreprocessorReader").$new(A.document,[_t]).$readlines(),oe(_t,ft["$[]"](0))&&ue(g(ft.$size(),2))||(ut.$shift(),ue(ft["$empty?"]())||ve(ut,"unshift",Ye(ft)))),A.inner_document=Y("Document").$new(ut,R(["standalone","parent","cursor"],{standalone:!1,parent:A.document,cursor:Xe})),ue(ct["$nil?"]())||A.document.$attributes()["$[]="]("doctitle",ct),A.subs=x):ue(nt)?(A.content_model="verbatim",A.subs=Y("BASIC_SUBS")):(ue(at)&&(ue(M)?A.cursor=_["$[]"]("cursor"):A.$catalog_inline_anchor(a,_["$[]"]("cursor"))),A.content_model="simple",A.subs=Y("NORMAL_SUBS")),A.text=a,A.style=W},-3),K(U,"$reinitialize",function(t){var a=this;if(ue(t))a.reinitialize_args=x;else{if(ue(a.reinitialize_args))return ve(ke(Y("Table"),"Cell"),"new",Ye(a.reinitialize_args));a.style=a.attributes["$[]"]("style")}return ue(a.cursor)&&a.$catalog_inline_anchor(),a}),K(U,"$catalog_inline_anchor",function(t,a){var v,_=this;return t==null&&(t=_.text),a==null&&(a=x),ue(a)||(v=[_.cursor,x],a=v[0],_.cursor=v[1]),ue(t["$start_with?"]("[["))&&ue(Y("LeadingInlineAnchorRx")["$=~"](t))?Y("Parser").$catalog_inline_anchor((v=Ue["~"])===x?x:v["$[]"](1),(v=Ue["~"])===x?x:v["$[]"](2),_,a,_.document):x},-1),K(U,"$text",function(){var t=this;return t.$apply_subs(t.text,t.subs)}),U.$attr_writer("text"),K(U,"$content",function(){var t=this,a=x,v=x;return oe(a=t.style,"asciidoc")?t.inner_document.$convert():ue(t.text["$include?"](Y("DOUBLE_LF")))?ve(t.$text().$split(Y("BlankLineRx")),"map",[],function _(l){var F=_.$$s==null?this:_.$$s;return l==null&&(l=x),ue(a)&&Qe(a,"header")?Y("Inline").$new(F.$parent(),"quoted",l,R(["type"],{type:a})).$convert():l},{$$s:t}):ue((v=t.$text())["$empty?"]())?[]:ue(a)&&Qe(a,"header")?[Y("Inline").$new(t.$parent(),"quoted",v,R(["type"],{type:a})).$convert()]:[v]}),K(U,"$lines",function(){var t=this;return t.text.$split(Y("LF"))}),K(U,"$source",y("text")),K(U,"$file",function(){var t=this,a=x;return ue(a=t.source_location)?t.source_location.$file():a}),K(U,"$lineno",function(){var t=this,a=x;return ue(a=t.source_location)?t.source_location.$lineno():a}),K(U,"$to_s",function u(){var t=u.$$p||x,a=this,v=x;return u.$$p=null,""+we(a,I(a,"to_s",u,!1,!0),"to_s",[],t)+" - [text: "+a.text+", colspan: "+(ue(v=a.colspan)?v:1)+", rowspan: "+(ue(v=a.rowspan)?v:1)+", attributes: "+a.attributes+"]"})}(Q("Table"),Q("AbstractBlock"),j),function(T,E,w){var U=P(T,E,"ParserContext"),L=[U].concat(w),Y=e.$r(L),S=U.$$prototype;return S.delimiter=S.delimiter_rx=S.buffer=S.cellspecs=S.cell_open=S.format=S.start_cursor_data=S.reader=S.table=S.current_row=S.colcount=S.column_visits=S.active_rowspans=S.linenum=x,U.$include(Y("Logging")),C(L[0],"FORMATS",["psv","csv","dsv","tsv"].$to_set()),C(L[0],"DELIMITERS",R(["psv","csv","dsv","tsv","!sv"],{psv:["|",/\|/],csv:[",",/,/],dsv:[":",/:/],tsv:["	",/\t/],"!sv":["!",/!/]})),U.$attr_accessor("table"),U.$attr_accessor("format"),U.$attr_reader("colcount"),U.$attr_accessor("buffer"),U.$attr_reader("delimiter"),U.$attr_reader("delimiter_re"),K(U,"$initialize",function(t,a,v){var _,l,F=this,A=x,M=x;return v==null&&(v=R([],{})),F.start_cursor_data=(F.reader=t).$mark(),F.table=a,ue(v["$key?"]("format"))?ue(Y("FORMATS")["$include?"](A=v["$[]"]("format")))?oe(A,"tsv")?F.format="csv":oe(F.format=A,"psv")&&ue(a.$document()["$nested?"]())&&(A="!sv"):(F.$logger().$error(F.$message_with_context("illegal table format: "+A,R(["source_location"],{source_location:t.$cursor_at_prev_line()}))),_=["psv",ue(a.$document()["$nested?"]())?"!sv":"psv"],F.format=_[0],A=_[1]):(_=["psv",ue(a.$document()["$nested?"]())?"!sv":"psv"],F.format=_[0],A=_[1]),ue(v["$key?"]("separator"))?ue((M=v["$[]"]("separator"))["$nil_or_empty?"]())?(l=Y("DELIMITERS")["$[]"](A),_=Je(l),F.delimiter=_[0]==null?x:_[0],F.delimiter_rx=_[1]==null?x:_[1]):oe(M,"\\t")?(l=Y("DELIMITERS")["$[]"]("tsv"),_=Je(l),F.delimiter=_[0]==null?x:_[0],F.delimiter_rx=_[1]==null?x:_[1]):(_=[M,p([ke("Regexp").$escape(M)])],F.delimiter=_[0],F.delimiter_rx=_[1]):(l=Y("DELIMITERS")["$[]"](A),_=Je(l),F.delimiter=_[0]==null?x:_[0],F.delimiter_rx=_[1]==null?x:_[1]),F.colcount=ue(a.$columns()["$empty?"]())?-1:a.$columns().$size(),F.buffer="",F.cellspecs=[],F.cell_open=!1,F.active_rowspans=[0],F.column_visits=0,F.current_row=[],F.linenum=-1},-3),K(U,"$starts_with_delimiter?",function(t){var a=this;return t["$start_with?"](a.delimiter)}),K(U,"$match_delimiter",function(t){var a=this;return a.delimiter_rx.$match(t)}),K(U,"$skip_past_delimiter",function(t){var a=this;return a.buffer=""+a.buffer+t+a.delimiter,x}),K(U,"$skip_past_escaped_delimiter",function(t){var a=this;return a.buffer=""+a.buffer+t.$chop()+a.delimiter,x}),K(U,"$buffer_has_unclosed_quotes?",function(t,a){var v=this,_=x,l=x,F=x,A=x;return t==null&&(t=x),a==null&&(a='"'),oe(_=ue(t)?st(v.buffer,t).$strip():v.buffer.$strip(),a)?!0:ue(_["$start_with?"](a))?(l=st(a,a),ue(F=_["$end_with?"](a))&&ue(_["$end_with?"](l))||ue(_["$start_with?"](l))?ue(A=(_=_.$gsub(l,""))["$start_with?"](a))?_["$end_with?"](a)["$!"]():A:F["$!"]()):!1},-1),K(U,"$take_cellspec",function(){var t=this;return t.cellspecs.$shift()}),K(U,"$push_cellspec",function(t){var a=this,v=x;return t==null&&(t=R([],{})),a.cellspecs["$<<"](ue(v=t)?v:R([],{})),x},-1),K(U,"$keep_cell_open",function(){var t=this;return t.cell_open=!0,x}),K(U,"$mark_cell_closed",function(){var t=this;return t.cell_open=!1,x}),K(U,"$cell_open?",y("cell_open")),K(U,"$cell_closed?",function(){var t=this;return t.cell_open["$!"]()}),K(U,"$close_open_cell",function(t){var a=this;return t==null&&(t=R([],{})),a.$push_cellspec(t),ue(a["$cell_open?"]())&&a.$close_cell(!0),a.$advance(),x},-1),K(U,"$close_cell",function(t){try{var a=rt("return"),v=this,_=x,l=x,F=x,A=x,M=x;return t==null&&(t=!1),oe(v.format,"psv")?(_=v.buffer,v.buffer="",ue(l=v.$take_cellspec())?F=ue(A=l.$delete("repeatcol"))?A:1:(v.$logger().$error(v.$message_with_context("table missing leading separator; recovering automatically",R(["source_location"],{source_location:ve(ke(Y("Reader"),"Cursor"),"new",Ye(v.start_cursor_data))}))),l=R([],{}),F=1)):(_=v.buffer.$strip(),v.buffer="",l=x,F=1,oe(v.format,"csv")&&Ve(_["$empty?"]())&&ue(_["$include?"](M='"'))&&(ue(_["$start_with?"](M))&&ue(_["$end_with?"](M))?ue(_=_.$slice(1,Ae(_.$length(),2)))?_=_.$strip().$squeeze(M):(v.$logger().$error(v.$message_with_context("unclosed quote in CSV data; setting cell to empty",R(["source_location"],{source_location:v.reader.$cursor_at_prev_line()}))),_=""):_=_.$squeeze(M))),ve(1,"upto",[F],function W(ne){var O=W.$$s==null?this:W.$$s,He=x,Xe=x,it=x,nt=x;return O.colcount==null&&(O.colcount=x),O.table==null&&(O.table=x),O.current_row==null&&(O.current_row=x),O.reader==null&&(O.reader=x),O.column_visits==null&&(O.column_visits=x),O.linenum==null&&(O.linenum=x),ne==null&&(ne=x),oe(O.colcount,-1)?(O.table.$columns()["$<<"](He=ke(Y("Table"),"Column").$new(O.table,Ae(st(O.table.$columns().$size(),ne),1))),ue(l)&&ue(l["$key?"]("colspan"))&&ue(Ke(Xe=Ae(l["$[]"]("colspan").$to_i(),1),0))&&(it=O.table.$columns().$size(),ve(Xe,"times",[],function at(ct){var ut=at.$$s==null?this:at.$$s;return ut.table==null&&(ut.table=x),ct==null&&(ct=x),ut.table.$columns()["$<<"](ke(Y("Table"),"Column").$new(ut.table,st(it,ct)))},{$$s:O}))):ue(He=O.table.$columns()["$[]"](O.current_row.$size()))||(O.$logger().$error(O.$message_with_context("dropping cell because it exceeds specified number of columns",R(["source_location"],{source_location:O.reader.$cursor_before_mark()}))),a.$throw()),nt=ke(Y("Table"),"Cell").$new(He,_,l,R(["cursor"],{cursor:O.reader.$cursor_before_mark()})),O.reader.$mark(),Ve(nt.$rowspan())||oe(nt.$rowspan(),1)||O.$activate_rowspan(nt.$rowspan(),ue(A=nt.$colspan())?A:1),O.column_visits=st(O.column_visits,ue(A=nt.$colspan())?A:1),O.current_row["$<<"](nt),ue(O["$end_of_row?"]())&&(Qe(O.colcount,-1)||ue(Ke(O.linenum,0))||ue(t)&&oe(ne,F))?O.$close_row():x},{$$s:v,$$ret:a}),v.cell_open=!1,x}catch(W){if(W===a)return W.$v;throw W}},-1),U.$private(),K(U,"$close_row",function(){var t=this,a=x;return t.table.$rows().$body()["$<<"](t.current_row),oe(t.colcount,-1)&&(t.colcount=t.column_visits),t.column_visits=0,t.current_row=[],t.active_rowspans.$shift(),ue(a=t.active_rowspans["$[]"](0))||t.active_rowspans["$[]="](0,0),x}),K(U,"$activate_rowspan",function(t,a){var v=this;return ve(1,"upto",[Ae(t,1)],function _(l){var F,A=_.$$s==null?this:_.$$s,M=x;return A.active_rowspans==null&&(A.active_rowspans=x),l==null&&(l=x),F=[l,st(ue(M=A.active_rowspans["$[]"](l))?M:0,a)],ve(A.active_rowspans,"[]=",F),F[F.length-1]},{$$s:v}),x}),K(U,"$end_of_row?",function(){var t=this,a=x;return ue(a=t.colcount["$=="](-1))?a:t.$effective_column_visits()["$=="](t.colcount)}),K(U,"$effective_column_visits",function(){var t=this;return st(t.column_visits,t.active_rowspans["$[]"](0))}),K(U,"$advance",function(){var t=this;return t.linenum=st(t.linenum,1)})}(Q("Table"),null,j)}(z[0],z)},Opal.modules["asciidoctor/writer"]=function(e){"use strict";var H=e.module,P=e.truthy,C=e.rb_plus,K=e.hash2,c=e.def,R=e.return_val,we=[],I=e.nil,ue=e.$$$;return e.add_stubs("respond_to?,write,+,chomp,include"),function(g,Ke){var oe=H(g,"Asciidoctor"),Ce=[oe].concat(Ke);return function(ge,ve){var st=H(ge,"Writer"),Ae=[st].concat(ve),et=e.$r(Ae);return c(st,"$write",function(Ue,Qe){return P(Qe["$respond_to?"]("write"))?Qe.$write(C(Ue.$chomp(),et("LF"))):ue("File").$write(Qe,Ue,K(["mode"],{mode:et("FILE_WRITE_MODE")})),I})}(Ce[0],Ce),function(ge,ve){var st=H(ge,"VoidWriter"),Ae=[st].concat(ve),et=e.$r(Ae);return st.$include(et("Writer")),c(st,"$write",R(I))}(Ce[0],Ce)}(we[0],we)},Opal.modules["asciidoctor/load"]=function(e){"use strict";var H=e.module,P=e.hash2,C=e.truthy,K=e.neqeq,c=e.not,R=e.eqeqeq,we=e.send,I=e.to_ary,ue=e.rb_plus,g=e.eqeq,Ke=e.def,oe=[],Ce=e.nil,ge=e.$$$;return e.add_stubs("merge,[],start,!=,logger,key?,logger=,new,!,===,dup,tap,each,partition,[]=,split,gsub,+,respond_to?,keys,raise,join,ancestors,class,==,at,to_i,mtime,absolute_path,path,dirname,basename,extname,read,rewind,drop,record,parse,exception,message,set_backtrace,backtrace,stack_trace=,stack_trace,open,load"),function(ve,st){var Ae=H(ve,"Asciidoctor"),et=[Ae].concat(st);return function(Ye,Ue){var Qe=[Ye].concat(Ue),y=e.$r(Qe);return Ke(Ye,"$load",function(p,Ve){var rt,z,x,ke,ee=this,ce=Ce,ie=Ce,j=Ce,Q=Ce,T=Ce,E=Ce,w=Ce,U=Ce,L=Ce,Y=Ce;Ve==null&&(Ve=P([],{}));try{if(Ve=Ve.$merge(),C(ce=Ve["$[]"]("timings"))&&ce.$start("read"),C(Ve["$key?"]("logger"))&&K(ie=Ve["$[]"]("logger"),y("LoggerManager").$logger())&&y("LoggerManager")["$logger="](C(j=ie)?j:y("NullLogger").$new()),c(Q=Ve["$[]"]("attributes"))?Q=P([],{}):R(ge("Hash"),Q)?Q=Q.$merge():C((x=ge("::","Java","skip_raise"))&&(z=ge(x,"JavaUtil","skip_raise"))&&(rt=ge(z,"Map","skip_raise"))?"constant":Ce)&&R(ge(ge(ge("Java"),"JavaUtil"),"Map"),Q)?Q=Q.$dup():R(ge("Array"),Q)?Q=we(P([],{}),"tap",[],function(u){return u==null&&(u=Ce),we(Q,"each",[],function(a){var v,_,l=Ce,F=Ce,A=Ce;return a==null&&(a=Ce),_=a.$partition("="),v=I(_),l=v[0]==null?Ce:v[0],F=v[1]==null?Ce:v[1],A=v[2]==null?Ce:v[2],v=[l,A],we(u,"[]=",v),v[v.length-1]})}):R(ge("String"),Q)?Q=we(P([],{}),"tap",[],function(u){return u==null&&(u=Ce),we(Q.$gsub(y("SpaceDelimiterRx"),ue("\\1",y("NULL"))).$gsub(y("EscapedSpaceRx"),"\\1").$split(y("NULL")),"each",[],function(a){var v,_,l=Ce,F=Ce,A=Ce;return a==null&&(a=Ce),_=a.$partition("="),v=I(_),l=v[0]==null?Ce:v[0],F=v[1]==null?Ce:v[1],A=v[2]==null?Ce:v[2],v=[l,A],we(u,"[]=",v),v[v.length-1]})}):C(Q["$respond_to?"]("keys"))&&C(Q["$respond_to?"]("[]"))?Q=we(P([],{}),"tap",[],function(u){return u==null&&(u=Ce),we(Q.$keys(),"each",[],function(a){var v;return a==null&&(a=Ce),v=[a,Q["$[]"](a)],we(u,"[]=",v),v[v.length-1]})}):ee.$raise(ge("ArgumentError"),"illegal type for attributes option: "+Q.$class().$ancestors().$join(" < ")),R(ge("File"),p))Ve["$[]="]("input_mtime",g(y("RUBY_ENGINE"),"jruby")?ge("Time").$at(p.$mtime().$to_i()):p.$mtime()),Q["$[]="]("docfile",T=ge("File").$absolute_path(p.$path())),Q["$[]="]("docdir",ge("File").$dirname(T)),Q["$[]="]("docname",y("Helpers").$basename(T,(ke=["docfilesuffix",y("Helpers").$extname(T)],we(Q,"[]=",ke),ke[ke.length-1]))),E=p.$read();else if(C(p["$respond_to?"]("read"))){try{p.$rewind()}catch(S){if(e.rescue(S,[y("StandardError")]))try{}finally{e.pop_exception()}else throw S}E=p.$read()}else R(ge("String"),p)?E=p:R(ge("Array"),p)?E=p.$drop(0):C(p)&&ee.$raise(ge("ArgumentError"),"unsupported input type: "+p.$class());return C(ce)&&(ce.$record("read"),ce.$start("parse")),Ve["$[]="]("attributes",Q),w=g(Ve["$[]"]("parse"),!1)?y("Document").$new(E,Ve):y("Document").$new(E,Ve).$parse(),C(ce)&&ce.$record("parse"),w}catch(S){if(e.rescue(S,[y("StandardError")])){U=S;try{try{L="asciidoctor: FAILED: "+(C(j=Q["$[]"]("docfile"))?j:"<stdin>")+": Failed to load AsciiDoc document",C(U["$respond_to?"]("exception"))?(Y=U.$exception(""+L+" - "+U.$message()),Y.$set_backtrace(U.$backtrace())):(Y=U.$class().$new(L,U),Y["$stack_trace="](U.$stack_trace()))}catch(u){if(e.rescue(u,[y("StandardError")]))try{Y=U}finally{e.pop_exception()}else throw u}return ee.$raise(Y)}finally{e.pop_exception()}}else throw S}},-2),Ke(Ye,"$load_file",function(p,Ve){var rt=this;return Ve==null&&(Ve=P([],{})),we(ge("File"),"open",[p,y("FILE_READ_MODE")],function z(x){var ke=z.$$s==null?this:z.$$s;return x==null&&(x=Ce),ke.$load(x,Ve)},{$$s:rt})},-2)}(e.get_singleton_class(Ae),et)}(oe[0],oe)},Opal.modules["asciidoctor/convert"]=function(e){"use strict";var H=e.module,P=e.hash2,C=e.eqeqeq,K=e.truthy,c=e.eqeq,R=e.rb_ge,we=e.not,I=e.rb_lt,ue=e.neqeq,g=e.def,Ke=e.send,oe=e.alias,Ce=[],ge=e.nil,ve=e.$$$;return e.add_stubs("delete,merge,===,absolute_path,path,load,respond_to?,[]=,key?,fetch,[],dirname,expand_path,join,attributes,outfilesuffix,==,raise,pwd,>=,safe,normalize_system_path,mkdir_p,directory?,!,convert,write,attr,uriish?,basebackend?,attr?,<,include?,syntax_highlighter,write_stylesheet?,write_primary_stylesheet,instance,to_s,read_asset,file?,!=,write_stylesheet,open,convert_file"),function(st,Ae){var et=H(st,"Asciidoctor"),Ye=[et].concat(Ae);return function(Ue,Qe){var y=[Ue].concat(Qe),Je=e.$r(y);return g(Ue,"$convert",function(Ve,rt){var z=this,x=ge,ke=ge,ee=ge,ce=ge,ie=ge,j=ge,Q=ge,T=ge,E=ge,w=ge,U=ge,L=ge,Y=ge,S=ge,u=ge,t=ge,a=ge,v=ge,_=ge,l=ge,F=ge,A=ge,M=ge,W=ge;if(rt==null&&(rt=P([],{})),(rt=rt.$merge()).$delete("parse"),x=rt.$delete("to_dir"),ke=rt.$delete("mkdirs"),C(!0,ee=ce=rt.$delete("to_file"))||C(ge,ee))K(ie=x)||C(ve("File"),Ve)&&(j=ve("File").$absolute_path(Ve.$path())),ce=ge;else if(C(!1,ee))ce=ge;else{if(C("/dev/null",ee))return z.$load(Ve,rt);K(Q=ce["$respond_to?"]("write"))||rt["$[]="]("to_file",ie=ce)}return K(rt["$key?"]("standalone"))||(K(j)||K(ie)?rt["$[]="]("standalone",rt.$fetch("header_footer",!0)):K(rt["$key?"]("header_footer"))&&rt["$[]="]("standalone",rt["$[]"]("header_footer"))),K(j)?rt["$[]="]("to_dir",T=ve("File").$dirname(j)):K(ie)&&(K(x)?K(ce)?rt["$[]="]("to_dir",ve("File").$dirname(ve("File").$expand_path(ce,x))):rt["$[]="]("to_dir",ve("File").$expand_path(x)):K(ce)&&rt["$[]="]("to_dir",ve("File").$dirname(ve("File").$expand_path(ce)))),E=z.$load(Ve,rt),K(j)?(w=ve("File").$join(T,""+E.$attributes()["$[]"]("docname")+E.$outfilesuffix()),c(w,j)&&z.$raise(ve("IOError"),"input file and output file cannot be the same: "+w)):K(ie)?(U=K(rt["$key?"]("base_dir"))?ve("File").$expand_path(rt["$[]"]("base_dir")):ve("Dir").$pwd(),L=K(R(E.$safe(),ve(Je("SafeMode"),"SAFE")))?U:ge,K(x)?(T=E.$normalize_system_path(x,U,L,P(["target_name","recover"],{target_name:"to_dir",recover:!1})),K(ce)?(w=E.$normalize_system_path(ce,T,ge,P(["target_name","recover"],{target_name:"to_dir",recover:!1})),T=ve("File").$dirname(w)):w=ve("File").$join(T,""+E.$attributes()["$[]"]("docname")+E.$outfilesuffix())):K(ce)&&(w=E.$normalize_system_path(ce,U,L,P(["target_name","recover"],{target_name:"to_dir",recover:!1})),T=ve("File").$dirname(w)),C(ve("File"),Ve)&&c(w,ve("File").$absolute_path(Ve.$path()))&&z.$raise(ve("IOError"),"input file and output file cannot be the same: "+w),K(ke)?Je("Helpers").$mkdir_p(T):K(ve("File")["$directory?"](T))||z.$raise(ve("IOError"),"target directory does not exist: "+x+" (hint: set :mkdirs option)")):(w=ce,T=ge),K(w)&&we(Q)?Y=E.$convert(P(["outfile","outdir"],{outfile:w,outdir:T})):Y=E.$convert(),K(w)?(E.$write(Y,w),we(Q)&&K(I(E.$safe(),ve(Je("SafeMode"),"SECURE")))&&K(E["$attr?"]("linkcss"))&&K(E["$attr?"]("copycss"))&&K(E["$basebackend?"]("html"))&&we(K(ee=S=E.$attr("stylesdir"))?Je("Helpers")["$uriish?"](S):ee)&&(K(u=E.$attr("stylesheet"))&&(K(Je("DEFAULT_STYLESHEET_KEYS")["$include?"](u))?t=!0:we(Je("Helpers")["$uriish?"](u))&&(a=!0)),v=K(ee=_=E.$syntax_highlighter())?_["$write_stylesheet?"](E):ee,(K(t)||K(a)||K(v))&&(l=E.$normalize_system_path(S,T,K(R(E.$safe(),ve(Je("SafeMode"),"SAFE")))?T:ge),K(ke)?Je("Helpers").$mkdir_p(l):K(ve("File")["$directory?"](l))||z.$raise(ve("IOError"),"target stylesheet directory does not exist: "+l+" (hint: set :mkdirs option)"),K(t)?Je("Stylesheets").$instance().$write_primary_stylesheet(l):K(a)&&(c(F=E.$attr("copycss"),"")||c(F,!0)?F=E.$normalize_system_path(u):F=E.$normalize_system_path(F.$to_s()),A=E.$normalize_system_path(u,l,K(R(E.$safe(),ve(Je("SafeMode"),"SAFE")))?T:ge),ue(F,A)&&K(M=E.$read_asset(F,P(["warn_on_failure","label"],{warn_on_failure:ve("File")["$file?"](A)["$!"](),label:"stylesheet"})))&&(ue(W=ve("File").$dirname(A),l)&&we(ve("File")["$directory?"](W))&&(K(ke)?Je("Helpers").$mkdir_p(W):z.$raise(ve("IOError"),"target stylesheet directory does not exist: "+W+" (hint: set :mkdirs option)")),ve("File").$write(A,M,P(["mode"],{mode:Je("FILE_WRITE_MODE")})))),K(v)&&_.$write_stylesheet(E,l))),E):Y},-2),g(Ue,"$convert_file",function(Ve,rt){var z=this;return rt==null&&(rt=P([],{})),Ke(ve("File"),"open",[Ve,Je("FILE_READ_MODE")],function x(ke){var ee=x.$$s==null?this:x.$$s;return ke==null&&(ke=ge),ee.$convert(ke,rt)},{$$s:z})},-2),oe(Ue,"render","convert"),oe(Ue,"render_file","convert_file")}(e.get_singleton_class(et),Ye)}(Ce[0],Ce)},Opal.modules["asciidoctor/syntax_highlighter/highlightjs"]=function(e){"use strict";var H=e.module,P=e.klass,C=e.slice,K=e.send2,c=e.find_super,R=e.to_a,we=e.def,I=e.hash2,ue=e.send,g=e.truthy,Ke=e.return_val,oe=e.eqeq,Ce=[],ge=e.nil,ve=e.$$$;return e.add_stubs("register_for,merge,proc,[]=,attr,[],==,attr?,join,map,split,lstrip"),function(st,Ae){var et=H(st,"Asciidoctor"),Ye=[et].concat(Ae),Ue=e.$r(Ye);return function(Qe,y,Je){var p=P(Qe,y,"HighlightJsAdapter"),Ve=[p].concat(Je),rt=e.$r(Ve);return p.$register_for("highlightjs","highlight.js"),we(p,"$initialize",function z(x){var ke,ee,ce=z.$$p||ge,ie=this;return z.$$p=null,ke=C(arguments),ee=ke,K(ie,c(ie,"initialize",z,!1,!0),"initialize",R(ee),ce),ie.name=ie.pre_class="highlightjs"},-1),we(p,"$format",function z(x,ke,ee){var ce=z.$$p||ge,ie=this;return z.$$p=null,K(ie,c(ie,"format",z,!1,!0),"format",[x,ke,ee.$merge(I(["transform"],{transform:ue(ie,"proc",[],function(Q,T){var E,w=ge;return Q==null&&(Q=ge),T==null&&(T=ge),E=["class","language-"+(g(w=ke)?w:"none")+" hljs"],ue(T,"[]=",E),E[E.length-1]})}))],null)}),we(p,"$docinfo?",Ke(!0)),we(p,"$docinfo",function(x,ke,ee){var ce=ge;return ce=ke.$attr("highlightjsdir",""+ee["$[]"]("cdn_base_url")+"/highlight.js/"+rt("HIGHLIGHT_JS_VERSION")),oe(x,"head")?'<link rel="stylesheet" href="'+ce+"/styles/"+ke.$attr("highlightjs-theme","github")+'.min.css"'+ee["$[]"]("self_closing_tag_slash")+">":'<script src="'+ce+`/highlight.min.js"><\/script>
`+(g(ke["$attr?"]("highlightjs-languages"))?ue(ke.$attr("highlightjs-languages").$split(","),"map",[],function(j){return j==null&&(j=ge),'<script src="'+ce+"/languages/"+j.$lstrip()+`.min.js"><\/script>
`}).$join():"")+`<script>
if (!hljs.initHighlighting.called) {
  hljs.initHighlighting.called = true
  ;[].slice.call(document.querySelectorAll('pre.highlight > code[data-lang]')).forEach(function (el) { hljs.highlightBlock(el) })
}
<\/script>`})}(Ue("SyntaxHighlighter"),ve(Ue("SyntaxHighlighter"),"Base"),Ye)}(Ce[0],Ce)},Opal.modules["asciidoctor/syntax_highlighter"]=function(e){"use strict";var H=e.module,P=e.hash2,C=e.def,K=e.return_val,c=e.defs,R=e.slice,we=e.send,I=e.to_a,ue=e.truthy,g=e.eqeqeq,Ke=e.Class,oe=e.klass,Ce=e.class_variable_set,ge=e.class_variable_get,ve=e.top,st=[],Ae=e.nil,et=e.$$$;return e.add_stubs("attr_reader,raise,class,extend,private_class_method,register,map,to_s,each,[]=,registry,[],for,===,new,name,private,include,delete,join,content"),function(Ye,Ue){var Qe=H(Ye,"Asciidoctor"),y=[Qe].concat(Ue);return function(Je,p){var Ve=H(Je,"SyntaxHighlighter"),rt=[Ve].concat(p),z=e.$r(rt);return Ve.$attr_reader("name"),C(Ve,"$initialize",function(ke,ee,ce){var ie=this;return ee==null&&(ee="html5"),ce==null&&(ce=P([],{})),ie.name=ie.pre_class=ke},-2),C(Ve,"$docinfo?",K(Ae)),C(Ve,"$docinfo",function(ke,ee,ce){var ie=this;return ie.$raise(et("NotImplementedError"),""+z("SyntaxHighlighter")+" subclass "+ie.$class()+" must implement the #docinfo method since #docinfo? returns true")}),C(Ve,"$highlight?",K(Ae)),C(Ve,"$highlight",function(ke,ee,ce,ie){var j=this;return j.$raise(et("NotImplementedError"),""+z("SyntaxHighlighter")+" subclass "+j.$class()+" must implement the #highlight method since #highlight? returns true")}),C(Ve,"$format",function(ke,ee,ce){var ie=this;return ie.$raise(et("NotImplementedError"),""+z("SyntaxHighlighter")+" subclass "+ie.$class()+" must implement the #format method")}),C(Ve,"$write_stylesheet?",K(Ae)),C(Ve,"$write_stylesheet",function(ke,ee){var ce=this;return ce.$raise(et("NotImplementedError"),""+z("SyntaxHighlighter")+" subclass "+ce.$class()+" must implement the #write_stylesheet method since #write_stylesheet? returns true")}),c(Ve,"$included",function(ke){return ke.$extend(z("Config"))}),Ve.$private_class_method("included"),function(x,ke){var ee=H(x,"Config"),ce=[ee].concat(ke),ie=e.$r(ce);return C(ee,"$register_for",function(Q){var T,E,w=this;return T=R(arguments),E=T,we(ie("SyntaxHighlighter"),"register",[w].concat(I(we(E,"map",[],function(L){return L==null&&(L=Ae),L.$to_s()}))))},-1)}(rt[0],rt),function(x,ke){var ee=H(x,"Factory"),ce=[ee].concat(ke),ie=e.$r(ce);return C(ee,"$register",function(Q,T){var E,w,U=this;return E=R(arguments,1),w=E,we(w,"each",[],function L(Y){var S,u=L.$$s==null?this:L.$$s;return Y==null&&(Y=Ae),S=[Y,Q],we(u.$registry(),"[]=",S),S[S.length-1]},{$$s:U})},-2),C(ee,"$for",function(Q){var T=this;return T.$registry()["$[]"](Q)}),C(ee,"$create",function(Q,T,E){var w=this,U=Ae;return T==null&&(T="html5"),E==null&&(E=P([],{})),ue(U=w.$for(Q))?(g(Ke,U)&&(U=U.$new(Q,T,E)),ue(U.$name())||w.$raise(et("NameError"),""+U.$class()+" must specify a value for `name'"),U):Ae},-2),ee.$private(),C(ee,"$registry",function(){var Q=this;return Q.$raise(et("NotImplementedError"),""+ie("Factory")+" subclass "+Q.$class()+" must implement the #registry method")})}(rt[0],rt),function(x,ke,ee){var ce=oe(x,ke,"CustomFactory"),ie=[ce].concat(ee),j=e.$r(ie);return ce.$include(j("Factory")),C(ce,"$initialize",function(T){var E=this,w=Ae;return T==null&&(T=Ae),E.registry=ue(w=T)?w:P([],{})},-1),ce.$private(),ce.$attr_reader("registry")}(rt[0],null,rt),function(x,ke){var ee=H(x,"DefaultFactory"),ce=[ee].concat(ke),ie=e.$r(ce);return ee.$include(ie("Factory")),Ce(ce[0],"@@registry",P([],{})),ee.$private(),C(ee,"$registry",function(){return ge(ce[0],"@@registry",!1)}),Ae}(rt[0],rt),function(x,ke,ee){var ce=oe(x,ke,"DefaultFactoryProxy"),ie=[ce].concat(ee),j=e.$r(ie);return ce.$include(j("DefaultFactory")),Ae}(rt[0],z("CustomFactory"),rt),function(x,ke,ee){var ce=oe(x,ke,"Base"),ie=[ce].concat(ee),j=e.$r(ie),Q=ce.$$prototype;return Q.pre_class=Ae,ce.$include(j("SyntaxHighlighter")),C(ce,"$format",function(E,w,U){var L=this,Y=Ae,S=Ae,u=Ae,t=Ae;return Y=ue(U["$[]"]("nowrap"))?""+L.pre_class+" highlight nowrap":""+L.pre_class+" highlight",ue(S=U["$[]"]("transform"))?(S["$[]"](u=P(["class"],{class:Y}),t=ue(w)?P(["data-lang"],{"data-lang":w}):P([],{})),ue(w=t.$delete("data-lang"))&&t["$[]="]("data-lang",w),"<pre"+we(u,"map",[],function(v,_){return v==null&&(v=Ae),_==null&&(_=Ae)," "+v+'="'+_+'"'}).$join()+"><code"+we(t,"map",[],function(v,_){return v==null&&(v=Ae),_==null&&(_=Ae)," "+v+'="'+_+'"'}).$join()+">"+E.$content()+"</code></pre>"):'<pre class="'+Y+'"><code'+(ue(w)?' data-lang="'+w+'"':"")+">"+E.$content()+"</code></pre>"})}(rt[0],null,rt),Ve.$extend(z("DefaultFactory"))}(y[0],y)}(st[0],st),ve.$require("asciidoctor/syntax_highlighter.rb/../syntax_highlighter/highlightjs"),Ae},Opal.modules["asciidoctor/timings"]=function(e){"use strict";var H=e.module,P=e.klass,C=e.hash2,K=e.def,c=e.send,R=e.rb_minus,we=e.slice,I=e.rb_plus,ue=e.truthy,g=e.rb_gt,Ke=e.gvars,oe=e.eqeq,Ce=e.const_set,ge=[],ve=e.nil,st=e.$$$;return e.add_stubs("[]=,now,-,delete,reduce,+,[],>,time,puts,sprintf,to_f,read_parse,convert,read_parse_convert,private,==,const_defined?,clock_gettime"),function(Ae,et){var Ye=H(Ae,"Asciidoctor"),Ue=[Ye].concat(et);return function(Qe,y,Je){var p=P(Qe,y,"Timings"),Ve,rt,z,x,ke=[p].concat(Je),ee=e.$r(ke),ce=p.$$prototype;return ce.timers=ce.log=ve,K(p,"$initialize",function(){var j=this;return j.log=C([],{}),j.timers=C([],{})}),K(p,"$start",function(j){var Q,T=this;return Q=[j,T.$now()],c(T.timers,"[]=",Q),Q[Q.length-1]}),K(p,"$record",function(j){var Q,T=this;return Q=[j,R(T.$now(),T.timers.$delete(j))],c(T.log,"[]=",Q),Q[Q.length-1]}),K(p,"$time",function(j){var Q,T,E=this,w=ve;return Q=we(arguments),T=Q,w=c(T,"reduce",[0],function U(L,Y){var S=U.$$s==null?this:U.$$s,u=ve;return S.log==null&&(S.log=ve),L==null&&(L=ve),Y==null&&(Y=ve),I(L,ue(u=S.log["$[]"](Y))?u:0)},{$$s:E}),ue(g(w,0))?w:ve},-1),K(p,"$read",function(){var j=this;return j.$time("read")}),K(p,"$parse",function(){var j=this;return j.$time("parse")}),K(p,"$read_parse",function(){var j=this;return j.$time("read","parse")}),K(p,"$convert",function(){var j=this;return j.$time("convert")}),K(p,"$read_parse_convert",function(){var j=this;return j.$time("read","parse","convert")}),K(p,"$write",function(){var j=this;return j.$time("write")}),K(p,"$total",function(){var j=this;return j.$time("read","parse","convert","write")}),K(p,"$print_report",function(j,Q){var T=this;return Ke.stdout==null&&(Ke.stdout=ve),j==null&&(j=Ke.stdout),Q==null&&(Q=ve),ue(Q)&&j.$puts("Input file: "+Q),j.$puts("  Time to read and parse source: "+T.$sprintf("%05.5f",T.$read_parse().$to_f())),j.$puts("  Time to convert document: "+T.$sprintf("%05.5f",T.$convert().$to_f())),j.$puts("  Total time (read, parse and convert): "+T.$sprintf("%05.5f",T.$read_parse_convert().$to_f()))},-1),p.$private(),ue(st("Process")["$const_defined?"]("CLOCK_MONOTONIC",!1))&&oe((Ve=st("::","Process","skip_raise"))&&(rt=Ve,rt)&&(z=rt)&&((x=z.$clock_gettime)&&!x.$$stub||z["$respond_to_missing?"]("clock_gettime"))?"method":ve,"method")?(Ce(ke[0],"CLOCK_ID",st(st("Process"),"CLOCK_MONOTONIC")),K(p,"$now",function(){return st("Process").$clock_gettime(ee("CLOCK_ID"))})):K(p,"$now",function(){return st("Time").$now()})}(Ue[0],null,Ue)}(ge[0],ge)},Opal.modules["asciidoctor/converter/html5"]=function(e){"use strict";var H=e.module,P=e.klass,C=e.const_set,K=e.hash2,c=e.regexp,R=e.eqeq,we=e.def,I=e.send2,ue=e.find_super,g=e.truthy,Ke=e.send,oe=e.rb_gt,Ce=e.rb_plus,ge=e.not,ve=e.neqeq,st=e.rb_le,Ae=e.rb_lt,et=e.to_ary,Ye=e.rb_times,Ue=e.rb_minus,Qe=e.gvars,y=e.return_val,Je=e.alias,p=e.eqeqeq,Ve=e.slice,rt=e.to_a,z=[],x=e.nil,ke=e.$$$;return e.add_stubs("register_for,default=,==,[],init_backend_traits,node_name,convert_inline_quoted,convert_paragraph,convert_inline_anchor,convert_section,convert_listing,convert_literal,convert_ulist,convert_olist,convert_dlist,convert_admonition,convert_colist,convert_embedded,convert_example,convert_floating_title,convert_image,convert_inline_break,convert_inline_button,convert_inline_callout,convert_inline_footnote,convert_inline_image,convert_inline_indexterm,convert_inline_kbd,convert_inline_menu,convert_open,convert_page_break,convert_preamble,convert_quote,convert_sidebar,convert_stem,convert_table,convert_thematic_break,convert_verse,convert_video,convert_document,convert_toc,convert_pass,convert_audio,empty?,attr,attr?,<<,include?,sub_replacements,gsub,extname,slice,length,doctitle,normalize_web_path,primary_stylesheet_data,instance,read_contents,syntax_highlighter,size,docinfo,id,sections?,doctype,role?,role,join,noheader,convert,converter,generate_manname_section,header?,notitle,title,header,each,authors,>,name,email,sub_macros,+,downcase,concat,content,!,footnotes?,footnotes,index,text,nofooter,docinfo?,[]=,delete_at,inspect,!=,to_i,attributes,document,sections,level,caption,captioned_title,<=,numbered,<,sectname,sectnum,convert_outline,title?,icon_uri,compact,media_uri,option?,append_boolean_attribute,style,items,blocks?,text?,chomp,safe,read_svg_contents,alt,image_uri,encode_attribute_value,append_link_constraint_attrs,highlight?,to_sym,format,*,-,count,end_with?,start_with?,list_marker_keyword,parent,warn,logger,context,error,content_only,new,columns,to_h,rows,colspan,rowspan,unshift,shift,split,pop,nil_or_empty?,type,===,catalog,get_root_document,xreftext,target,reftext,chop,sub,match,private,upcase,nested?,parent_document,handles?,to_s,send"),function(ee,ce){var ie=H(ee,"Asciidoctor"),j=[ie].concat(ce),Q=e.$r(j);return function(T,E,w){var U=P(T,E,"Html5Converter"),L=[U].concat(w),Y=e.$r(L),S=U.$$prototype;return S.void_element_slash=S.xml_mode=S.refs=S.resolving_xref=x,U.$register_for("html5"),C(L[0],"QUOTE_TAGS",K(["monospaced","emphasis","strong","double","single","mark","superscript","subscript","asciimath","latexmath"],{monospaced:["<code>","</code>",!0],emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],double:["&#8220;","&#8221;"],single:["&#8216;","&#8217;"],mark:["<mark>","</mark>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]}))["$default="](["",""]),C(L[0],"DropAnchorRx",/<(?:a\b[^>]*|\/a)>/),C(L[0],"StemBreakRx",/ *\\\n(?:\\?\n)*|\n\n+/),C(L[0],"SvgPreambleRx",c(["^",Y("CC_ALL"),"*?(?=<svg[\\s>])"])),C(L[0],"SvgStartTagRx",/^<svg(?:\s[^>]*)?>/),C(L[0],"DimensionAttributeRx",c([`\\s(?:width|height|style)=(["'])`,Y("CC_ANY"),"*?\\1"])),we(U,"$initialize",function(t,a){var v=this,_=x;return a==null&&(a=K([],{})),v.backend=t,R(a["$[]"]("htmlsyntax"),"xml")?(_="xml",v.xml_mode=!0,v.void_element_slash="/"):(_="html",v.xml_mode=x,v.void_element_slash=""),v.$init_backend_traits(K(["basebackend","filetype","htmlsyntax","outfilesuffix","supports_templates"],{basebackend:"html",filetype:"html",htmlsyntax:_,outfilesuffix:".html",supports_templates:!0}))},-2),we(U,"$convert",function u(t,a,v){var _=u.$$p||x,l=this;switch(u.$$p=null,a==null&&(a=t.$node_name()),v==null&&(v=x),a){case"inline_quoted":return l.$convert_inline_quoted(t);case"paragraph":return l.$convert_paragraph(t);case"inline_anchor":return l.$convert_inline_anchor(t);case"section":return l.$convert_section(t);case"listing":return l.$convert_listing(t);case"literal":return l.$convert_literal(t);case"ulist":return l.$convert_ulist(t);case"olist":return l.$convert_olist(t);case"dlist":return l.$convert_dlist(t);case"admonition":return l.$convert_admonition(t);case"colist":return l.$convert_colist(t);case"embedded":return l.$convert_embedded(t);case"example":return l.$convert_example(t);case"floating_title":return l.$convert_floating_title(t);case"image":return l.$convert_image(t);case"inline_break":return l.$convert_inline_break(t);case"inline_button":return l.$convert_inline_button(t);case"inline_callout":return l.$convert_inline_callout(t);case"inline_footnote":return l.$convert_inline_footnote(t);case"inline_image":return l.$convert_inline_image(t);case"inline_indexterm":return l.$convert_inline_indexterm(t);case"inline_kbd":return l.$convert_inline_kbd(t);case"inline_menu":return l.$convert_inline_menu(t);case"open":return l.$convert_open(t);case"page_break":return l.$convert_page_break(t);case"preamble":return l.$convert_preamble(t);case"quote":return l.$convert_quote(t);case"sidebar":return l.$convert_sidebar(t);case"stem":return l.$convert_stem(t);case"table":return l.$convert_table(t);case"thematic_break":return l.$convert_thematic_break(t);case"verse":return l.$convert_verse(t);case"video":return l.$convert_video(t);case"document":return l.$convert_document(t);case"toc":return l.$convert_toc(t);case"pass":return l.$convert_pass(t);case"audio":return l.$convert_audio(t);default:return I(l,ue(l,"convert",u,!1,!0),"convert",[t,a,v],_)}},-2),we(U,"$convert_document",function(t){var a=this,v=x,_=x,l=x,F=x,A=x,M=x,W=x,ne=x,O=x,He=x,Xe=x,it=x,nt=x,at=x,ct=x,ut=x,_t=x,ft=x,mt=x,yt=x,wt=x,kt=x,Rt=x,zt=x,Tt=x;return v="<br"+(_=a.void_element_slash)+">",g((l=t.$attr("asset-uri-scheme","https"))["$empty?"]())||(l=""+l+":"),F=""+l+"//cdnjs.cloudflare.com/ajax/libs",A=t["$attr?"]("linkcss"),M=g(t["$attr?"]("max-width"))?' style="max-width: '+t.$attr("max-width")+';"':"",W=["<!DOCTYPE html>"],ne=g(t["$attr?"]("nolang"))?"":' lang="'+t.$attr("lang","en")+'"',W["$<<"]("<html"+(g(a.xml_mode)?' xmlns="http://www.w3.org/1999/xhtml"':"")+ne+">"),W["$<<"](`<head>
<meta charset="`+t.$attr("encoding","UTF-8")+'"'+_+`>
<meta http-equiv="X-UA-Compatible" content="IE=edge"`+_+`>
<meta name="viewport" content="width=device-width, initial-scale=1.0"`+_+`>
<meta name="generator" content="Asciidoctor `+t.$attr("asciidoctor-version")+'"'+_+">"),g(t["$attr?"]("app-name"))&&W["$<<"]('<meta name="application-name" content="'+t.$attr("app-name")+'"'+_+">"),g(t["$attr?"]("description"))&&W["$<<"]('<meta name="description" content="'+t.$attr("description")+'"'+_+">"),g(t["$attr?"]("keywords"))&&W["$<<"]('<meta name="keywords" content="'+t.$attr("keywords")+'"'+_+">"),g(t["$attr?"]("authors"))&&W["$<<"]('<meta name="author" content="'+(g((O=t.$sub_replacements(t.$attr("authors")))["$include?"]("<"))?O.$gsub(Y("XmlSanitizeRx"),""):O)+'"'+_+">"),g(t["$attr?"]("copyright"))&&W["$<<"]('<meta name="copyright" content="'+t.$attr("copyright")+'"'+_+">"),g(t["$attr?"]("favicon"))&&(g((He=t.$attr("favicon"))["$empty?"]())?(He="favicon.ico",Xe="image/x-icon"):g(it=Y("Helpers").$extname(He,x))?Xe=R(it,".ico")?"image/x-icon":"image/"+it.$slice(1,it.$length()):Xe="image/x-icon",W["$<<"]('<link rel="icon" type="'+Xe+'" href="'+He+'"'+_+">")),W["$<<"]("<title>"+t.$doctitle(K(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>"),g(Y("DEFAULT_STYLESHEET_KEYS")["$include?"](t.$attr("stylesheet")))?(g(nt=t.$attr("webfonts"))&&W["$<<"]('<link rel="stylesheet" href="'+l+"//fonts.googleapis.com/css?family="+(g(nt["$empty?"]())?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":nt)+'"'+_+">"),g(A)?W["$<<"]('<link rel="stylesheet" href="'+t.$normalize_web_path(Y("DEFAULT_STYLESHEET_NAME"),t.$attr("stylesdir",""),!1)+'"'+_+">"):W["$<<"](`<style>
`+Y("Stylesheets").$instance().$primary_stylesheet_data()+`
</style>`)):g(t["$attr?"]("stylesheet"))&&(g(A)?W["$<<"]('<link rel="stylesheet" href="'+t.$normalize_web_path(t.$attr("stylesheet"),t.$attr("stylesdir",""))+'"'+_+">"):W["$<<"](`<style>
`+t.$read_contents(t.$attr("stylesheet"),K(["start","warn_on_failure","label"],{start:t.$attr("stylesdir"),warn_on_failure:!0,label:"stylesheet"}))+`
</style>`)),g(t["$attr?"]("icons","font"))&&(g(t["$attr?"]("iconfont-remote"))?W["$<<"]('<link rel="stylesheet" href="'+t.$attr("iconfont-cdn",""+F+"/font-awesome/"+Y("FONT_AWESOME_VERSION")+"/css/font-awesome.min.css")+'"'+_+">"):(at=""+t.$attr("iconfont-name","font-awesome")+".css",W["$<<"]('<link rel="stylesheet" href="'+t.$normalize_web_path(at,t.$attr("stylesdir",""),!1)+'"'+_+">"))),g(ct=t.$syntax_highlighter())&&W["$<<"](ut=W.$size()),g((_t=t.$docinfo())["$empty?"]())||W["$<<"](_t),W["$<<"]("</head>"),ft=g(t.$id())?' id="'+t.$id()+'"':"",g(mt=t["$sections?"]())&&g(t["$attr?"]("toc-class"))&&g(t["$attr?"]("toc"))&&g(t["$attr?"]("toc-placement","auto"))?yt=[t.$doctype(),t.$attr("toc-class"),"toc-"+t.$attr("toc-position","header")]:yt=[t.$doctype()],g(t["$role?"]())&&yt["$<<"](t.$role()),W["$<<"]("<body"+ft+' class="'+yt.$join(" ")+'">'),g((_t=t.$docinfo("header"))["$empty?"]())||W["$<<"](_t),g(t.$noheader())||(W["$<<"]('<div id="header"'+M+">"),R(t.$doctype(),"manpage")?(W["$<<"]("<h1>"+t.$doctitle()+" Manual Page</h1>"),g(mt)&&g(t["$attr?"]("toc"))&&g(t["$attr?"]("toc-placement","auto"))&&W["$<<"]('<div id="toc" class="'+t.$attr("toc-class","toc")+`">
<div id="toctitle">`+t.$attr("toc-title")+`</div>
`+t.$converter().$convert(t,"outline")+`
</div>`),g(t["$attr?"]("manpurpose"))&&W["$<<"](a.$generate_manname_section(t))):(g(t["$header?"]())&&(g(t.$notitle())||W["$<<"]("<h1>"+t.$header().$title()+"</h1>"),wt=[],kt=1,Ke(t.$authors(),"each",[],function(At){return At==null&&(At=x),wt["$<<"]('<span id="author'+(g(oe(kt,1))?kt:"")+'" class="author">'+t.$sub_replacements(At.$name())+"</span>"+v),g(At.$email())&&wt["$<<"]('<span id="email'+(g(oe(kt,1))?kt:"")+'" class="email">'+t.$sub_macros(At.$email())+"</span>"+v),kt=Ce(kt,1)}),g(t["$attr?"]("revnumber"))&&wt["$<<"]('<span id="revnumber">'+(g(Rt=t.$attr("version-label"))?Rt:"").$downcase()+" "+t.$attr("revnumber")+(g(t["$attr?"]("revdate"))?",":"")+"</span>"),g(t["$attr?"]("revdate"))&&wt["$<<"]('<span id="revdate">'+t.$attr("revdate")+"</span>"),g(t["$attr?"]("revremark"))&&wt["$<<"](""+v+'<span id="revremark">'+t.$attr("revremark")+"</span>"),g(wt["$empty?"]())||(W["$<<"]('<div class="details">'),W.$concat(wt),W["$<<"]("</div>"))),g(mt)&&g(t["$attr?"]("toc"))&&g(t["$attr?"]("toc-placement","auto"))&&W["$<<"]('<div id="toc" class="'+t.$attr("toc-class","toc")+`">
<div id="toctitle">`+t.$attr("toc-title")+`</div>
`+t.$converter().$convert(t,"outline")+`
</div>`)),W["$<<"]("</div>")),W["$<<"]('<div id="content"'+M+`>
`+t.$content()+`
</div>`),g(t["$footnotes?"]())&&ge(t["$attr?"]("nofootnotes"))&&(W["$<<"]('<div id="footnotes"'+M+`>
<hr`+_+">"),Ke(t.$footnotes(),"each",[],function(At){return At==null&&(At=x),W["$<<"]('<div class="footnote" id="_footnotedef_'+At.$index()+`">
<a href="#_footnoteref_`+At.$index()+'">'+At.$index()+"</a>. "+At.$text()+`
</div>`)}),W["$<<"]("</div>")),g(t.$nofooter())||(W["$<<"]('<div id="footer"'+M+">"),W["$<<"]('<div id="footer-text">'),g(t["$attr?"]("revnumber"))&&W["$<<"](""+t.$attr("version-label")+" "+t.$attr("revnumber")+v),g(t["$attr?"]("last-update-label"))&&ge(t["$attr?"]("reproducible"))&&W["$<<"](""+t.$attr("last-update-label")+" "+t.$attr("docdatetime")),W["$<<"]("</div>"),W["$<<"]("</div>")),g(ct)&&(g(ct["$docinfo?"]("head"))?W["$[]="](ut,ct.$docinfo("head",t,K(["cdn_base_url","linkcss","self_closing_tag_slash"],{cdn_base_url:F,linkcss:A,self_closing_tag_slash:_}))):W.$delete_at(ut),g(ct["$docinfo?"]("footer"))&&W["$<<"](ct.$docinfo("footer",t,K(["cdn_base_url","linkcss","self_closing_tag_slash"],{cdn_base_url:F,linkcss:A,self_closing_tag_slash:_})))),g(t["$attr?"]("stem"))&&(zt=t.$attr("eqnums","none"),g(zt["$empty?"]())&&(zt="AMS"),Tt=' equationNumbers: { autoNumber: "'+zt+'" } ',W["$<<"](`<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [`+Y("INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+`],
    displayMath: [`+Y("BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+`],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [`+Y("BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+`],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: {`+Tt+`}
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains("stemblock")) {
      data.math.root.display = "block"
    }
    return data
  })
})
<\/script>
<script src="`+F+"/mathjax/"+Y("MATHJAX_VERSION")+'/MathJax.js?config=TeX-MML-AM_HTMLorMML"><\/script>')),g((_t=t.$docinfo("footer"))["$empty?"]())||W["$<<"](_t),W["$<<"]("</body>"),W["$<<"]("</html>"),W.$join(Y("LF"))}),we(U,"$convert_embedded",function(t){var a=this,v=x,_=x,l=x;return v=[],R(t.$doctype(),"manpage")?(g(t.$notitle())||(_=g(t.$id())?' id="'+t.$id()+'"':"",v["$<<"]("<h1"+_+">"+t.$doctitle()+" Manual Page</h1>")),g(t["$attr?"]("manpurpose"))&&v["$<<"](a.$generate_manname_section(t))):g(t["$header?"]())&&ge(t.$notitle())&&(_=g(t.$id())?' id="'+t.$id()+'"':"",v["$<<"]("<h1"+_+">"+t.$header().$title()+"</h1>")),g(t["$sections?"]())&&g(t["$attr?"]("toc"))&&ve(l=t.$attr("toc-placement"),"macro")&&ve(l,"preamble")&&v["$<<"](`<div id="toc" class="toc">
<div id="toctitle">`+t.$attr("toc-title")+`</div>
`+t.$converter().$convert(t,"outline")+`
</div>`),v["$<<"](t.$content()),g(t["$footnotes?"]())&&ge(t["$attr?"]("nofootnotes"))&&(v["$<<"](`<div id="footnotes">
<hr`+a.void_element_slash+">"),Ke(t.$footnotes(),"each",[],function(A){return A==null&&(A=x),v["$<<"]('<div class="footnote" id="_footnotedef_'+A.$index()+`">
<a href="#_footnoteref_`+A.$index()+'">'+A.$index()+"</a>. "+A.$text()+`
</div>`)}),v["$<<"]("</div>")),v.$join(Y("LF"))}),we(U,"$convert_outline",function(t,a){var v=this,_=x,l=x,F=x,A=x,M=x,W=x;return a==null&&(a=K([],{})),g(t["$sections?"]())?(_=g(l=a["$[]"]("sectnumlevels"))?l:(g(F=t.$document().$attributes()["$[]"]("sectnumlevels"))?F:3).$to_i(),A=g(l=a["$[]"]("toclevels"))?l:(g(F=t.$document().$attributes()["$[]"]("toclevels"))?F:2).$to_i(),M=t.$sections(),W=['<ul class="sectlevel'+M["$[]"](0).$level()+'">'],Ke(M,"each",[],function ne(O){var He=ne.$$s==null?this:ne.$$s,Xe=x,it=x,nt=x,at=x;if(O==null&&(O=x),Xe=O.$level(),g(O.$caption()))it=O.$captioned_title();else if(g(O.$numbered())&&g(st(Xe,_)))if(g(Ae(Xe,2))&&R(t.$document().$doctype(),"book"))switch(O.$sectname()){case"chapter":it=(g(nt=t.$document().$attributes()["$[]"]("chapter-signifier"))?""+nt+" ":"")+O.$sectnum()+" "+O.$title();break;case"part":it=(g(nt=t.$document().$attributes()["$[]"]("part-signifier"))?""+nt+" ":"")+O.$sectnum(x,":")+" "+O.$title();break;default:it=""+O.$sectnum()+" "+O.$title()}else it=""+O.$sectnum()+" "+O.$title();else it=O.$title();return g(it["$include?"]("<a"))&&(it=it.$gsub(Y("DropAnchorRx"),"")),g(Ae(Xe,A))&&g(at=He.$convert_outline(O,K(["toclevels","sectnumlevels"],{toclevels:A,sectnumlevels:_})))?(W["$<<"]('<li><a href="#'+O.$id()+'">'+it+"</a>"),W["$<<"](at),W["$<<"]("</li>")):W["$<<"]('<li><a href="#'+O.$id()+'">'+it+"</a></li>")},{$$s:v}),W["$<<"]("</ul>"),W.$join(Y("LF"))):x},-2),we(U,"$convert_section",function(t){var a=x,v=x,_=x,l=x,F=x,A=x,M=x,W=x;if(a=t.$document().$attributes(),v=t.$level(),g(t.$caption()))_=t.$captioned_title();else if(g(t.$numbered())&&g(st(v,(g(l=a["$[]"]("sectnumlevels"))?l:3).$to_i())))if(g(Ae(v,2))&&R(t.$document().$doctype(),"book"))switch(t.$sectname()){case"chapter":_=(g(F=a["$[]"]("chapter-signifier"))?""+F+" ":"")+t.$sectnum()+" "+t.$title();break;case"part":_=(g(F=a["$[]"]("part-signifier"))?""+F+" ":"")+t.$sectnum(x,":")+" "+t.$title();break;default:_=""+t.$sectnum()+" "+t.$title()}else _=""+t.$sectnum()+" "+t.$title();else _=t.$title();return g(t.$id())?(A=' id="'+(M=t.$id())+'"',g(a["$[]"]("sectlinks"))&&(_='<a class="link" href="#'+M+'">'+_+"</a>"),g(a["$[]"]("sectanchors"))&&(R(a["$[]"]("sectanchors"),"after")?_=""+_+'<a class="anchor" href="#'+M+'"></a>':_='<a class="anchor" href="#'+M+'"></a>'+_)):A="",R(v,0)?"<h1"+A+' class="sect0'+(g(W=t.$role())?" "+W:"")+'">'+_+`</h1>
`+t.$content():'<div class="sect'+v+(g(W=t.$role())?" "+W:"")+`">
<h`+Ce(v,1)+A+">"+_+"</h"+Ce(v,1)+`>
`+(R(v,1)?`<div class="sectionbody">
`+t.$content()+`
</div>`:t.$content())+`
</div>`}),we(U,"$convert_admonition",function(t){var a=this,v=x,_=x,l=x,F=x,A=x;return v=g(t.$id())?' id="'+t.$id()+'"':"",_=t.$attr("name"),l=g(t["$title?"]())?'<div class="title">'+t.$title()+`</div>
`:"",g(t.$document()["$attr?"]("icons"))?g(t.$document()["$attr?"]("icons","font"))&&ge(t["$attr?"]("icon"))?F='<i class="fa icon-'+_+'" title="'+t.$attr("textlabel")+'"></i>':F='<img src="'+t.$icon_uri(_)+'" alt="'+t.$attr("textlabel")+'"'+a.void_element_slash+">":F='<div class="title">'+t.$attr("textlabel")+"</div>","<div"+v+' class="admonitionblock '+_+(g(A=t.$role())?" "+A:"")+`">
<table>
<tr>
<td class="icon">
`+F+`
</td>
<td class="content">
`+l+t.$content()+`
</td>
</tr>
</table>
</div>`}),we(U,"$convert_audio",function(t){var a=this,v=x,_=x,l=x,F=x,A=x,M=x,W=x,ne=x,O=x;return v=a.xml_mode,_=g(t.$id())?' id="'+t.$id()+'"':"",l=["audioblock",t.$role()].$compact(),F=' class="'+l.$join(" ")+'"',A=g(t["$title?"]())?'<div class="title">'+t.$title()+`</div>
`:"",M=t.$attr("start"),W=t.$attr("end"),ne=g(M)||g(W)?"#t="+(g(O=M)?O:"")+(g(W)?","+W:""):"","<div"+_+F+`>
`+A+`<div class="content">
<audio src="`+t.$media_uri(t.$attr("target"))+ne+'"'+(g(t["$option?"]("autoplay"))?a.$append_boolean_attribute("autoplay",v):"")+(g(t["$option?"]("nocontrols"))?"":a.$append_boolean_attribute("controls",v))+(g(t["$option?"]("loop"))?a.$append_boolean_attribute("loop",v):"")+`>
Your browser does not support the audio tag.
</audio>
</div>
</div>`}),we(U,"$convert_colist",function(t){var a,v=this,_=x,l=x,F=x,A=x,M=x,W=x;return _=[],l=g(t.$id())?' id="'+t.$id()+'"':"",F=["colist",t.$style(),t.$role()].$compact(),A=' class="'+F.$join(" ")+'"',_["$<<"]("<div"+l+A+">"),g(t["$title?"]())&&_["$<<"]('<div class="title">'+t.$title()+"</div>"),g(t.$document()["$attr?"]("icons"))?(_["$<<"]("<table>"),a=[t.$document()["$attr?"]("icons","font"),0],M=a[0],W=a[1],Ke(t.$items(),"each",[],function ne(O){var He=ne.$$s==null?this:ne.$$s,Xe=x;return He.void_element_slash==null&&(He.void_element_slash=x),O==null&&(O=x),W=Ce(W,1),g(M)?Xe='<i class="conum" data-value="'+W+'"></i><b>'+W+"</b>":Xe='<img src="'+t.$icon_uri("callouts/"+W)+'" alt="'+W+'"'+He.void_element_slash+">",_["$<<"](`<tr>
<td>`+Xe+`</td>
<td>`+O.$text()+(g(O["$blocks?"]())?Ce(Y("LF"),O.$content()):"")+`</td>
</tr>`)},{$$s:v}),_["$<<"]("</table>")):(_["$<<"]("<ol>"),Ke(t.$items(),"each",[],function(O){return O==null&&(O=x),_["$<<"](`<li>
<p>`+O.$text()+"</p>"+(g(O["$blocks?"]())?Ce(Y("LF"),O.$content()):"")+`
</li>`)}),_["$<<"]("</ol>")),_["$<<"]("</div>"),_.$join(Y("LF"))}),we(U,"$convert_dlist",function(t){var a=this,v=x,_=x,l=x,F=x,A=x,M=x,W=x;switch(v=[],_=g(t.$id())?' id="'+t.$id()+'"':"",t.$style()){case"qanda":l=["qlist","qanda",t.$role()];break;case"horizontal":l=["hdlist",t.$role()];break;default:l=["dlist",t.$style(),t.$role()]}switch(F=' class="'+l.$compact().$join(" ")+'"',v["$<<"]("<div"+_+F+">"),g(t["$title?"]())&&v["$<<"]('<div class="title">'+t.$title()+"</div>"),t.$style()){case"qanda":v["$<<"]("<ol>"),Ke(t.$items(),"each",[],function(O,He){return O==null&&(O=x),He==null&&(He=x),v["$<<"]("<li>"),Ke(O,"each",[],function(it){return it==null&&(it=x),v["$<<"]("<p><em>"+it.$text()+"</em></p>")}),g(He)&&(g(He["$text?"]())&&v["$<<"]("<p>"+He.$text()+"</p>"),g(He["$blocks?"]())&&v["$<<"](He.$content())),v["$<<"]("</li>")}),v["$<<"]("</ol>");break;case"horizontal":A=a.void_element_slash,v["$<<"]("<table>"),(g(t["$attr?"]("labelwidth"))||g(t["$attr?"]("itemwidth")))&&(v["$<<"]("<colgroup>"),M=g(t["$attr?"]("labelwidth"))?' style="width: '+t.$attr("labelwidth").$chomp("%")+'%;"':"",v["$<<"]("<col"+M+A+">"),M=g(t["$attr?"]("itemwidth"))?' style="width: '+t.$attr("itemwidth").$chomp("%")+'%;"':"",v["$<<"]("<col"+M+A+">"),v["$<<"]("</colgroup>")),Ke(t.$items(),"each",[],function(O,He){var Xe=x;return O==null&&(O=x),He==null&&(He=x),v["$<<"]("<tr>"),v["$<<"]('<td class="hdlist1'+(g(t["$option?"]("strong"))?" strong":"")+'">'),Xe=!0,Ke(O,"each",[],function(nt){return nt==null&&(nt=x),g(Xe)||v["$<<"]("<br"+A+">"),v["$<<"](nt.$text()),Xe=x}),v["$<<"]("</td>"),v["$<<"]('<td class="hdlist2">'),g(He)&&(g(He["$text?"]())&&v["$<<"]("<p>"+He.$text()+"</p>"),g(He["$blocks?"]())&&v["$<<"](He.$content())),v["$<<"]("</td>"),v["$<<"]("</tr>")}),v["$<<"]("</table>");break;default:v["$<<"]("<dl>"),W=g(t.$style())?"":' class="hdlist1"',Ke(t.$items(),"each",[],function(O,He){return O==null&&(O=x),He==null&&(He=x),Ke(O,"each",[],function(it){return it==null&&(it=x),v["$<<"]("<dt"+W+">"+it.$text()+"</dt>")}),g(He)?(v["$<<"]("<dd>"),g(He["$text?"]())&&v["$<<"]("<p>"+He.$text()+"</p>"),g(He["$blocks?"]())&&v["$<<"](He.$content()),v["$<<"]("</dd>")):x}),v["$<<"]("</dl>")}return v["$<<"]("</div>"),v.$join(Y("LF"))}),we(U,"$convert_example",function(t){var a=x,v=x,_=x,l=x,F=x;return a=g(t.$id())?' id="'+t.$id()+'"':"",g(t["$option?"]("collapsible"))?(v=g(t.$role())?' class="'+t.$role()+'"':"",_=g(t["$title?"]())?'<summary class="title">'+t.$title()+"</summary>":'<summary class="title">Details</summary>',"<details"+a+v+(g(t["$option?"]("open"))?" open":"")+`>
`+_+`
<div class="content">
`+t.$content()+`
</div>
</details>`):(l=g(t["$title?"]())?'<div class="title">'+t.$captioned_title()+`</div>
`:"","<div"+a+' class="exampleblock'+(g(F=t.$role())?" "+F:"")+`">
`+l+`<div class="content">
`+t.$content()+`
</div>
</div>`)}),we(U,"$convert_floating_title",function(t){var a=x,v=x,_=x;return a="h"+Ce(t.$level(),1),v=g(t.$id())?' id="'+t.$id()+'"':"",_=[t.$style(),t.$role()].$compact(),"<"+a+v+' class="'+_.$join(" ")+'">'+t.$title()+"</"+a+">"}),we(U,"$convert_image",function(t){var a=this,v=x,_=x,l=x,F=x,A=x,M=x,W=x,ne=x,O=x,He=x;return v=t.$attr("target"),_=g(t["$attr?"]("width"))?' width="'+t.$attr("width")+'"':"",l=g(t["$attr?"]("height"))?' height="'+t.$attr("height")+'"':"",(g(t["$attr?"]("format","svg"))||g(v["$include?"](".svg")))&&g(Ae(t.$document().$safe(),ke(Y("SafeMode"),"SECURE")))?g(t["$option?"]("inline"))?F=g(A=a.$read_svg_contents(t,v))?A:'<span class="alt">'+t.$alt()+"</span>":g(t["$option?"]("interactive"))?(M=g(t["$attr?"]("fallback"))?'<img src="'+t.$image_uri(t.$attr("fallback"))+'" alt="'+a.$encode_attribute_value(t.$alt())+'"'+_+l+a.void_element_slash+">":'<span class="alt">'+t.$alt()+"</span>",F='<object type="image/svg+xml" data="'+t.$image_uri(v)+'"'+_+l+">"+M+"</object>"):F='<img src="'+t.$image_uri(v)+'" alt="'+a.$encode_attribute_value(t.$alt())+'"'+_+l+a.void_element_slash+">":F='<img src="'+t.$image_uri(v)+'" alt="'+a.$encode_attribute_value(t.$alt())+'"'+_+l+a.void_element_slash+">",g(t["$attr?"]("link"))&&(F='<a class="image" href="'+t.$attr("link")+'"'+a.$append_link_constraint_attrs(t).$join()+">"+F+"</a>"),W=g(t.$id())?' id="'+t.$id()+'"':"",ne=["imageblock"],g(t["$attr?"]("float"))&&ne["$<<"](t.$attr("float")),g(t["$attr?"]("align"))&&ne["$<<"]("text-"+t.$attr("align")),g(t.$role())&&ne["$<<"](t.$role()),O=' class="'+ne.$join(" ")+'"',He=g(t["$title?"]())?`
<div class="title">`+t.$captioned_title()+"</div>":"","<div"+W+O+`>
<div class="content">
`+F+`
</div>`+He+`
</div>`}),we(U,"$convert_listing",function(t){var a=x,v=x,_=x,l=x,F=x,A=x,M=x,W=x,ne=x,O=x,He=x;return a=g(v=t["$option?"]("nowrap"))?v:t.$document()["$attr?"]("prewrap")["$!"](),R(t.$style(),"source")?(_=t.$attr("language"),g(l=t.$document().$syntax_highlighter())?(F=g(l["$highlight?"]())?K(["css_mode","style"],{css_mode:(g(v=(A=t.$document().$attributes())["$[]"](""+l.$name()+"-css"))?v:"class").$to_sym(),style:A["$[]"](""+l.$name()+"-style")}):K([],{}),F["$[]="]("nowrap",a)):(M='<pre class="highlight'+(g(a)?" nowrap":"")+'"><code'+(g(_)?' class="language-'+_+'" data-lang="'+_+'"':"")+">",W="</code></pre>")):(M="<pre"+(g(a)?' class="nowrap"':"")+">",W="</pre>"),ne=g(t.$id())?' id="'+t.$id()+'"':"",O=g(t["$title?"]())?'<div class="title">'+t.$captioned_title()+`</div>
`:"","<div"+ne+' class="listingblock'+(g(He=t.$role())?" "+He:"")+`">
`+O+`<div class="content">
`+(g(l)?l.$format(t,_,F):Ce(Ce(M,t.$content()),W))+`
</div>
</div>`}),we(U,"$convert_literal",function(t){var a=x,v=x,_=x,l=x,F=x;return a=g(t.$id())?' id="'+t.$id()+'"':"",v=g(t["$title?"]())?'<div class="title">'+t.$title()+`</div>
`:"",_=g(l=t.$document()["$attr?"]("prewrap")["$!"]())?l:t["$option?"]("nowrap"),"<div"+a+' class="literalblock'+(g(F=t.$role())?" "+F:"")+`">
`+v+`<div class="content">
<pre`+(g(_)?' class="nowrap"':"")+">"+t.$content()+`</pre>
</div>
</div>`}),we(U,"$convert_stem",function(t){var a,v,_=this,l=x,F=x,A=x,M=x,W=x,ne=x,O=x,He=x;return l=g(t.$id())?' id="'+t.$id()+'"':"",F=g(t["$title?"]())?'<div class="title">'+t.$title()+`</div>
`:"",v=Y("BLOCK_MATH_DELIMITERS")["$[]"](A=t.$style().$to_sym()),a=et(v),M=a[0]==null?x:a[0],W=a[1]==null?x:a[1],g(ne=t.$content())?(R(A,"asciimath")&&g(ne["$include?"](Y("LF")))&&(O=""+Y("LF")+"<br"+_.void_element_slash+">",ne=Ke(ne,"gsub",[Y("StemBreakRx")],function(){var it;return""+W+Ye(O,Ue(((it=Qe["~"])===x?x:it["$[]"](0)).$count(Y("LF")),1))+Y("LF")+M})),g(ne["$start_with?"](M))&&g(ne["$end_with?"](W))||(ne=""+M+ne+W)):ne="","<div"+l+' class="stemblock'+(g(He=t.$role())?" "+He:"")+`">
`+F+`<div class="content">
`+ne+`
</div>
</div>`}),we(U,"$convert_olist",function(t){var a=this,v=x,_=x,l=x,F=x,A=x,M=x,W=x,ne=x;return v=[],_=g(t.$id())?' id="'+t.$id()+'"':"",l=["olist",t.$style(),t.$role()].$compact(),F=' class="'+l.$join(" ")+'"',v["$<<"]("<div"+_+F+">"),g(t["$title?"]())&&v["$<<"]('<div class="title">'+t.$title()+"</div>"),A=g(M=t.$list_marker_keyword())?' type="'+M+'"':"",W=g(t["$attr?"]("start"))?' start="'+t.$attr("start")+'"':"",ne=g(t["$option?"]("reversed"))?a.$append_boolean_attribute("reversed",a.xml_mode):"",v["$<<"]('<ol class="'+t.$style()+'"'+A+W+ne+">"),Ke(t.$items(),"each",[],function(He){return He==null&&(He=x),g(He.$id())?v["$<<"]('<li id="'+He.$id()+'"'+(g(He.$role())?' class="'+He.$role()+'"':"")+">"):g(He.$role())?v["$<<"]('<li class="'+He.$role()+'">'):v["$<<"]("<li>"),v["$<<"]("<p>"+He.$text()+"</p>"),g(He["$blocks?"]())&&v["$<<"](He.$content()),v["$<<"]("</li>")}),v["$<<"]("</ol>"),v["$<<"]("</div>"),v.$join(Y("LF"))}),we(U,"$convert_open",function(t){var a=this,v=x,_=x,l=x,F=x;return R(v=t.$style(),"abstract")?R(t.$parent(),t.$document())&&R(t.$document().$doctype(),"book")?(a.$logger().$warn("abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),""):(_=g(t.$id())?' id="'+t.$id()+'"':"",l=g(t["$title?"]())?'<div class="title">'+t.$title()+`</div>
`:"","<div"+_+' class="quoteblock abstract'+(g(F=t.$role())?" "+F:"")+`">
`+l+`<blockquote>
`+t.$content()+`
</blockquote>
</div>`):R(v,"partintro")&&(g(oe(t.$level(),0))||ve(t.$parent().$context(),"section")||ve(t.$document().$doctype(),"book"))?(a.$logger().$error("partintro block can only be used when doctype is book and must be a child of a book part. Excluding block content."),""):(_=g(t.$id())?' id="'+t.$id()+'"':"",l=g(t["$title?"]())?'<div class="title">'+t.$title()+`</div>
`:"","<div"+_+' class="openblock'+(g(v)&&ve(v,"open")?" "+v:"")+(g(F=t.$role())?" "+F:"")+`">
`+l+`<div class="content">
`+t.$content()+`
</div>
</div>`)}),we(U,"$convert_page_break",y('<div style="page-break-after: always;"></div>')),we(U,"$convert_paragraph",function(t){var a=x;return g(t.$role())?a=(g(t.$id())?' id="'+t.$id()+'"':"")+' class="paragraph '+t.$role()+'"':g(t.$id())?a=' id="'+t.$id()+'" class="paragraph"':a=' class="paragraph"',g(t["$title?"]())?"<div"+a+`>
<div class="title">`+t.$title()+`</div>
<p>`+t.$content()+`</p>
</div>`:"<div"+a+`>
<p>`+t.$content()+`</p>
</div>`}),Je(U,"convert_pass","content_only"),we(U,"$convert_preamble",function(t){var a=x,v=x;return g((a=t.$document())["$attr?"]("toc-placement","preamble"))&&g(a["$sections?"]())&&g(a["$attr?"]("toc"))?v=`
<div id="toc" class="`+a.$attr("toc-class","toc")+`">
<div id="toctitle">`+a.$attr("toc-title")+`</div>
`+a.$converter().$convert(a,"outline")+`
</div>`:v="",`<div id="preamble">
<div class="sectionbody">
`+t.$content()+`
</div>`+v+`
</div>`}),we(U,"$convert_quote",function(t){var a=this,v=x,_=x,l=x,F=x,A=x,M=x,W=x,ne=x,O=x;return v=g(t.$id())?' id="'+t.$id()+'"':"",_=["quoteblock",t.$role()].$compact(),l=' class="'+_.$join(" ")+'"',F=g(t["$title?"]())?`
<div class="title">`+t.$title()+"</div>":"",A=g(t["$attr?"]("attribution"))?t.$attr("attribution"):x,M=g(t["$attr?"]("citetitle"))?t.$attr("citetitle"):x,g(A)||g(M)?(W=g(M)?"<cite>"+M+"</cite>":"",ne=g(A)?"&#8212; "+A+(g(M)?"<br"+a.void_element_slash+`>
`:""):"",O=`
<div class="attribution">
`+ne+W+`
</div>`):O="","<div"+v+l+">"+F+`
<blockquote>
`+t.$content()+`
</blockquote>`+O+`
</div>`}),we(U,"$convert_thematic_break",function(t){var a=this;return"<hr"+a.void_element_slash+">"}),we(U,"$convert_sidebar",function(t){var a=x,v=x,_=x;return a=g(t.$id())?' id="'+t.$id()+'"':"",v=g(t["$title?"]())?'<div class="title">'+t.$title()+`</div>
`:"","<div"+a+' class="sidebarblock'+(g(_=t.$role())?" "+_:"")+`">
<div class="content">
`+v+t.$content()+`
</div>
</div>`}),we(U,"$convert_table",function(t){var a=this,v=x,_=x,l=x,F=x,A=x,M=x,W=x,ne=x,O=x,He=x,Xe=x;return v=[],_=g(t.$id())?' id="'+t.$id()+'"':"",R(l=t.$attr("frame","all","table-frame"),"topbot")&&(l="ends"),F=["tableblock","frame-"+l,"grid-"+t.$attr("grid","all","table-grid")],g(A=t.$attr("stripes",x,"table-stripes"))&&F["$<<"]("stripes-"+A),M="",g(W=t["$option?"]("autowidth"))&&ge(t["$attr?"]("width"))?F["$<<"]("fit-content"):R(ne=t.$attr("tablepcwidth"),100)?F["$<<"]("stretch"):M=' style="width: '+ne+'%;"',g(t["$attr?"]("float"))&&F["$<<"](t.$attr("float")),g(O=t.$role())&&F["$<<"](O),He=' class="'+F.$join(" ")+'"',v["$<<"]("<table"+_+He+M+">"),g(t["$title?"]())&&v["$<<"]('<caption class="title">'+t.$captioned_title()+"</caption>"),g(oe(t.$attr("rowcount"),0))&&(Xe=a.void_element_slash,v["$<<"]("<colgroup>"),g(W)?v=Ce(v,Y("Array").$new(t.$columns().$size(),"<col"+Xe+">")):Ke(t.$columns(),"each",[],function(nt){return nt==null&&(nt=x),v["$<<"](g(nt["$option?"]("autowidth"))?"<col"+Xe+">":'<col style="width: '+nt.$attr("colpcwidth")+'%;"'+Xe+">")}),v["$<<"]("</colgroup>"),Ke(t.$rows().$to_h(),"each",[],function(nt,at){return nt==null&&(nt=x),at==null&&(at=x),g(at["$empty?"]())?x:(v["$<<"]("<t"+nt+">"),Ke(at,"each",[],function(ut){return ut==null&&(ut=x),v["$<<"]("<tr>"),Ke(ut,"each",[],function(ft){var mt=x,yt=x,wt=x,kt=x,Rt=x,zt=x;if(ft==null&&(ft=x),R(nt,"head"))mt=ft.$text();else switch(ft.$style()){case"asciidoc":mt='<div class="content">'+ft.$content()+"</div>";break;case"literal":mt='<div class="literal"><pre>'+ft.$text()+"</pre></div>";break;default:mt=g((mt=ft.$content())["$empty?"]())?"":'<p class="tableblock">'+mt.$join(`</p>
<p class="tableblock">`)+"</p>"}return yt=R(nt,"head")||R(ft.$style(),"header")?"th":"td",wt=' class="tableblock halign-'+ft.$attr("halign")+" valign-"+ft.$attr("valign")+'"',kt=g(ft.$colspan())?' colspan="'+ft.$colspan()+'"':"",Rt=g(ft.$rowspan())?' rowspan="'+ft.$rowspan()+'"':"",zt=g(t.$document()["$attr?"]("cellbgcolor"))?' style="background-color: '+t.$document().$attr("cellbgcolor")+';"':"",v["$<<"]("<"+yt+wt+kt+Rt+zt+">"+mt+"</"+yt+">")}),v["$<<"]("</tr>")}),v["$<<"]("</t"+nt+">"))})),v["$<<"]("</table>"),v.$join(Y("LF"))}),we(U,"$convert_toc",function(t){var a=x,v=x,_=x,l=x,F=x,A=x;return g((a=t.$document())["$attr?"]("toc-placement","macro"))&&g(a["$sections?"]())&&g(a["$attr?"]("toc"))?(g(t.$id())?(v=' id="'+t.$id()+'"',_=' id="'+t.$id()+'title"'):(v=' id="toc"',_=' id="toctitle"'),l=g(t["$title?"]())?t.$title():a.$attr("toc-title"),F=g(t["$attr?"]("levels"))?t.$attr("levels").$to_i():x,A=g(t["$role?"]())?t.$role():a.$attr("toc-class","toc"),"<div"+v+' class="'+A+`">
<div`+_+' class="title">'+l+`</div>
`+a.$converter().$convert(a,"outline",K(["toclevels"],{toclevels:F}))+`
</div>`):"<!-- toc disabled -->"}),we(U,"$convert_ulist",function(t){var a=this,v=x,_=x,l=x,F=x,A=x,M=x,W=x;return v=[],_=g(t.$id())?' id="'+t.$id()+'"':"",l=["ulist",t.$style(),t.$role()].$compact(),F=A="",g(M=t["$option?"]("checklist"))?(l.$unshift(l.$shift(),"checklist"),W=' class="checklist"',g(t["$option?"]("interactive"))?g(a.xml_mode)?(F='<input type="checkbox" data-item-complete="1" checked="checked"/> ',A='<input type="checkbox" data-item-complete="0"/> '):(F='<input type="checkbox" data-item-complete="1" checked> ',A='<input type="checkbox" data-item-complete="0"> '):g(t.$document()["$attr?"]("icons","font"))?(F='<i class="fa fa-check-square-o"></i> ',A='<i class="fa fa-square-o"></i> '):(F="&#10003; ",A="&#10063; ")):W=g(t.$style())?' class="'+t.$style()+'"':"",v["$<<"]("<div"+_+' class="'+l.$join(" ")+'">'),g(t["$title?"]())&&v["$<<"]('<div class="title">'+t.$title()+"</div>"),v["$<<"]("<ul"+W+">"),Ke(t.$items(),"each",[],function(O){return O==null&&(O=x),g(O.$id())?v["$<<"]('<li id="'+O.$id()+'"'+(g(O.$role())?' class="'+O.$role()+'"':"")+">"):g(O.$role())?v["$<<"]('<li class="'+O.$role()+'">'):v["$<<"]("<li>"),g(M)&&g(O["$attr?"]("checkbox"))?v["$<<"]("<p>"+(g(O["$attr?"]("checked"))?F:A)+O.$text()+"</p>"):v["$<<"]("<p>"+O.$text()+"</p>"),g(O["$blocks?"]())&&v["$<<"](O.$content()),v["$<<"]("</li>")}),v["$<<"]("</ul>"),v["$<<"]("</div>"),v.$join(Y("LF"))}),we(U,"$convert_verse",function(t){var a=this,v=x,_=x,l=x,F=x,A=x,M=x,W=x,ne=x,O=x;return v=g(t.$id())?' id="'+t.$id()+'"':"",_=["verseblock",t.$role()].$compact(),l=' class="'+_.$join(" ")+'"',F=g(t["$title?"]())?`
<div class="title">`+t.$title()+"</div>":"",A=g(t["$attr?"]("attribution"))?t.$attr("attribution"):x,M=g(t["$attr?"]("citetitle"))?t.$attr("citetitle"):x,g(A)||g(M)?(W=g(M)?"<cite>"+M+"</cite>":"",ne=g(A)?"&#8212; "+A+(g(M)?"<br"+a.void_element_slash+`>
`:""):"",O=`
<div class="attribution">
`+ne+W+`
</div>`):O="","<div"+v+l+">"+F+`
<pre class="content">`+t.$content()+"</pre>"+O+`
</div>`}),we(U,"$convert_video",function(t){var a,v,_=this,l=x,F=x,A=x,M=x,W=x,ne=x,O=x,He=x,Xe=x,it=x,nt=x,at=x,ct=x,ut=x,_t=x,ft=x,mt=x,yt=x,wt=x,kt=x,Rt=x,zt=x,Tt=x,St=x,At=x,qt=x,Bt=x,It=x,xt=x,Ct=x,Ft=x,Et=x,Pt=x,Lt=x,Dt=x,Nt=x,Ht=x;switch(l=_.xml_mode,F=g(t.$id())?' id="'+t.$id()+'"':"",A=["videoblock"],g(t["$attr?"]("float"))&&A["$<<"](t.$attr("float")),g(t["$attr?"]("align"))&&A["$<<"]("text-"+t.$attr("align")),g(t.$role())&&A["$<<"](t.$role()),M=' class="'+A.$join(" ")+'"',W=g(t["$title?"]())?`
<div class="title">`+t.$title()+"</div>":"",ne=g(t["$attr?"]("width"))?' width="'+t.$attr("width")+'"':"",O=g(t["$attr?"]("height"))?' height="'+t.$attr("height")+'"':"",t.$attr("poster")){case"vimeo":return g((He=t.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(He=""+He+":"),Xe=g(t["$attr?"]("start"))?"#at="+t.$attr("start"):"",it=["?"],v=t.$attr("target").$split("/",2),a=et(v),nt=a[0]==null?x:a[0],at=a[1]==null?x:a[1],ct=g(at=g(ut=at)?ut:t.$attr("hash"))?""+(g(ut=it.$pop())?ut:"&amp;")+"h="+at:"",_t=g(t["$option?"]("autoplay"))?""+(g(ut=it.$pop())?ut:"&amp;")+"autoplay=1":"",ft=g(t["$option?"]("loop"))?""+(g(ut=it.$pop())?ut:"&amp;")+"loop=1":"",mt=g(t["$option?"]("muted"))?""+(g(ut=it.$pop())?ut:"&amp;")+"muted=1":"","<div"+F+M+">"+W+`
<div class="content">
<iframe`+ne+O+' src="'+He+"//player.vimeo.com/video/"+nt+ct+_t+ft+mt+Xe+'" frameborder="0"'+(g(t["$option?"]("nofullscreen"))?"":_.$append_boolean_attribute("allowfullscreen",l))+`></iframe>
</div>
</div>`;case"youtube":return g((He=t.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(He=""+He+":"),yt=g(t["$option?"]("related"))?1:0,wt=g(t["$attr?"]("start"))?"&amp;start="+t.$attr("start"):"",kt=g(t["$attr?"]("end"))?"&amp;end="+t.$attr("end"):"",_t=g(t["$option?"]("autoplay"))?"&amp;autoplay=1":"",ft=g(Rt=t["$option?"]("loop"))?"&amp;loop=1":"",zt=g(t["$option?"]("muted"))?"&amp;mute=1":"",Tt=g(t["$option?"]("nocontrols"))?"&amp;controls=0":"",g(t["$option?"]("nofullscreen"))?(St="&amp;fs=0",At=""):(St="",At=_.$append_boolean_attribute("allowfullscreen",l)),qt=g(t["$option?"]("modest"))?"&amp;modestbranding=1":"",Bt=g(t["$attr?"]("theme"))?"&amp;theme="+t.$attr("theme"):"",It=g(t["$attr?"]("lang"))?"&amp;hl="+t.$attr("lang"):"",v=t.$attr("target").$split("/",2),a=et(v),nt=a[0]==null?x:a[0],xt=a[1]==null?x:a[1],g(xt=g(ut=xt)?ut:t.$attr("list"))?Ct="&amp;list="+xt:(v=nt.$split(",",2),a=et(v),nt=a[0]==null?x:a[0],Ft=a[1]==null?x:a[1],g(Ft=g(ut=Ft)?ut:t.$attr("playlist"))?Ct="&amp;playlist="+nt+","+Ft:Ct=g(Rt)?"&amp;playlist="+nt:""),"<div"+F+M+">"+W+`
<div class="content">
<iframe`+ne+O+' src="'+He+"//www.youtube.com/embed/"+nt+"?rel="+yt+wt+kt+_t+ft+zt+Tt+Ct+St+qt+Bt+It+'" frameborder="0"'+At+`></iframe>
</div>
</div>`;default:return Et=g((Pt=t.$attr("poster"))["$nil_or_empty?"]())?"":' poster="'+t.$media_uri(Pt)+'"',Lt=g((Pt=t.$attr("preload"))["$nil_or_empty?"]())?"":' preload="'+Pt+'"',Dt=t.$attr("start"),Nt=t.$attr("end"),Ht=g(Dt)||g(Nt)?"#t="+(g(ut=Dt)?ut:"")+(g(Nt)?","+Nt:""):"","<div"+F+M+">"+W+`
<div class="content">
<video src="`+t.$media_uri(t.$attr("target"))+Ht+'"'+ne+O+Et+(g(t["$option?"]("autoplay"))?_.$append_boolean_attribute("autoplay",l):"")+(g(t["$option?"]("muted"))?_.$append_boolean_attribute("muted",l):"")+(g(t["$option?"]("nocontrols"))?"":_.$append_boolean_attribute("controls",l))+(g(t["$option?"]("loop"))?_.$append_boolean_attribute("loop",l):"")+Lt+`>
Your browser does not support the video tag.
</video>
</div>
</div>`}}),we(U,"$convert_inline_anchor",function(t){var a=this,v=x,_=x,l=x,F=x,A=x,M=x,W=x,ne=x,O=x;switch(t.$type()){case"xref":return g(v=t.$attributes()["$[]"]("path"))?(_=a.$append_link_constraint_attrs(t,g(t.$role())?[' class="'+t.$role()+'"']:[]).$join(),l=g(F=t.$text())?F:v):(_=g(t.$role())?' class="'+t.$role()+'"':"",g(l=t.$text())||(p(Y("AbstractNode"),A=g(F=(a.refs=g(M=a.refs)?M:t.$document().$catalog()["$[]"]("refs"))["$[]"](W=t.$attributes()["$[]"]("refid")))?F:g(W["$nil_or_empty?"]())?ne=a.$get_root_document(t):x)?g(a.resolving_xref=g(F=a.resolving_xref)?F:O=!0)&&g(O)?(g(l=A.$xreftext(t.$attr("xrefstyle",x,!0)))?g(l["$include?"]("<a"))&&(l=l.$gsub(Y("DropAnchorRx"),"")):l=g(ne)?"[^top]":"["+W+"]",a.resolving_xref=x):l=g(ne)?"[^top]":"["+W+"]":l="["+W+"]")),'<a href="'+t.$target()+'"'+_+">"+l+"</a>";case"ref":return'<a id="'+t.$id()+'"></a>';case"link":return _=g(t.$id())?[' id="'+t.$id()+'"']:[],g(t.$role())&&_["$<<"](' class="'+t.$role()+'"'),g(t["$attr?"]("title"))&&_["$<<"](' title="'+t.$attr("title")+'"'),'<a href="'+t.$target()+'"'+a.$append_link_constraint_attrs(t,_).$join()+">"+t.$text()+"</a>";case"bibref":return'<a id="'+t.$id()+'"></a>['+(g(F=t.$reftext())?F:t.$id())+"]";default:return a.$logger().$warn("unknown anchor type: "+t.$type().$inspect()),x}}),we(U,"$convert_inline_break",function(t){var a=this;return""+t.$text()+"<br"+a.void_element_slash+">"}),we(U,"$convert_inline_button",function(t){return'<b class="button">'+t.$text()+"</b>"}),we(U,"$convert_inline_callout",function(t){var a=this,v=x,_=x;return g(t.$document()["$attr?"]("icons","font"))?'<i class="conum" data-value="'+t.$text()+'"></i><b>('+t.$text()+")</b>":g(t.$document()["$attr?"]("icons"))?(v=t.$icon_uri("callouts/"+t.$text()),'<img src="'+v+'" alt="'+t.$text()+'"'+a.void_element_slash+">"):p(ke("Array"),_=t.$attributes()["$[]"]("guard"))?'&lt;!--<b class="conum">('+t.$text()+")</b>--&gt;":""+_+'<b class="conum">('+t.$text()+")</b>"}),we(U,"$convert_inline_footnote",function(t){var a=x,v=x;return g(a=t.$attr("index"))?R(t.$type(),"xref")?'<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_'+a+'" title="View footnote.">'+a+"</a>]</sup>":(v=g(t.$id())?' id="_footnote_'+t.$id()+'"':"",'<sup class="footnote"'+v+'>[<a id="_footnoteref_'+a+'" class="footnote" href="#_footnotedef_'+a+'" title="View footnote.">'+a+"</a>]</sup>"):R(t.$type(),"xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+t.$text()+"]</sup>":x}),we(U,"$convert_inline_image",function(t){var a=this,v=x,_=x,l=x,F=x,A=x,M=x,W=x,ne=x,O=x,He=x;return v=t.$target(),R(_=g(l=t.$type())?l:"image","icon")?R(F=t.$document().$attr("icons"),"font")?(A="fa fa-"+v,g(t["$attr?"]("size"))&&(A=""+A+" fa-"+t.$attr("size")),g(t["$attr?"]("flip"))?A=""+A+" fa-flip-"+t.$attr("flip"):g(t["$attr?"]("rotate"))&&(A=""+A+" fa-rotate-"+t.$attr("rotate")),M=g(t["$attr?"]("title"))?' title="'+t.$attr("title")+'"':"",W='<i class="'+A+'"'+M+"></i>"):g(F)?(M=g(t["$attr?"]("width"))?' width="'+t.$attr("width")+'"':"",g(t["$attr?"]("height"))&&(M=""+M+' height="'+t.$attr("height")+'"'),g(t["$attr?"]("title"))&&(M=""+M+' title="'+t.$attr("title")+'"'),W='<img src="'+t.$icon_uri(v)+'" alt="'+a.$encode_attribute_value(t.$alt())+'"'+M+a.void_element_slash+">"):W="["+t.$alt()+"&#93;":(M=g(t["$attr?"]("width"))?' width="'+t.$attr("width")+'"':"",g(t["$attr?"]("height"))&&(M=""+M+' height="'+t.$attr("height")+'"'),g(t["$attr?"]("title"))&&(M=""+M+' title="'+t.$attr("title")+'"'),(g(t["$attr?"]("format","svg"))||g(v["$include?"](".svg")))&&g(Ae(t.$document().$safe(),ke(Y("SafeMode"),"SECURE")))?g(t["$option?"]("inline"))?W=g(l=a.$read_svg_contents(t,v))?l:'<span class="alt">'+t.$alt()+"</span>":g(t["$option?"]("interactive"))?(ne=g(t["$attr?"]("fallback"))?'<img src="'+t.$image_uri(t.$attr("fallback"))+'" alt="'+a.$encode_attribute_value(t.$alt())+'"'+M+a.void_element_slash+">":'<span class="alt">'+t.$alt()+"</span>",W='<object type="image/svg+xml" data="'+t.$image_uri(v)+'"'+M+">"+ne+"</object>"):W='<img src="'+t.$image_uri(v)+'" alt="'+a.$encode_attribute_value(t.$alt())+'"'+M+a.void_element_slash+">":W='<img src="'+t.$image_uri(v)+'" alt="'+a.$encode_attribute_value(t.$alt())+'"'+M+a.void_element_slash+">"),g(t["$attr?"]("link"))&&(W='<a class="image" href="'+t.$attr("link")+'"'+a.$append_link_constraint_attrs(t).$join()+">"+W+"</a>"),O=_,g(He=t.$role())?O=g(t["$attr?"]("float"))?""+O+" "+t.$attr("float")+" "+He:""+O+" "+He:g(t["$attr?"]("float"))&&(O=""+O+" "+t.$attr("float")),'<span class="'+O+'">'+W+"</span>"}),we(U,"$convert_inline_indexterm",function(t){return R(t.$type(),"visible")?t.$text():""}),we(U,"$convert_inline_kbd",function(t){var a=x;return R((a=t.$attr("keys")).$size(),1)?"<kbd>"+a["$[]"](0)+"</kbd>":'<span class="keyseq"><kbd>'+a.$join("</kbd>+<kbd>")+"</kbd></span>"}),we(U,"$convert_inline_menu",function(t){var a=x,v=x,_=x,l=x,F=x;return a=g(t.$document()["$attr?"]("icons","font"))?'&#160;<i class="fa fa-angle-right caret"></i> ':'&#160;<b class="caret">&#8250;</b> ',v="</b>"+a+'<b class="submenu">',_=t.$attr("menu"),g((l=t.$attr("submenus"))["$empty?"]())?g(F=t.$attr("menuitem"))?'<span class="menuseq"><b class="menu">'+_+"</b>"+a+'<b class="menuitem">'+F+"</b></span>":'<b class="menuref">'+_+"</b>":'<span class="menuseq"><b class="menu">'+_+"</b>"+a+'<b class="submenu">'+l.$join(v)+"</b>"+a+'<b class="menuitem">'+t.$attr("menuitem")+"</b></span>"}),we(U,"$convert_inline_quoted",function(t){var a,v,_=x,l=x,F=x,A=x;return v=Y("QUOTE_TAGS")["$[]"](t.$type()),a=et(v),_=a[0]==null?x:a[0],l=a[1]==null?x:a[1],F=a[2]==null?x:a[2],g(t.$id())?(A=g(t.$role())?' class="'+t.$role()+'"':"",g(F)?""+_.$chop()+' id="'+t.$id()+'"'+A+">"+t.$text()+l:'<span id="'+t.$id()+'"'+A+">"+_+t.$text()+l+"</span>"):g(t.$role())?g(F)?""+_.$chop()+' class="'+t.$role()+'">'+t.$text()+l:'<span class="'+t.$role()+'">'+_+t.$text()+l+"</span>":""+_+t.$text()+l}),we(U,"$read_svg_contents",function(t,a){var v=x,_=x,l=x,F=x;if(g(v=t.$read_contents(a,K(["start","normalize","label","warn_if_empty"],{start:t.$document().$attr("imagesdir"),normalize:!0,label:"SVG",warn_if_empty:!0})))){if(g(v["$empty?"]()))return x;g(v["$start_with?"]("<svg"))||(v=v.$sub(Y("SvgPreambleRx"),"")),_=l=F=x,Ke(["width","height"],"each",[],function(M){var W=x,ne=x;if(M==null&&(M=x),!g(t["$attr?"](M)))return x;if(!g(l)){if(R(F=g(W=F)?W:g(ne=v.$match(Y("SvgStartTagRx")))?ne:"no_match","no_match"))return x;l=(_=F["$[]"](0)).$gsub(Y("DimensionAttributeRx"),"")}return l=""+l.$chop()+" "+M+'="'+t.$attr(M)+'">'}),g(l)&&(v=""+l+v["$[]"](e.Range.$new(_.$length(),-1,!1)))}return v}),U.$private(),we(U,"$append_boolean_attribute",function(t,a){return g(a)?" "+t+'="'+t+'"':" "+t}),we(U,"$append_link_constraint_attrs",function(t,a){var v=x,_=x;return a==null&&(a=[]),g(t["$option?"]("nofollow"))&&(v="nofollow"),g(_=t.$attributes()["$[]"]("window"))?(a["$<<"](' target="'+_+'"'),(R(_,"_blank")||g(t["$option?"]("noopener")))&&a["$<<"](g(v)?' rel="'+v+' noopener"':' rel="noopener"')):g(v)&&a["$<<"](' rel="'+v+'"'),a},-2),we(U,"$encode_attribute_value",function(t){return g(t["$include?"]('"'))?t.$gsub('"',"&quot;"):t}),we(U,"$generate_manname_section",function(t){var a=x,v=x,_=x,l=x,F=x;return a=t.$attr("manname-title","Name"),g(_=t.$sections()["$[]"](0))&&R(v=_.$title(),v.$upcase())&&(a=a.$upcase()),l=g(F=t.$attr("manname-id"))?' id="'+F+'"':"","<h2"+l+">"+a+`</h2>
<div class="sectionbody">
<p>`+t.$attr("mannames").$join(", ")+" - "+t.$attr("manpurpose")+`</p>
</div>`}),we(U,"$get_root_document",function(t){for(;g((t=t.$document())["$nested?"]());)t=t.$parent_document();return t}),we(U,"$method_missing",function u(t,a){var v,_,l=u.$$p||x,F=this,A=x;return u.$$p=null,v=Ve(arguments,1),_=v,ge((A=t.$to_s())["$start_with?"]("convert_"))&&g(F["$handles?"](A))?Ke(F,"send",["convert_"+A].concat(rt(_))):I(F,ue(F,"method_missing",u,!1,!0),"method_missing",[t].concat(rt(_)),l)},-2),we(U,"$respond_to_missing?",function(t,a){var v,_,l=this,F=x,A=x;return v=Ve(arguments,1),_=v,g(F=(A=t.$to_s())["$start_with?"]("convert_")["$!"]())?l["$handles?"](A):F},-2)}(Q("Converter"),ke(Q("Converter"),"Base"),j)}(z[0],z)},Opal.modules["asciidoctor/extensions"]=function(e){"use strict";var H=e.module,P=e.klass,C=e.truthy,K=e.hash2,c=e.def,R=e.send,we=e.alias,I=e.slice,ue=e.rb_plus,g=e.eqeq,Ke=e.rb_gt,oe=e.not,Ce=e.eqeqeq,ge=e.to_a,ve=e.to_ary,st=e.const_set,Ae=e.return_val,et=e.send2,Ye=e.find_super,Ue=e.NilClass,Qe=e.class_variable_set,y=e.class_variable_get,Je=e.regexp,p=e.Class,Ve=e.return_ivar,rt=e.rb_lt,z=e.rb_minus,x=e.hash,ke=[],ee=e.nil,ce=e.$$$;return e.add_stubs("[]=,config,const_defined?,singleton_class?,include,const_get,extend,enable_dsl,attr_reader,merge,class,update,raise,document,==,doctype,[],+,level,delete,>,casecmp,new,title=,sectname=,special=,fetch,numbered=,attr?,!,key?,special,numbered,id=,generate_id,title,update_attributes,tr,basename,create_block,assign_caption,===,parse_blocks,empty?,include?,sub_attributes,parse,each,define_method,unshift,shift,send,size,receiver,binding,define_singleton_method,instance_exec,to_proc,call,option,content_model,flatten,positional_attributes,default_attributes,respond_to?,to_s,partition,to_i,<<,compact,inspect,resolve_attributes,attr_accessor,to_set,contexts,match?,resolve_regexp,format,method,register,reset,values,groups,arity,activate,add_document_processor,tree_processor,tree_processors?,tree_processors,any?,select,add_syntax_processor,to_sym,instance_variable_get,kind,private,join,map,split,capitalize,instance_variable_set,resolve_args,singleton_class,process_block_given?,source_location,freeze,resolve_class,<,update_config,as_symbol,name,name=,pop,-,-@,next_auto_id,generate_name,each_with_object"),function(ie,j){var Q=H(ie,"Asciidoctor"),T=[Q].concat(j);return function(E,w){var U=H(E,"Extensions"),L=[U].concat(w),Y=e.$r(L);return function(S,u,t){var a=P(S,u,"Processor"),v=[a].concat(t),_=e.$r(v),l=a.$$prototype;return l.config=ee,function(F,A){return c(F,"$config",function(){var W=this,ne=ee;return W.config==null&&(W.config=ee),W.config=C(ne=W.config)?ne:K([],{})}),c(F,"$option",function(W,ne){var O,He=this;return O=[W,ne],R(He.$config(),"[]=",O),O[O.length-1]}),c(F,"$enable_dsl",function(){var W=this;return C(W["$const_defined?"]("DSL"))?C(W["$singleton_class?"]())?W.$include(W.$const_get("DSL")):W.$extend(W.$const_get("DSL")):ee}),we(F,"use_dsl","enable_dsl")}(e.get_singleton_class(a),v),a.$attr_reader("config"),c(a,"$initialize",function(A){var M=this;return A==null&&(A=K([],{})),M.config=M.$class().$config().$merge(A)},-1),c(a,"$update_config",function(A){var M=this;return M.config.$update(A)}),c(a,"$process",function(A){var M,W,ne=this;return M=I(arguments),W=M,ne.$raise(ce("NotImplementedError"),""+_("Processor")+" subclass "+ne.$class()+" must implement the #process method")},-1),c(a,"$create_section",function(A,M,W,ne){var O,He,Xe=ee,it=ee,nt=ee,at=ee,ct=ee,ut=ee,_t=ee,ft=ee,mt=ee,yt=ee;return ne==null&&(ne=K([],{})),Xe=A.$document(),it=(nt=Xe.$doctype())["$=="]("book"),at=C(ct=ne["$[]"]("level"))?ct:ue(A.$level(),1),C(ut=W.$delete("style"))?C(it)&&g(ut,"abstract")?(O=["chapter",1],_t=O[0],at=O[1]):(O=[ut,!0],_t=O[0],ft=O[1],g(at,0)&&(at=1)):C(it)?_t=g(at,0)?"part":C(Ke(at,1))?"section":"chapter":g(nt,"manpage")&&g(M.$casecmp("synopsis"),0)?(O=["synopsis",!0],_t=O[0],ft=O[1]):_t="section",mt=_("Section").$new(A,at),O=[M,_t],He=[O[0]],R(mt,"title=",He),He[He.length-1],He=[O[1]],R(mt,"sectname=",He),He[He.length-1],C(ft)?(mt["$special="](!0),C(ne.$fetch("numbered",ut["$=="]("appendix")))?mt["$numbered="](!0):oe(ne["$key?"]("numbered"))&&C(Xe["$attr?"]("sectnums","all"))&&mt["$numbered="](C(it)&&g(at,1)?"chapter":!0)):C(Ke(at,0))?C(ne.$fetch("numbered",Xe["$attr?"]("sectnums")))&&mt["$numbered="](C(mt.$special())?C(ct=A.$numbered())||ct:!0):C(ne.$fetch("numbered",C(ct=it)?Xe["$attr?"]("partnums"):ct))&&mt["$numbered="](!0),g(yt=W["$[]"]("id"),!1)?W.$delete("id"):mt["$id="]((O=["id",C(ct=yt)?ct:C(Xe["$attr?"]("sectids"))?_("Section").$generate_id(mt.$title(),Xe):ee],R(W,"[]=",O),O[O.length-1])),mt.$update_attributes(W),mt},-4),c(a,"$create_block",function(A,M,W,ne,O){return O==null&&(O=K([],{})),_("Block").$new(A,M,K(["source","attributes"],{source:W,attributes:ne}).$merge(O))},-5),c(a,"$create_list",function(A,M,W){var ne=ee;return W==null&&(W=ee),ne=_("List").$new(A,M),C(W)&&ne.$update_attributes(W),ne},-3),c(a,"$create_list_item",function(A,M){return M==null&&(M=ee),_("ListItem").$new(A,M)},-2),c(a,"$create_image_block",function(A,M,W){var ne,O=this,He=ee,Xe=ee,it=ee,nt=ee;return W==null&&(W=K([],{})),C(He=M["$[]"]("target"))||O.$raise(ce("ArgumentError"),"Unable to create an image block, target attribute is required"),C(Xe=M["$[]"]("alt"))||M["$[]="]("alt",(ne=["default-alt",_("Helpers").$basename(He,!0).$tr("_-"," ")],R(M,"[]=",ne),ne[ne.length-1])),it=C(M["$key?"]("title"))?M.$delete("title"):ee,nt=O.$create_block(A,"image",ee,M,W),C(it)&&(nt["$title="](it),nt.$assign_caption(M.$delete("caption"),"figure")),nt},-3),c(a,"$create_inline",function(A,M,W,ne){return ne==null&&(ne=K([],{})),_("Inline").$new(A,M,W,g(M,"quoted")?K(["type"],{type:"unquoted"}).$merge(ne):ne)},-4),c(a,"$parse_content",function(A,M,W){var ne=ee;return W==null&&(W=ee),ne=Ce(_("Reader"),M)?M:_("Reader").$new(M),_("Parser").$parse_blocks(ne,A,W),A},-3),c(a,"$parse_attributes",function(A,M,W){var ne=ee;return W==null&&(W=K([],{})),C(C(M)?M["$empty?"]():!0)?K([],{}):(C(W["$[]"]("sub_attributes"))&&C(M["$include?"](_("ATTR_REF_HEAD")))&&(M=A.$sub_attributes(M)),_("AttributeList").$new(M).$parse(C(ne=W["$[]"]("positional_attributes"))?ne:[]))},-3),R([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"],["create_inline_pass","create_inline","quoted"]],"each",[],function F(A,M,W){var ne=F.$$s==null?this:F.$$s;return A==null&&(A=ee),M==null&&(M=ee),W==null&&(W=ee),R(ne,"define_method",[A],function O(He){var Xe,it,nt=O.$$s==null?this:O.$$s;return Xe=I(arguments),it=Xe,it.$unshift(it.$shift(),W),R(nt,"send",[M].concat(ge(it)))},{$$arity:-1,$$s:ne})},{$$s:a})}(L[0],null,L),function(S){var u=H(S,"ProcessorDsl");return c(u,"$option",function(a,v){var _,l=this;return _=[a,v],R(l.$config(),"[]=",_),_[_.length-1]}),c(u,"$process",function t(a){var v=t.$$p||ee,_,l,F,A=this,M=ee;return A.process_block==null&&(A.process_block=ee),t.$$p=null,_=I(arguments),l=_,v!==ee?(C(l["$empty?"]())||A.$raise(ce("ArgumentError"),"wrong number of arguments (given "+l.$size()+", expected 0)"),C(v.$binding())&&g(A,v.$binding().$receiver())||(M=A,R(v,"define_singleton_method",["call"],function(ne){var O,He;return O=I(arguments),He=O,R(M,"instance_exec",ge(He),v.$to_proc())},-1)),A.process_block=v):C((F=A.process_block,F!=null&&F!==ee?"instance-variable":ee))?R(A.process_block,"call",ge(l)):A.$raise(ce("NotImplementedError"),""+A.$class()+" #process method called before being registered")},-1),c(u,"$process_block_given?",function(){var a,v=this;return a=v.process_block,a!=null&&a!==ee?"instance-variable":ee})}(L[0]),function(S,u){var t=H(S,"DocumentProcessorDsl"),a=[t].concat(u),v=e.$r(a);return t.$include(v("ProcessorDsl")),c(t,"$prefer",function(){var l=this;return l.$option("position",">>")})}(L[0],L),function(S,u){var t=H(S,"SyntaxProcessorDsl"),a=[t].concat(u),v=e.$r(a);return t.$include(v("ProcessorDsl")),c(t,"$named",function(l){var F=this;return Ce(v("Processor"),F)?F.name=l:F.$option("name",l)}),c(t,"$content_model",function(l){var F=this;return F.$option("content_model",l)}),we(t,"parse_content_as","content_model"),c(t,"$positional_attributes",function(l){var F,A,M=this;return F=I(arguments),A=F,M.$option("positional_attrs",A.$flatten())},-1),we(t,"name_positional_attributes","positional_attributes"),we(t,"positional_attrs","positional_attributes"),c(t,"$default_attributes",function(l){var F=this;return F.$option("default_attrs",l)}),we(t,"default_attrs","default_attributes"),c(t,"$resolve_attributes",function(l){var F,A,M,W=this,ne=ee,O=ee,He=ee;return F=I(arguments),A=F,C(Ke(A.$size(),1))||C((A=A.$fetch(0,!0))["$respond_to?"]("to_sym"))&&(A=[A]),Ce(!0,ne=A)?(W.$option("positional_attrs",[]),W.$option("default_attrs",K([],{}))):Ce(ce("Array"),ne)?(M=[[],K([],{})],O=M[0],He=M[1],R(A,"each",[],function(it){var nt,at,ct=ee,ut=ee,_t=ee,ft=ee;return it==null&&(it=ee),C((it=it.$to_s())["$include?"]("="))?(at=it.$partition("="),nt=ve(at),ct=nt[0]==null?ee:nt[0],ut=nt[1]==null?ee:nt[1],_t=nt[2]==null?ee:nt[2],C(ct["$include?"](":"))&&(at=ct.$partition(":"),nt=ve(at),ft=nt[0]==null?ee:nt[0],ut=nt[1]==null?ee:nt[1],ct=nt[2]==null?ee:nt[2],ft=g(ft,"@")?O.$size():ft.$to_i(),O["$[]="](ft,ct)),nt=[ct,_t],R(He,"[]=",nt),nt[nt.length-1]):C(it["$include?"](":"))?(at=it.$partition(":"),nt=ve(at),ft=nt[0]==null?ee:nt[0],ut=nt[1]==null?ee:nt[1],ct=nt[2]==null?ee:nt[2],ft=g(ft,"@")?O.$size():ft.$to_i(),nt=[ft,ct],R(O,"[]=",nt),nt[nt.length-1]):O["$<<"](it)}),W.$option("positional_attrs",O.$compact()),W.$option("default_attrs",He)):Ce(ce("Hash"),ne)?(M=[[],K([],{})],O=M[0],He=M[1],R(A,"each",[],function(it,nt){var at,ct,ut=ee,_t=ee,ft=ee;return it==null&&(it=ee),nt==null&&(nt=ee),C((ut=it.$to_s())["$include?"](":"))&&(ct=ut.$partition(":"),at=ve(ct),_t=at[0]==null?ee:at[0],ft=at[1]==null?ee:at[1],ut=at[2]==null?ee:at[2],_t=g(_t,"@")?O.$size():_t.$to_i(),O["$[]="](_t,ut)),C(nt)?(at=[ut,nt],R(He,"[]=",at),at[at.length-1]):ee}),W.$option("positional_attrs",O.$compact()),W.$option("default_attrs",He)):W.$raise(ce("ArgumentError"),"unsupported attributes specification for macro: "+A.$inspect())},-1),we(t,"resolves_attributes","resolve_attributes")}(L[0],L),function(S,u,t){var a=P(S,u,"Preprocessor"),v=[a].concat(t),_=e.$r(v);return c(a,"$process",function(F,A){var M=this;return M.$raise(ce("NotImplementedError"),""+_("Preprocessor")+" subclass "+M.$class()+" must implement the #process method")})}(L[0],Y("Processor"),L),st(Y("Preprocessor"),"DSL",Y("DocumentProcessorDsl")),function(S,u,t){var a=P(S,u,"TreeProcessor"),v=[a].concat(t),_=e.$r(v);return c(a,"$process",function(F){var A=this;return A.$raise(ce("NotImplementedError"),""+_("TreeProcessor")+" subclass "+A.$class()+" must implement the #process method")})}(L[0],Y("Processor"),L),st(Y("TreeProcessor"),"DSL",Y("DocumentProcessorDsl")),st(L[0],"Treeprocessor",Y("TreeProcessor")),function(S,u,t){var a=P(S,u,"Postprocessor"),v=[a].concat(t),_=e.$r(v);return c(a,"$process",function(F,A){var M=this;return M.$raise(ce("NotImplementedError"),""+_("Postprocessor")+" subclass "+M.$class()+" must implement the #process method")})}(L[0],Y("Processor"),L),st(Y("Postprocessor"),"DSL",Y("DocumentProcessorDsl")),function(S,u,t){var a=P(S,u,"IncludeProcessor"),v=[a].concat(t),_=e.$r(v);return c(a,"$process",function(F,A,M,W){var ne=this;return ne.$raise(ce("NotImplementedError"),""+_("IncludeProcessor")+" subclass "+ne.$class()+" must implement the #process method")}),c(a,"$handles?",Ae(!0))}(L[0],Y("Processor"),L),function(S,u){var t=H(S,"IncludeProcessorDsl"),a=[t].concat(u),v=e.$r(a);return t.$include(v("DocumentProcessorDsl")),c(t,"$handles?",function _(l){var F=_.$$p||ee,A,M,W,ne=this;return ne.handles_block==null&&(ne.handles_block=ee),_.$$p=null,A=I(arguments),M=A,F!==ee?(C(M["$empty?"]())||ne.$raise(ce("ArgumentError"),"wrong number of arguments (given "+M.$size()+", expected 0)"),ne.handles_block=F):C((W=ne.handles_block,W!=null&&W!==ee?"instance-variable":ee))?ne.handles_block.$call(M["$[]"](0)):!0},-1)}(L[0],L),st(Y("IncludeProcessor"),"DSL",Y("IncludeProcessorDsl")),function(S,u,t){var a=P(S,u,"DocinfoProcessor"),v=[a].concat(t),_=e.$r(v),l=a.$$prototype;return l.config=ee,c(a,"$initialize",function F(A){var M,W=F.$$p||ee,ne=this,O=ee;return F.$$p=null,A==null&&(A=K([],{})),et(ne,Ye(ne,"initialize",F,!1,!0),"initialize",[A],null),C(O=ne.config["$[]"]("location"))?O:(M=["location","head"],R(ne.config,"[]=",M),M[M.length-1])},-1),c(a,"$process",function(A){var M=this;return M.$raise(ce("NotImplementedError"),""+_("DocinfoProcessor")+" subclass "+M.$class()+" must implement the #process method")})}(L[0],Y("Processor"),L),function(S,u){var t=H(S,"DocinfoProcessorDsl"),a=[t].concat(u),v=e.$r(a);return t.$include(v("DocumentProcessorDsl")),c(t,"$at_location",function(l){var F=this;return F.$option("location",l)})}(L[0],L),st(Y("DocinfoProcessor"),"DSL",Y("DocinfoProcessorDsl")),function(S,u,t){var a=P(S,u,"BlockProcessor"),v=[a].concat(t),_=e.$r(v),l=a.$$prototype;return l.config=ee,a.$attr_accessor("name"),c(a,"$initialize",function F(A,M){var W,ne=F.$$p||ee,O=this,He=ee,Xe=ee;return F.$$p=null,A==null&&(A=ee),M==null&&(M=K([],{})),et(O,Ye(O,"initialize",F,!1,!0),"initialize",[M],null),O.name=C(He=A)?He:O.config["$[]"]("name"),Ce(Ue,He=O.config["$[]"]("contexts"))?C(Xe=O.config["$[]"]("contexts"))||O.config["$[]="]("contexts",["open","paragraph"].$to_set()):Ce(ce("Symbol"),He)?O.config["$[]="]("contexts",[O.config["$[]"]("contexts")].$to_set()):O.config["$[]="]("contexts",O.config["$[]"]("contexts").$to_set()),C(He=O.config["$[]"]("content_model"))?He:(W=["content_model","compound"],R(O.config,"[]=",W),W[W.length-1])},-1),c(a,"$process",function(A,M,W){var ne=this;return ne.$raise(ce("NotImplementedError"),""+_("BlockProcessor")+" subclass "+ne.$class()+" must implement the #process method")})}(L[0],Y("Processor"),L),function(S,u){var t=H(S,"BlockProcessorDsl"),a=[t].concat(u),v=e.$r(a);return t.$include(v("SyntaxProcessorDsl")),c(t,"$contexts",function(l){var F,A,M=this;return F=I(arguments),A=F,M.$option("contexts",A.$flatten().$to_set())},-1),we(t,"on_contexts","contexts"),we(t,"on_context","contexts"),we(t,"bind_to","contexts")}(L[0],L),st(Y("BlockProcessor"),"DSL",Y("BlockProcessorDsl")),function(S,u,t){var a=P(S,u,"MacroProcessor"),v=[a].concat(t),_=e.$r(v),l=a.$$prototype;return l.config=ee,a.$attr_accessor("name"),c(a,"$initialize",function F(A,M){var W,ne=F.$$p||ee,O=this,He=ee;return F.$$p=null,A==null&&(A=ee),M==null&&(M=K([],{})),et(O,Ye(O,"initialize",F,!1,!0),"initialize",[M],null),O.name=C(He=A)?He:O.config["$[]"]("name"),C(He=O.config["$[]"]("content_model"))?He:(W=["content_model","attributes"],R(O.config,"[]=",W),W[W.length-1])},-1),c(a,"$process",function(A,M,W){var ne=this;return ne.$raise(ce("NotImplementedError"),""+_("MacroProcessor")+" subclass "+ne.$class()+" must implement the #process method")})}(L[0],Y("Processor"),L),function(S,u){var t=H(S,"MacroProcessorDsl"),a=[t].concat(u),v=e.$r(a);return t.$include(v("SyntaxProcessorDsl")),c(t,"$resolve_attributes",function _(l){var F,A,M=_.$$p||ee,W=this;return _.$$p=null,F=I(arguments),A=F,g(A.$size(),1)&&oe(A["$[]"](0))?W.$option("content_model","text"):(et(W,Ye(W,"resolve_attributes",_,!1,!0),"resolve_attributes",ge(A),M),W.$option("content_model","attributes"))},-1),we(t,"resolves_attributes","resolve_attributes")}(L[0],L),function(S,u,t){var a=P(S,u,"BlockMacroProcessor"),v=[a].concat(t),_=e.$r(v),l=a.$$prototype;return l.name=ee,c(a,"$name",function(){var A=this;return C(_("MacroNameRx")["$match?"](A.name.$to_s()))||A.$raise(ce("ArgumentError"),"invalid name for block macro: "+A.name),A.name})}(L[0],Y("MacroProcessor"),L),st(Y("BlockMacroProcessor"),"DSL",Y("MacroProcessorDsl")),function(S,u,t){var a=P(S,u,"InlineMacroProcessor"),v=[a].concat(t),_=e.$r(v),l=a.$$prototype;return l.config=l.name=ee,Qe(v[0],"@@rx_cache",K([],{})),c(a,"$regexp",function(){var A,M=this,W=ee;return C(W=M.config["$[]"]("regexp"))?W:(A=["regexp",M.$resolve_regexp(M.name.$to_s(),M.config["$[]"]("format"))],R(M.config,"[]=",A),A[A.length-1])}),c(a,"$resolve_regexp",function(A,M){var W,ne=this,O=ee;return C(_("MacroNameRx")["$match?"](A))||ne.$raise(ce("ArgumentError"),"invalid name for inline macro: "+A),C(O=y(v[0],"@@rx_cache",!1)["$[]"]([A,M]))?O:(W=[[A,M],Je(["\\\\?",A,":",g(M,"short")?"(){0}":"(\\S+?)","\\[(|",_("CC_ANY"),"*?[^\\\\])\\]"])],R(y(v[0],"@@rx_cache",!1),"[]=",W),W[W.length-1])})}(L[0],Y("MacroProcessor"),L),function(S,u){var t=H(S,"InlineMacroProcessorDsl"),a=[t].concat(u),v=e.$r(a);return t.$include(v("MacroProcessorDsl")),c(t,"$format",function(l){var F=this;return F.$option("format",l)}),we(t,"match_format","format"),we(t,"using_format","format"),c(t,"$match",function(l){var F=this;return F.$option("regexp",l)})}(L[0],L),st(Y("InlineMacroProcessor"),"DSL",Y("InlineMacroProcessorDsl")),function(S,u){var t=P(S,u,"Extension");return t.$attr_reader("kind"),t.$attr_reader("config"),t.$attr_reader("instance"),c(t,"$initialize",function(v,_,l){var F=this;return F.kind=v,F.instance=_,F.config=l})}(L[0],null),function(S,u){var t=P(S,u,"ProcessorExtension");return t.$attr_reader("process_method"),c(t,"$initialize",function a(v,_,l){var F=a.$$p||ee,A=this,M=ee;return a.$$p=null,l==null&&(l=ee),et(A,Ye(A,"initialize",a,!1,!0),"initialize",[v,_,_.$config()],null),A.process_method=C(M=l)?M:_.$method("process")},-3)}(L[0],Y("Extension")),function(S,u,t){var a=P(S,u,"Group"),v=[a].concat(t);return function(_,l){var F=[_].concat(l),A=e.$r(F);return c(_,"$register",function(W){var ne=this;return W==null&&(W=ee),A("Extensions").$register(W,ne)},-1)}(e.get_singleton_class(a),v),c(a,"$activate",function(l){var F=this;return F.$raise(ce("NotImplementedError"))})}(L[0],null,L),function(S,u,t){var a=P(S,u,"Registry"),v=[a].concat(t),_=e.$r(v),l=a.$$prototype;return l.document=l.groups=l.preprocessor_extensions=l.tree_processor_extensions=l.postprocessor_extensions=l.include_processor_extensions=l.docinfo_processor_extensions=l.block_extensions=l.block_macro_extensions=l.inline_macro_extensions=ee,a.$attr_reader("document"),a.$attr_reader("groups"),c(a,"$initialize",function(A){var M=this;return A==null&&(A=K([],{})),M.groups=A,M.$reset(),M.preprocessor_extensions=M.tree_processor_extensions=M.postprocessor_extensions=M.include_processor_extensions=M.docinfo_processor_extensions=M.block_extensions=M.block_macro_extensions=M.inline_macro_extensions=ee,M.document=ee},-1),c(a,"$activate",function(A){var M=this,W=ee;return C(M.document)&&M.$reset(),M.document=A,C((W=ue(_("Extensions").$groups().$values(),M.groups.$values()))["$empty?"]())||R(W,"each",[],function ne(O){var He=ne.$$s==null?this:ne.$$s,Xe=ee;if(O==null&&(O=ee),Ce(ce("Proc"),Xe=O))switch(O.$arity()){case 0:case-1:return R(He,"instance_exec",[],O.$to_proc());case 1:return O.$call(He);default:return ee}else return Ce(p,Xe)?O.$new().$activate(He):O.$activate(He)},{$$s:M}),M}),c(a,"$preprocessor",function F(A){var M=F.$$p||ee,W,ne,O=this;return F.$$p=null,W=I(arguments),ne=W,R(O,"add_document_processor",["preprocessor",ne],M.$to_proc())},-1),c(a,"$preprocessors?",function(){var A=this;return A.preprocessor_extensions["$!"]()["$!"]()}),c(a,"$preprocessors",Ve("preprocessor_extensions")),c(a,"$tree_processor",function F(A){var M=F.$$p||ee,W,ne,O=this;return F.$$p=null,W=I(arguments),ne=W,R(O,"add_document_processor",["tree_processor",ne],M.$to_proc())},-1),c(a,"$tree_processors?",function(){var A=this;return A.tree_processor_extensions["$!"]()["$!"]()}),c(a,"$tree_processors",Ve("tree_processor_extensions")),we(a,"treeprocessor","tree_processor"),we(a,"treeprocessors?","tree_processors?"),we(a,"treeprocessors","tree_processors"),c(a,"$postprocessor",function F(A){var M=F.$$p||ee,W,ne,O=this;return F.$$p=null,W=I(arguments),ne=W,R(O,"add_document_processor",["postprocessor",ne],M.$to_proc())},-1),c(a,"$postprocessors?",function(){var A=this;return A.postprocessor_extensions["$!"]()["$!"]()}),c(a,"$postprocessors",Ve("postprocessor_extensions")),c(a,"$include_processor",function F(A){var M=F.$$p||ee,W,ne,O=this;return F.$$p=null,W=I(arguments),ne=W,R(O,"add_document_processor",["include_processor",ne],M.$to_proc())},-1),c(a,"$include_processors?",function(){var A=this;return A.include_processor_extensions["$!"]()["$!"]()}),c(a,"$include_processors",Ve("include_processor_extensions")),c(a,"$docinfo_processor",function F(A){var M=F.$$p||ee,W,ne,O=this;return F.$$p=null,W=I(arguments),ne=W,R(O,"add_document_processor",["docinfo_processor",ne],M.$to_proc())},-1),c(a,"$docinfo_processors?",function(A){var M=this;return A==null&&(A=ee),C(M.docinfo_processor_extensions)?C(A)?R(M.docinfo_processor_extensions,"any?",[],function(ne){return ne==null&&(ne=ee),ne.$config()["$[]"]("location")["$=="](A)}):!0:!1},-1),c(a,"$docinfo_processors",function(A){var M=this;return A==null&&(A=ee),C(M.docinfo_processor_extensions)?C(A)?R(M.docinfo_processor_extensions,"select",[],function(ne){return ne==null&&(ne=ee),ne.$config()["$[]"]("location")["$=="](A)}):M.docinfo_processor_extensions:ee},-1),c(a,"$block",function F(A){var M=F.$$p||ee,W,ne,O=this;return F.$$p=null,W=I(arguments),ne=W,R(O,"add_syntax_processor",["block",ne],M.$to_proc())},-1),c(a,"$blocks?",function(){var A=this;return A.block_extensions["$!"]()["$!"]()}),c(a,"$registered_for_block?",function(A,M){var W=this,ne=ee;return C(ne=W.block_extensions["$[]"](A.$to_sym()))&&C(ne.$config()["$[]"]("contexts")["$include?"](M))?ne:!1}),c(a,"$find_block_extension",function(A){var M=this;return M.block_extensions["$[]"](A.$to_sym())}),c(a,"$block_macro",function F(A){var M=F.$$p||ee,W,ne,O=this;return F.$$p=null,W=I(arguments),ne=W,R(O,"add_syntax_processor",["block_macro",ne],M.$to_proc())},-1),c(a,"$block_macros?",function(){var A=this;return A.block_macro_extensions["$!"]()["$!"]()}),c(a,"$registered_for_block_macro?",function(A){var M=this,W=ee;return C(W=M.block_macro_extensions["$[]"](A.$to_sym()))?W:!1}),c(a,"$find_block_macro_extension",function(A){var M=this;return M.block_macro_extensions["$[]"](A.$to_sym())}),c(a,"$inline_macro",function F(A){var M=F.$$p||ee,W,ne,O=this;return F.$$p=null,W=I(arguments),ne=W,R(O,"add_syntax_processor",["inline_macro",ne],M.$to_proc())},-1),c(a,"$inline_macros?",function(){var A=this;return A.inline_macro_extensions["$!"]()["$!"]()}),c(a,"$registered_for_inline_macro?",function(A){var M=this,W=ee;return C(W=M.inline_macro_extensions["$[]"](A.$to_sym()))?W:!1}),c(a,"$find_inline_macro_extension",function(A){var M=this;return M.inline_macro_extensions["$[]"](A.$to_sym())}),c(a,"$inline_macros",function(){var A=this;return A.inline_macro_extensions.$values()}),c(a,"$prefer",function F(A){var M=F.$$p||ee,W,ne,O=this,He=ee,Xe=ee,it=ee;return F.$$p=null,W=I(arguments),ne=W,He=Ce(_("ProcessorExtension"),Xe=ne.$shift())?Xe:R(O,"send",[Xe].concat(ge(ne)),M.$to_proc()),it=O.$instance_variable_get(("@"+He.$kind()+"_extensions").$to_sym()),it.$unshift(it.$delete(He)),He},-1),a.$private(),c(a,"$add_document_processor",function F(A,M){var W=F.$$p||ee,ne,O,He,Xe=this,it=ee,nt=ee,at=ee,ct=ee,ut=ee,_t=ee,ft=ee,mt=ee,yt=ee,wt=ee,kt=ee;return F.$$p=null,it=A.$to_s().$tr("_"," "),nt=R(it.$split(),"map",[],function(zt){return zt==null&&(zt=ee),zt.$capitalize()}).$join().$to_sym(),at=_("Extensions").$const_get(nt,!1),ct=C((ne=ce("::","AsciidoctorJ","skip_raise"))?"constant":ee)?ce(ce("AsciidoctorJ"),"Extensions").$const_get(nt,!1):ee,ut=C(_t=Xe.$instance_variable_get(("@"+A+"_extensions").$to_sym()))?_t:Xe.$instance_variable_set(("@"+A+"_extensions").$to_sym(),[]),W!==ee?(ft=Xe.$resolve_args(M,1),(mt=at.$new(ft)).$singleton_class().$enable_dsl(),g(W.$arity(),0)?R(mt,"instance_exec",[],W.$to_proc()):e.yield1(W,mt),C(mt["$process_block_given?"]())||Xe.$raise(ce("NoMethodError"),"No block specified to process "+it+" extension at "+W.$source_location().$join(":")),mt.$freeze(),yt=_("ProcessorExtension").$new(A,mt)):(He=Xe.$resolve_args(M,2),O=ve(He),mt=O[0]==null?ee:O[0],ft=O[1]==null?ee:O[1],C(wt=_("Helpers").$resolve_class(mt))?(C(rt(wt,at))||C(ct)&&C(rt(wt,ct))||Xe.$raise(ce("ArgumentError"),"Invalid type for "+it+" extension: "+mt),kt=wt.$new(ft),kt.$freeze(),yt=_("ProcessorExtension").$new(A,kt)):Ce(at,mt)||C(ct)&&Ce(ct,mt)?(mt.$update_config(ft),mt.$freeze(),yt=_("ProcessorExtension").$new(A,mt)):Xe.$raise(ce("ArgumentError"),"Invalid arguments specified for registering "+it+" extension: "+M)),g(yt.$config()["$[]"]("position"),">>")?ut.$unshift(yt):ut["$<<"](yt),yt}),c(a,"$add_syntax_processor",function F(A,M){var W=F.$$p||ee,ne,O,He,Xe=this,it=ee,nt=ee,at=ee,ct=ee,ut=ee,_t=ee,ft=ee,mt=ee,yt=ee,wt=ee,kt=ee;return F.$$p=null,it=A.$to_s().$tr("_"," "),nt=R(it.$split(),"map",[],function(zt){return zt==null&&(zt=ee),zt.$capitalize()})["$<<"]("Processor").$join().$to_sym(),at=_("Extensions").$const_get(nt,!1),ct=C((ne=ce("::","AsciidoctorJ","skip_raise"))?"constant":ee)?ce(ce("AsciidoctorJ"),"Extensions").$const_get(nt,!1):ee,ut=C(_t=Xe.$instance_variable_get(("@"+A+"_extensions").$to_sym()))?_t:Xe.$instance_variable_set(("@"+A+"_extensions").$to_sym(),K([],{})),W!==ee?(He=Xe.$resolve_args(M,2),O=ve(He),ft=O[0]==null?ee:O[0],mt=O[1]==null?ee:O[1],(yt=at.$new(Xe.$as_symbol(ft),mt)).$singleton_class().$enable_dsl(),g(W.$arity(),0)?R(yt,"instance_exec",[],W.$to_proc()):e.yield1(W,yt),C(ft=Xe.$as_symbol(yt.$name()))||Xe.$raise(ce("ArgumentError"),"No name specified for "+it+" extension at "+W.$source_location().$join(":")),C(yt["$process_block_given?"]())||Xe.$raise(ce("NoMethodError"),"No block specified to process "+it+" extension at "+W.$source_location().$join(":")),yt.$freeze(),O=[ft,_("ProcessorExtension").$new(A,yt)],R(ut,"[]=",O),O[O.length-1]):(He=Xe.$resolve_args(M,3),O=ve(He),yt=O[0]==null?ee:O[0],ft=O[1]==null?ee:O[1],mt=O[2]==null?ee:O[2],C(wt=_("Helpers").$resolve_class(yt))?(C(rt(wt,at))||C(ct)&&C(rt(wt,ct))||Xe.$raise(ce("ArgumentError"),"Class specified for "+it+" extension does not inherit from "+at+": "+yt),kt=wt.$new(Xe.$as_symbol(ft),mt),C(ft=Xe.$as_symbol(kt.$name()))||Xe.$raise(ce("ArgumentError"),"No name specified for "+it+" extension: "+yt),kt.$freeze(),O=[ft,_("ProcessorExtension").$new(A,kt)],R(ut,"[]=",O),O[O.length-1]):Ce(at,yt)||C(ct)&&Ce(ct,yt)?(yt.$update_config(mt),C(ft=C(ft)?(O=[Xe.$as_symbol(ft)],R(yt,"name=",O),O[O.length-1]):Xe.$as_symbol(yt.$name()))||Xe.$raise(ce("ArgumentError"),"No name specified for "+it+" extension: "+yt),yt.$freeze(),O=[ft,_("ProcessorExtension").$new(A,yt)],R(ut,"[]=",O),O[O.length-1]):Xe.$raise(ce("ArgumentError"),"Invalid arguments specified for registering "+it+" extension: "+M))}),c(a,"$reset",function(){var A=this;return A.preprocessor_extensions=A.tree_processor_extensions=A.postprocessor_extensions=A.include_processor_extensions=A.docinfo_processor_extensions=A.block_extensions=A.block_macro_extensions=A.inline_macro_extensions=ee,A.document=ee}),c(a,"$resolve_args",function(A,M){var W=ee,ne=ee;return W=Ce(ce("Hash"),A["$[]"](-1))?A.$pop():K([],{}),g(M,1)?W:(C(Ke(ne=z(z(M,1),A.$size()),0))?A=ue(A,ce("Array").$new(ne)):C(rt(ne,0))&&A.$pop(ne["$-@"]()),A["$<<"](W),A)}),c(a,"$as_symbol",function(A){return C(A)?A.$to_sym():ee})}(L[0],null,L),function(S,u){var t=[S].concat(u),a=e.$r(t);return c(S,"$generate_name",function(){var _=this;return"extgrp"+_.$next_auto_id()}),c(S,"$next_auto_id",function(){var _=this,l=ee;return _.auto_id==null&&(_.auto_id=ee),_.auto_id=C(l=_.auto_id)?l:-1,_.auto_id=ue(_.auto_id,1)}),c(S,"$groups",function(){var _=this,l=ee;return _.groups==null&&(_.groups=ee),_.groups=C(l=_.groups)?l:K([],{})}),c(S,"$create",function v(_){var l=v.$$p||ee,F=this,A=ee;return v.$$p=null,_==null&&(_=ee),l!==ee?a("Registry").$new(x(C(A=_)?A:F.$generate_name(),l)):a("Registry").$new()},-1),c(S,"$register",function v(_){var l=v.$$p||ee,F,A,M,W=this,ne=ee,O=ee,He=ee,Xe=ee,it=ee;return v.$$p=null,F=I(arguments),A=F,ne=A.$size(),l!==ee?O=l:C(He=A.$pop())?O=C(Xe=a("Helpers").$resolve_class(He))?Xe:He:W.$raise(ce("ArgumentError"),"Extension group to register not specified"),it=C(Xe=A.$pop())?Xe:W.$generate_name(),C(A["$empty?"]())||W.$raise(ce("ArgumentError"),"Wrong number of arguments ("+ne+" for 1..2)"),M=[it.$to_sym(),O],R(W.$groups(),"[]=",M),M[M.length-1]},-1),c(S,"$unregister_all",function(){var _=this;return _.groups=K([],{}),ee}),c(S,"$unregister",function(_){var l,F,A=this;return l=I(arguments),F=l,R(F,"each_with_object",[A.$groups()],function(W,ne){return W==null&&(W=ee),ne==null&&(ne=ee),ne.$delete(W.$to_sym())}),ee},-1)}(e.get_singleton_class(U),L)}(T[0],T)}(ke[0],ke)},Opal.modules["asciidoctor/js/asciidoctor_ext/stylesheet"]=function(e){"use strict";var H=e.module,P=e.klass,C=e.truthy,K=e.def,c=[],R=e.nil,we=e.$$$;return e.add_stubs("rstrip,read,join"),function(I,ue){var g=H(I,"Asciidoctor"),Ke=[g].concat(ue);return function(oe,Ce){var ge=P(oe,Ce,"Stylesheets"),ve=ge.$$prototype;return ve.primary_stylesheet_data=R,K(ge,"$primary_stylesheet_data",function(){var Ae=this,et=R;return Ae.primary_stylesheet_data=C(et=Ae.primary_stylesheet_data)?et:we("IO").$read(we("File").$join("css","asciidoctor.css")).$rstrip()})}(Ke[0],null)}(c[0],c)},Opal.modules["asciidoctor/js/asciidoctor_ext/document"]=function(e){"use strict";var H=e.module,P=e.klass,C=e.def,K=[],c=e.nil;return function(R,we){var I=H(R,"Asciidoctor"),ue=[I].concat(we),g=e.$r(ue);return function(Ke,oe){var Ce=P(Ke,oe,"Document");return C(Ce,"$fill_datetime_attributes",function(ve,st){var Ae=e.truthy,et=e.falsy,Ye=e.nil,Ue,Qe,y,Je,p,Ve,rt,z,x=function(_,l){return l===0?_.getUTCFullYear():_.getFullYear()},ke=function(_,l){return l===0?_.getUTCMonth():_.getMonth()},ee=function(_,l){return l===0?_.getUTCDate():_.getDate()},ce=function(_,l){return l===0?_.getUTCHours():_.getHours()},ie=new Date;if(e.const_get_qualified("::","ENV")["$key?"]("SOURCE_DATE_EPOCH")?(ie.setTime(parseInt(e.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))*1e3),Qe=ie,Ue=0):Ue=-ie.getTimezoneOffset()/60,Ae(y=ve["$[]"]("localdate")))et(Je=ve["$[]"]("localyear"))&&(Je=y.indexOf("-")===4?y.substring(0,4):Ye,ve["$[]="]("localyear",Je));else{var j=x(ie,Ue).toString(),Q=("0"+(ke(ie,Ue)+1)).slice(-2),T=("0"+ee(ie,Ue)).slice(-2);y=j+"-"+Q+"-"+T,ve["$[]="]("localdate",y),Je=j,ve["$[]="]("localyear",j)}if(et(p=ve["$[]"]("localtime"))){var E=("0"+ce(ie,Ue)).slice(-2),w=("0"+ie.getMinutes()).slice(-2),U=("0"+ie.getSeconds()).slice(-2),L;Ue===0?L="UTC":Ue>0?L=("+0"+Ue*100).slice(-5):L=("-0"+-Ue*100).slice(-5),p=E+":"+w+":"+U+" "+L,ve["$[]="]("localtime",p)}if(et(Ve=ve["$[]"]("localdatetime"))&&(Ve=y+" "+p,ve["$[]="]("localdatetime",Ve)),Ae(Qe)?st=Qe:Ae(st)?Ue=-st.getTimezoneOffset()/60:st=ie,Ae(rt=ve["$[]"]("docdate")))ve["$[]="]("docyear",rt.indexOf("-")===4?rt.substring(0,4):Ye);else{var Y=x(st,Ue).toString(),S=("0"+(ke(st,Ue)+1)).slice(-2),u=("0"+ee(st,Ue)).slice(-2);rt=Y+"-"+S+"-"+u,ve["$[]="]("docdate",rt),et(ve["$[]"]("docyear"))&&ve["$[]="]("docyear",Y)}if(et(z=ve["$[]"]("doctime"))){var t=("0"+ce(st,Ue)).slice(-2),a=("0"+st.getMinutes()).slice(-2),v=("0"+st.getSeconds()).slice(-2),L;Ue===0?L="UTC":Ue>0?L=("+0"+Ue*100).slice(-5):L=("-0"+-Ue*100).slice(-5),z=t+":"+a+":"+v+" "+L,ve["$[]="]("doctime",z)}return et(ve["$[]"]("docdatetime"))&&ve["$[]="]("docdatetime",rt+" "+z),Ye})}(ue[0],g("AbstractBlock"))}(K[0],K)},Opal.modules["asciidoctor/js/asciidoctor_ext/substitutors"]=function(e){"use strict";var H=e.module,P=e.def,C=[],K=e.nil;return function(c,R){var we=H(c,"Asciidoctor"),I=[we].concat(R);return function(ue){var g=H(ue,"Substitutors");return P(g,"$sub_placeholder",function(oe,Ce){return oe.replace("%s",Ce)})}(I[0])}(C[0],C)},Opal.modules["asciidoctor/js/asciidoctor_ext/parser"]=function(e){"use strict";var H=e.module,P=e.klass,C=e.truthy,K=e.defs,c=[],R=e.nil;return function(we,I){var ue=H(we,"Asciidoctor"),g=[ue].concat(I);return function(Ke,oe){var Ce=P(Ke,oe,"Parser");return C(String.prototype.repeat)?K(Ce,"$uniform?",function(ve,st,Ae){return st.repeat(Ae)===ve}):K(Ce,"$uniform?",function(ve,st,Ae){return Array.apply(null,{length:Ae}).map(function(){return st}).join("")===ve})}(g[0],null)}(c[0],c)},Opal.modules["asciidoctor/js/asciidoctor_ext/syntax_highlighter"]=function(e){"use strict";var H=e.module,P=e.truthy,C=e.def,K=[],c=e.nil;return e.add_stubs("key?,registry,[],include?,include,empty?,debug,logger,join,keys"),function(R,we){var I=H(R,"Asciidoctor"),ue=[I].concat(we);return function(g,Ke){var oe=H(g,"SyntaxHighlighter"),Ce=[oe].concat(Ke);return function(ge,ve){var st=H(ge,"Factory"),Ae=[st].concat(ve),et=e.$r(Ae);return C(st,"$for",function(Ue){var Qe=this;return P(Qe.$registry()["$key?"](Ue))?Qe.$registry()["$[]"](Ue):(P(Qe["$include?"](et("Logging")))||Qe.$include(et("Logging")),P(Qe.$registry()["$empty?"]())?Qe.$logger().$debug("no syntax highlighter available, functionality disabled."):Qe.$logger().$debug("syntax highlighter named '"+Ue+"' is not available, must be one of: '"+Qe.$registry().$keys().$join("', '")+"'."),c)})}(Ce[0],Ce)}(ue[0],ue)}(K[0],K)},Opal.modules["asciidoctor/js/asciidoctor_ext"]=function(e){"use strict";var H=e.top,P=e.nil;e.add_stubs("require"),H.$require("asciidoctor/js/asciidoctor_ext/stylesheet"),H.$require("asciidoctor/js/asciidoctor_ext/document"),H.$require("asciidoctor/js/asciidoctor_ext/substitutors"),H.$require("asciidoctor/js/asciidoctor_ext/parser"),H.$require("asciidoctor/js/asciidoctor_ext/syntax_highlighter"),H.$require("asciidoctor/js/asciidoctor_ext/browser")},Opal.modules["asciidoctor/js/opal_ext/logger"]=function(e){"use strict";var H=e.klass,P=e.def,C=e.truthy,K=e.rb_lt,c=[],R=e.nil;return e.add_stubs("chr,rjust,message_as_string,<,write,call,[]"),function(we,I,ue){var g=H(we,I,"Logger"),Ke=[g].concat(ue),oe=e.$r(Ke),Ce=g.$$prototype;return Ce.level=Ce.progname=Ce.pipe=Ce.formatter=R,function(ge,ve){var st=H(ge,ve,"Formatter");return P(st,"$call",function(et,Ye,Ue,Qe){var y=this,Je=R;return Je=Ye.getFullYear()+"-"+("0"+(Ye.getMonth()+1)).slice(-2)+"-"+("0"+Ye.getDate()).slice(-2)+"T"+("0"+Ye.getHours()).slice(-2)+":"+("0"+Ye.getMinutes()).slice(-2)+":"+("0"+Ye.getSeconds()).slice(-2)+"."+("00"+new Date().getMilliseconds()*1e3).slice(-6),""+et.$chr()+", ["+Je+"] "+et.$rjust(5)+" -- "+Ue+": "+y.$message_as_string(Qe)})}(Ke[0],null),P(g,"$add",function ge(ve,st,Ae){var et=ge.$$p||R,Ye=this,Ue=R;return ge.$$p=null,st==null&&(st=R),Ae==null&&(Ae=R),C(K(ve=C(Ue=ve)?Ue:oe("UNKNOWN"),Ye.level))||(Ae=C(Ue=Ae)?Ue:Ye.progname,C(st)||(et!==R?st=e.yieldX(et,[]):(st=Ae,Ae=Ye.progname)),Ye.pipe.$write(Ye.formatter.$call(C(Ue=oe("SEVERITY_LABELS")["$[]"](ve))?Ue:"ANY",new Date,Ae,st))),!0},-2)}(c[0],null,c)},Opal.modules["asciidoctor/js/postscript"]=function(e){"use strict";var H=e.top,P=e.nil;return e.add_stubs("require"),H.$require("asciidoctor/converter/composite"),H.$require("asciidoctor/converter/html5"),H.$require("asciidoctor/extensions"),H.$require("asciidoctor/js/asciidoctor_ext"),H.$require("asciidoctor/js/opal_ext/logger")},Opal.queue(function(e){"use strict";var H=e.module,P=e.const_set,C=e.send,K=e.to_ary,c=e.defs,R=e.def,we=e.truthy,I=e.hash2,ue=e.eqeq,g=e.rb_minus,Ke=e.regexp,oe=e.top,Ce=[],ge=e.nil,ve=e.$$$;return e.add_stubs("require,==,to_h,sort,map,constants,const_get,downcase,to_s,<=>,upcase,[],values,new,attr_reader,instance_variable_set,send,singleton_class,<<,define,dirname,absolute_path,join,home,pwd,to_set,tap,each,chr,each_key,[]=,slice,length,-,merge,default=,drop,insert"),oe.$require("set"),oe.$require("asciidoctor/js"),function(st,Ae){var et=H(st,"Asciidoctor"),Ye,Ue=[et].concat(Ae),Qe=e.$r(Ue),y=ge;return P(Ue[0],"RUBY_ENGINE_OPAL",P(Ue[0],"RUBY_ENGINE",ve("RUBY_ENGINE"))["$=="]("opal")),function(Je,p){var Ve=H(Je,"SafeMode"),rt=[Ve].concat(p);return P(rt[0],"UNSAFE",0),P(rt[0],"SAFE",1),P(rt[0],"SERVER",10),P(rt[0],"SECURE",20),Ve.names_by_value=C(C(Ve.$constants(!1),"map",[],function z(x){var ke=z.$$s==null?this:z.$$s;return x==null&&(x=ge),[ke.$const_get(x),x.$to_s().$downcase()]},{$$s:Ve}),"sort",[],function(x,ke){var ee,ce,ie=ge,j=ge;return x==null&&(x=ge),ke==null&&(ke=ge),ce=x,ee=K(ce),ie=ee[0]==null?ge:ee[0],ce=ke,ee=K(ce),j=ee[0]==null?ge:ee[0],ie["$<=>"](j)},{$$has_top_level_mlhs_arg:!0}).$to_h(),c(Ve,"$value_for_name",function(x){var ke=this;return ke.$const_get(x.$upcase(),!1)}),c(Ve,"$name_for_value",function(x){var ke=this;return ke.names_by_value==null&&(ke.names_by_value=ge),ke.names_by_value["$[]"](x)}),c(Ve,"$names",function(){var x=this;return x.names_by_value==null&&(x.names_by_value=ge),x.names_by_value.$values()})}(Ue[0],Ue),function(Je,p){var Ve=H(Je,"Compliance"),rt=[Ve].concat(p);return Ve.keys=ve("Set").$new(),function(z,x){return z.$attr_reader("keys"),R(z,"$define",function(ee,ce){var ie=this;return ie.keys==null&&(ie.keys=ge),ie.$instance_variable_set("@"+ee,ce),ie.$singleton_class().$send("attr_accessor",ee),ie.keys["$<<"](ee),ge})}(e.get_singleton_class(Ve),rt),Ve.$define("block_terminates_paragraph",!0),Ve.$define("strict_verbatim_paragraphs",!0),Ve.$define("underline_style_section_titles",!0),Ve.$define("unwrap_standalone_preamble",!0),Ve.$define("attribute_missing","skip"),Ve.$define("attribute_undefined","drop-line"),Ve.$define("shorthand_property_syntax",!0),Ve.$define("natural_xrefs",!0),Ve.$define("unique_id_start_index",2),Ve.$define("markdown_syntax",!0)}(Ue[0],Ue),we((Ye=Qe("ROOT_DIR","skip_raise"))?"constant":ge)||P(Ue[0],"ROOT_DIR",ve("File").$dirname(ve("File").$absolute_path("."))),P(Ue[0],"LIB_DIR",ve("File").$join(Qe("ROOT_DIR"),"lib")),P(Ue[0],"DATA_DIR",ve("File").$join(Qe("ROOT_DIR"),"data")),P(Ue[0],"USER_HOME",function(){try{return ve("Dir").$home()}catch(Je){if(e.rescue(Je,[Qe("StandardError")]))try{return we(y=ve("ENV")["$[]"]("HOME"))?y:ve("Dir").$pwd()}finally{e.pop_exception()}else throw Je}}()),P(Ue[0],"LF",`
`),P(Ue[0],"NULL","\0"),P(Ue[0],"TAB","	"),P(Ue[0],"MAX_INT",9007199254740991),P(Ue[0],"UTF_8",ve(ve("Encoding"),"UTF_8")),P(Ue[0],"BOM_BYTES_UTF_8",[239,187,191]),P(Ue[0],"BOM_BYTES_UTF_16LE",[255,254]),P(Ue[0],"BOM_BYTES_UTF_16BE",[254,255]),P(Ue[0],"FILE_READ_MODE",we(Qe("RUBY_ENGINE_OPAL"))?"r":"rb:utf-8:utf-8"),P(Ue[0],"URI_READ_MODE",Qe("FILE_READ_MODE")),P(Ue[0],"FILE_WRITE_MODE",we(Qe("RUBY_ENGINE_OPAL"))?"w":"w:utf-8"),P(Ue[0],"DEFAULT_DOCTYPE","article"),P(Ue[0],"DEFAULT_BACKEND","html5"),P(Ue[0],"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set()),P(Ue[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),P(Ue[0],"BACKEND_ALIASES",I(["html","docbook"],{html:"html5",docbook:"docbook5"})),P(Ue[0],"DEFAULT_PAGE_WIDTHS",I(["docbook"],{docbook:425})),P(Ue[0],"DEFAULT_EXTENSIONS",I(["html","docbook","pdf","epub","manpage","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",manpage:".man",asciidoc:".adoc"})),P(Ue[0],"ASCIIDOC_EXTENSIONS",I([".adoc",".asciidoc",".asc",".ad",".txt"],{".adoc":!0,".asciidoc":!0,".asc":!0,".ad":!0,".txt":!0})),P(Ue[0],"SETEXT_SECTION_LEVELS",I(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4})),P(Ue[0],"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set()),P(Ue[0],"ADMONITION_STYLE_HEADS",C(ve("Set").$new(),"tap",[],function(p){return p==null&&(p=ge),C(Qe("ADMONITION_STYLES"),"each",[],function(rt){return rt==null&&(rt=ge),p["$<<"](rt.$chr())})})),P(Ue[0],"PARAGRAPH_STYLES",["comment","example","literal","listing","normal","open","pass","quote","sidebar","source","verse","abstract","partintro"].$to_set()),P(Ue[0],"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set()),P(Ue[0],"DELIMITED_BLOCKS",I(["--","----","....","====","****","____","++++","|===",",===",":===","!===","////","```"],{"--":["open",["comment","example","literal","listing","pass","quote","sidebar","source","verse","admonition","abstract","partintro"].$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",ve("Set").$new()],____:["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",ve("Set").$new()],",===":["table",ve("Set").$new()],":===":["table",ve("Set").$new()],"!===":["table",ve("Set").$new()],"////":["comment",ve("Set").$new()],"```":["fenced_code",ve("Set").$new()]})),P(Ue[0],"DELIMITED_BLOCK_HEADS",C(I([],{}),"tap",[],function(p){return p==null&&(p=ge),C(Qe("DELIMITED_BLOCKS"),"each_key",[],function(rt){var z;return rt==null&&(rt=ge),z=[rt.$slice(0,2),!0],C(p,"[]=",z),z[z.length-1]})})),P(Ue[0],"DELIMITED_BLOCK_TAILS",C(I([],{}),"tap",[],function(p){return p==null&&(p=ge),C(Qe("DELIMITED_BLOCKS"),"each_key",[],function(rt){var z;return rt==null&&(rt=ge),ue(rt.$length(),4)?(z=[rt,rt["$[]"](g(rt.$length(),1))],C(p,"[]=",z),z[z.length-1]):ge})})),P(Ue[0],"CAPTION_ATTRIBUTE_NAMES",I(["example","figure","listing","table"],{example:"example-caption",figure:"figure-caption",listing:"listing-caption",table:"table-caption"})),P(Ue[0],"LAYOUT_BREAK_CHARS",I(["'","<"],{"'":"thematic_break","<":"page_break"})),P(Ue[0],"MARKDOWN_THEMATIC_BREAK_CHARS",I(["-","*","_"],{"-":"thematic_break","*":"thematic_break",_:"thematic_break"})),P(Ue[0],"HYBRID_LAYOUT_BREAK_CHARS",Qe("LAYOUT_BREAK_CHARS").$merge(Qe("MARKDOWN_THEMATIC_BREAK_CHARS"))),P(Ue[0],"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]),P(Ue[0],"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]),P(Ue[0],"ORDERED_LIST_KEYWORDS",I(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"})),P(Ue[0],"ATTR_REF_HEAD","{"),P(Ue[0],"LIST_CONTINUATION","+"),P(Ue[0],"HARD_LINE_BREAK"," +"),P(Ue[0],"LINE_CONTINUATION"," \\"),P(Ue[0],"LINE_CONTINUATION_LEGACY"," +"),P(Ue[0],"BLOCK_MATH_DELIMITERS",I(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]})),P(Ue[0],"INLINE_MATH_DELIMITERS",I(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),P(Ue[0],"STEM_TYPE_ALIASES",I(["latexmath","latex","tex"],{latexmath:"latexmath",latex:"latexmath",tex:"latexmath"}))["$default="]("asciimath"),P(Ue[0],"FONT_AWESOME_VERSION","4.7.0"),P(Ue[0],"HIGHLIGHT_JS_VERSION","9.18.3"),P(Ue[0],"MATHJAX_VERSION","2.7.9"),P(Ue[0],"DEFAULT_ATTRIBUTES",I(["appendix-caption","appendix-refsig","caution-caption","chapter-refsig","example-caption","figure-caption","important-caption","last-update-label","note-caption","part-refsig","prewrap","sectids","section-refsig","table-caption","tip-caption","toc-placement","toc-title","untitled-label","version-label","warning-caption"],{"appendix-caption":"Appendix","appendix-refsig":"Appendix","caution-caption":"Caution","chapter-refsig":"Chapter","example-caption":"Example","figure-caption":"Figure","important-caption":"Important","last-update-label":"Last updated","note-caption":"Note","part-refsig":"Part",prewrap:"",sectids:"","section-refsig":"Section","table-caption":"Table","tip-caption":"Tip","toc-placement":"auto","toc-title":"Table of Contents","untitled-label":"Untitled","version-label":"Version","warning-caption":"Warning"})),P(Ue[0],"FLEXIBLE_ATTRIBUTES",["sectnums"]),P(Ue[0],"INTRINSIC_ATTRIBUTES",I(["startsb","endsb","vbar","caret","asterisk","tilde","plus","backslash","backtick","blank","empty","sp","two-colons","two-semicolons","nbsp","deg","zwsp","quot","apos","lsquo","rsquo","ldquo","rdquo","wj","brvbar","pp","cpp","amp","lt","gt"],{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",pp:"&#43;&#43;",cpp:"C&#43;&#43;",amp:"&",lt:"<",gt:">"})),P(Ue[0],"QUOTE_SUBS",C(I([],{}),"tap",[],function(p){var Ve=ge,rt=ge;return p==null&&(p=ge),p["$[]="](!1,Ve=[["strong","unconstrained",Ke(["\\\\?(?:\\[([^\\]]+)\\])?\\*\\*(",Qe("CC_ALL"),"+?)\\*\\*"],"m")],["strong","constrained",Ke(["(^|[^",Qe("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?\\*(\\S|\\S",Qe("CC_ALL"),"*?\\S)\\*(?!",Qe("CG_WORD"),")"],"m")],["double","constrained",Ke(["(^|[^",Qe("CC_WORD"),';:}])(?:\\[([^\\]]+)\\])?"`(\\S|\\S',Qe("CC_ALL"),'*?\\S)`"(?!',Qe("CG_WORD"),")"],"m")],["single","constrained",Ke(["(^|[^",Qe("CC_WORD"),";:`}])(?:\\[([^\\]]+)\\])?'`(\\S|\\S",Qe("CC_ALL"),"*?\\S)`'(?!",Qe("CG_WORD"),")"],"m")],["monospaced","unconstrained",Ke(["\\\\?(?:\\[([^\\]]+)\\])?``(",Qe("CC_ALL"),"+?)``"],"m")],["monospaced","constrained",Ke(["(^|[^",Qe("CC_WORD"),";:\"'`}])(?:\\[([^\\]]+)\\])?`(\\S|\\S",Qe("CC_ALL"),"*?\\S)`(?![",Qe("CC_WORD"),"\"'`])"],"m")],["emphasis","unconstrained",Ke(["\\\\?(?:\\[([^\\]]+)\\])?__(",Qe("CC_ALL"),"+?)__"],"m")],["emphasis","constrained",Ke(["(^|[^",Qe("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?_(\\S|\\S",Qe("CC_ALL"),"*?\\S)_(?!",Qe("CG_WORD"),")"],"m")],["mark","unconstrained",Ke(["\\\\?(?:\\[([^\\]]+)\\])?##(",Qe("CC_ALL"),"+?)##"],"m")],["mark","constrained",Ke(["(^|[^",Qe("CC_WORD"),"&;:}])(?:\\[([^\\]]+)\\])?#(\\S|\\S",Qe("CC_ALL"),"*?\\S)#(?!",Qe("CG_WORD"),")"],"m")],["superscript","unconstrained",/\\?(?:\[([^\]]+)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+)\])?~(\S+?)~/]]),p["$[]="](!0,rt=Ve.$drop(0)),rt["$[]="](2,["double","constrained",Ke(["(^|[^",Qe("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?``(\\S|\\S",Qe("CC_ALL"),"*?\\S)''(?!",Qe("CG_WORD"),")"],"m")]),rt["$[]="](3,["single","constrained",Ke(["(^|[^",Qe("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?`(\\S|\\S",Qe("CC_ALL"),"*?\\S)'(?!",Qe("CG_WORD"),")"],"m")]),rt["$[]="](4,["monospaced","unconstrained",Ke(["\\\\?(?:\\[([^\\]]+)\\])?\\+\\+(",Qe("CC_ALL"),"+?)\\+\\+"],"m")]),rt["$[]="](5,["monospaced","constrained",Ke(["(^|[^",Qe("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?\\+(\\S|\\S",Qe("CC_ALL"),"*?\\S)\\+(?!",Qe("CG_WORD"),")"],"m")]),rt.$insert(3,["emphasis","constrained",Ke(["(^|[^",Qe("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?'(\\S|\\S",Qe("CC_ALL"),"*?\\S)'(?!",Qe("CG_WORD"),")"],"m")])})),P(Ue[0],"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(?: |\n|^|\\)--(?: |\n|$)/,"&#8201;&#8212;&#8201;","none"],[Ke(["(",Qe("CG_WORD"),")\\\\?--(?=",Qe("CG_WORD"),")"]),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","none"],[/\\?`'/,"&#8217;","none"],[Ke(["(",Qe("CG_ALNUM"),")\\\\?'(?=",Qe("CG_ALPHA"),")"]),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z][a-zA-Z]+\d{0,2}|#\d\d\d{0,4}|#x[\da-fA-F][\da-fA-F][\da-fA-F]{0,3});)/,"","bounding"]]),ge}(Ce[0],Ce),oe.$require("asciidoctor.rb/../asciidoctor/core_ext"),oe.$require("asciidoctor.rb/../asciidoctor/helpers"),oe.$require("asciidoctor.rb/../asciidoctor/logging"),oe.$require("asciidoctor.rb/../asciidoctor/rx"),oe.$require("asciidoctor.rb/../asciidoctor/substitutors"),oe.$require("asciidoctor.rb/../asciidoctor/version"),oe.$require("asciidoctor.rb/../asciidoctor/abstract_node"),oe.$require("asciidoctor.rb/../asciidoctor/abstract_block"),oe.$require("asciidoctor.rb/../asciidoctor/attribute_list"),oe.$require("asciidoctor.rb/../asciidoctor/block"),oe.$require("asciidoctor.rb/../asciidoctor/callouts"),oe.$require("asciidoctor.rb/../asciidoctor/converter"),oe.$require("asciidoctor.rb/../asciidoctor/document"),oe.$require("asciidoctor.rb/../asciidoctor/inline"),oe.$require("asciidoctor.rb/../asciidoctor/list"),oe.$require("asciidoctor.rb/../asciidoctor/parser"),oe.$require("asciidoctor.rb/../asciidoctor/path_resolver"),oe.$require("asciidoctor.rb/../asciidoctor/reader"),oe.$require("asciidoctor.rb/../asciidoctor/section"),oe.$require("asciidoctor.rb/../asciidoctor/stylesheets"),oe.$require("asciidoctor.rb/../asciidoctor/table"),oe.$require("asciidoctor.rb/../asciidoctor/writer"),oe.$require("asciidoctor.rb/../asciidoctor/load"),oe.$require("asciidoctor.rb/../asciidoctor/convert"),oe.$require("asciidoctor.rb/../asciidoctor/syntax_highlighter"),oe.$require("asciidoctor.rb/../asciidoctor/timings"),oe.$require("asciidoctor/js/postscript")});let Z=function(e){return e&&!e.$$is_hash?Opal.hash2(Object.keys(e),e):e},Se=function(e){let H={};if(e){let P=e.$$smap;for(let K in P){let c=P[K];H[K]=c===Opal.nil?void 0:c}let C=e.$$map;if(C){let K=[];for(let c in C){let R=C[c],we=R.value,I=R.key-1;K[I]=we===Opal.nil?void 0:we}K.length>0&&(H.$positional=K)}}return H},Me=function(e){let H={};if(e){let P=e.$$keys;for(let C in P){let K=P[C].value;H[C.toString()]=K===Opal.nil?void 0:K}}return H},he=function(e){if(e=Z(e),e){let H=e["$[]"]("converter");H&&H!==Opal.nil&&e["$[]="]("converter",Ze(H));let P=e["$[]"]("attributes");P&&typeof P=="object"&&P.constructor.name==="Object"&&(e=e.$dup(),e["$[]="]("attributes",Z(P)))}return e},Ze=function(e){let H=function(ue){return Object.assign({},ue.basebackend?{basebackend:ue.basebackend}:{},ue.outfilesuffix?{outfilesuffix:ue.outfilesuffix}:{},ue.filetype?{filetype:ue.filetype}:{},ue.htmlsyntax?{htmlsyntax:ue.htmlsyntax}:{},ue.supports_templates?{supports_templates:ue.supports_templates}:{})},P=function(ue,g){ue.backend_traits?g.backend_traits=Z(ue.backend_traits):ue.backendTraits?g.backend_traits=Z(ue.backendTraits):(ue.basebackend||ue.outfilesuffix||ue.filetype||ue.htmlsyntax||ue.supports_templates)&&(g.backend_traits=Z(H(ue)))},C=function(ue,g){we(ue,g,"$handles?","handles",function(){return!0})},K=function(ue,g){we(ue,g,"$composed","composed")},c=function(ue,g){we(ue,g,"$==","==",function(Ke){return g===Ke})},R=function(ue,g){we(ue,g,"$send","send",function(Ke){let[,...oe]=Array.from(arguments),Ce=g["$"+Ke];if(Ce)return Ce.apply(g,oe);throw new Error(`undefined method \`${Ke}\` for \`${g.toString()}\``)})},we=function(ue,g,Ke,oe,Ce){typeof ue[Ke]>"u"&&(typeof ue[oe]=="function"?g[Ke]=ue[oe]:Ce&&(g[Ke]=Ce))},I=function(ue){typeof ue["$respond_to?"]!="function"&&(ue["$respond_to?"]=function(g){return typeof this[g]=="function"})};if(typeof e=="function"){let ue=Re(ot,e.constructor.name,{initialize:function(g,Ke){let oe=this,Ce=new e(g,Ke);Object.assign(this,Ce),P(Ce,oe);let ge=Object.getOwnPropertyNames(e.prototype);for(let ve=0;ve<ge.length;ve++){let st=ge[ve];st!=="constructor"&&(oe[st]=Ce[st])}typeof Ce.$convert>"u"&&typeof Ce.convert=="function"&&(oe.$convert=Ce.convert),C(Ce,oe),K(Ce,oe),I(oe),oe.super(g,Ke)}});return ue.$extend(lt),ue}if(typeof e=="object"){if(typeof e.$convert>"u"&&typeof e.convert=="function"&&(e.$convert=e.convert),P(e,e),e.backend_traits){let ue=["basebackend","filetype","htmlsyntax","outfilesuffix","supports_templates","supports_templates?","init_backend_traits","backend_traits"];for(let g of ue)e["$"+g]=lt.prototype["$"+g];e.$$meta=lt}return C(e,e),K(e,e),c(e,e),R(e,e),I(e),e}return e};function Re(e,H,P,C,K){let c=Opal.klass(Opal.Object,e,H,function(){}),R,we,I,ue={};for(let oe in P)Object.prototype.hasOwnProperty.call(P,oe)&&function(Ce){let ge=P[Ce];if(Ce==="postConstruct")R=ge;else if(Ce==="initialize")we=ge;else if(Ce==="constructor")I=ge;else{C&&Object.prototype.hasOwnProperty.call(C,Ce)&&(ue[Ce]=!0);let ve;Opal.def(c,"$"+Ce,ve=function(){let st;K&&Object.prototype.hasOwnProperty.call(K,Ce)?st=K[Ce](arguments):st=arguments;let Ae=ve.$$p;return Ae&&(st[st.length]=function(){return Opal.yield1(Ae)},st.length+=1,ve.$$p=null),ge.apply(this,st)})}}(oe);let g;typeof I=="function"?g=function(){let oe=Array.from(arguments);for(let ge=0;ge<oe.length;ge++)typeof oe[ge]=="object"&&"$$smap"in oe[ge]&&(oe[ge]=Se(oe[ge]));oe.unshift(null);let Ce=new(Function.prototype.bind.apply(I,oe));Object.assign(this,Ce),typeof R=="function"&&R.bind(this)()}:typeof we=="function"?g=function(){let oe=Array.from(arguments);for(let Ce=0;Ce<oe.length;Ce++)typeof oe[Ce]=="object"&&"$$smap"in oe[Ce]&&(oe[Ce]=Se(oe[Ce]));we.apply(this,oe),typeof R=="function"&&R.bind(this)()}:g=function(){Opal.send(this,Opal.find_super_dispatcher(this,"initialize",g)),typeof R=="function"&&R.bind(this)()},Opal.def(c,"$initialize",g);let Ke;Opal.def(c,"super",Ke=function(oe){if(typeof oe=="function")Opal.send(this,Opal.find_super_dispatcher(this,oe.name,oe));else{let Ce=Array.from(arguments);for(let ge=0;ge<Ce.length;ge++)typeof Ce[ge]=="object"&&(Ce[ge]=Z(Ce[ge]));Opal.send(this,Opal.find_super_dispatcher(this,"initialize",g),Ce)}});for(let oe in P)Ke[oe]=function(){let Ce=Array.from(arguments);for(let ve=0;ve<Ce.length;ve++)typeof Ce[ve]=="object"&&typeof Ce[ve].constructor=="function"&&Ce[ve].constructor.name==="Object"&&(Ce[ve]=Z(Ce[ve]));let ge=c.$$prototype;return Opal.send(ge,Opal.find_super_dispatcher(ge,oe,ge[`$${oe}`]),Ce)};if(C)for(let oe in C)Object.prototype.hasOwnProperty.call(C,oe)&&!Object.prototype.hasOwnProperty.call(ue,oe)&&function(Ce){let ge=C[Ce];Opal.def(c,"$"+Ce,function(){return ge.apply(this,arguments)})}(oe);return c}let Le=Opal.Asciidoctor.$$class;Le.prototype.getCoreVersion=function(){return this.$$const.VERSION},Le.prototype.getRuntime=function(){return{ioModule:Opal.const_get_qualified("::","JAVASCRIPT_IO_MODULE"),platform:Opal.const_get_qualified("::","JAVASCRIPT_PLATFORM"),engine:Opal.const_get_qualified("::","JAVASCRIPT_ENGINE"),framework:Opal.const_get_qualified("::","JAVASCRIPT_FRAMEWORK")}},Le.prototype.convert=function(e,H){typeof e=="object"&&e.constructor.name==="Buffer"&&(e=e.toString("utf8"));let P=H&&H.to_file;typeof P=="object"&&P.constructor.name==="Writable"&&typeof P.write=="function"&&(P["$respond_to?"]=c=>c==="write",P.$object_id=()=>"",P.$write=function(c){this.write(c)});let C=he(H),K=this.$convert(e,C);return typeof P=="object"&&P.constructor.name==="Writable"&&typeof P.end=="function"&&P.end(),K===Opal.nil?"":K},Le.prototype.convertFile=function(e,H){return this.$convert_file(e,he(H))},Le.prototype.load=function(e,H){return typeof e=="object"&&e.constructor.name==="Buffer"&&(e=e.toString("utf8")),this.$load(e,he(H))},Le.prototype.loadFile=function(e,H){return this.$load_file(e,he(H))};let ye=Opal.Asciidoctor.AbstractBlock;ye.prototype.getContentModel=function(){let e=this.content_model;return e===Opal.nil?void 0:e},ye.prototype.setContentModel=function(e){this.content_model=e},ye.prototype.append=function(e){return this.$append(e),this},ye.prototype.getTitle=function(){let e=this.$title();return e===Opal.nil?void 0:e},ye.prototype.setTitle=function(e){return e=typeof e>"u"?Opal.nil:e,this["$title="](e)},ye.prototype.assignCaption=function(e,H){e=typeof e>"u"?Opal.nil:e,H=typeof H>"u"?null:H,this.$assign_caption(e,H)},ye.prototype.getCaptionedTitle=function(){return this.$captioned_title()},ye.prototype.getStyle=function(){let e=this.style;return e===Opal.nil?void 0:e},ye.prototype.setStyle=function(e){this.style=e},ye.prototype.getSourceLocation=function(){let e=this.source_location;if(e!==Opal.nil)return e.getFile=function(){let H=this.file;return H===Opal.nil?void 0:H},e.getDirectory=function(){let H=this.dir;return H===Opal.nil?void 0:H},e.getPath=function(){let H=this.path;return H===Opal.nil?void 0:H},e.getLineNumber=function(){let H=this.lineno;return H===Opal.nil?void 0:H},e},ye.prototype.getCaption=function(){let e=this.$caption();return e===Opal.nil?void 0:e},ye.prototype.setCaption=function(e){this.caption=typeof e>"u"?Opal.nil:e},ye.prototype.getLevel=function(){let e=this.level;return e===Opal.nil?void 0:e},ye.prototype.getSubstitutions=function(){return this.subs},ye.prototype.hasSubstitution=function(e){return this["$sub?"](e)},ye.prototype.removeSubstitution=function(e){this.$remove_sub(e)},ye.prototype.hasBlocks=function(){return this.blocks.length>0},ye.prototype.getBlocks=function(){return this.blocks},ye.prototype.getContent=function(){let e=this.$content();return e===Opal.nil?void 0:e},ye.prototype.convert=function(){return this.$convert()},ye.prototype.findBy=function(e,H){return typeof H>"u"&&typeof e=="function"?Opal.send(this,"find_by",null,e):typeof H=="function"?Opal.send(this,"find_by",[Z(e)],H):this.$find_by(Z(e))},ye.prototype.getLineNumber=function(){let e=this.$lineno();return e===Opal.nil?void 0:e},ye.prototype.hasSections=function(){return this.next_section_index!==Opal.nil&&this.next_section_index>0},ye.prototype.getSections=function(){return this.$sections()},ye.prototype.getNumeral=function(){let e=this.$numeral();return e===Opal.nil?void 0:e},ye.prototype.setNumeral=function(e){this["$numeral="](e)},ye.prototype.hasTitle=function(){return this["$title?"]()},ye.prototype.getAlt=function(){return this.$alt()};let G=Opal.Asciidoctor.Section;G.create=function(e,H,P,C){return C&&C.attributes&&(C.attributes=Z(C.attributes)),this.$new(e,H,P,Z(C))},G.prototype.setLevel=function(e){this.level=e},G.prototype.getIndex=function(){return this.index},G.prototype.setIndex=function(e){this.index=e},G.prototype.getSectionName=function(){let e=this.sectname;return e===Opal.nil?void 0:e},G.prototype.setSectionName=function(e){this.sectname=e},G.prototype.getSectionNumeral=function(){return this.$sectnum()},G.prototype.getSectionNumber=G.prototype.getSectionNumeral,G.prototype.isSpecial=function(){return this.special},G.prototype.setSpecial=function(e){this.special=e},G.prototype.isNumbered=function(){return this.numbered},G.prototype.getCaption=function(){let e=this.caption;return e===Opal.nil?void 0:e},G.prototype.getName=function(){return this.getTitle()};let De=Opal.Asciidoctor.Block;De.create=function(e,H,P){return P&&P.attributes&&(P.attributes=Z(P.attributes)),this.$new(e,H,Z(P))},De.prototype.getSource=function(){return this.$source()},De.prototype.getSourceLines=function(){return this.lines};let Pe=Opal.Asciidoctor.AbstractNode;Pe.prototype.applySubstitutions=function(e,H){return this.$apply_subs(e,H)},Pe.prototype.resolveSubstitutions=function(e,H,P,C){typeof H>"u"&&(H="block"),typeof P>"u"&&(P=Opal.nil),typeof C>"u"&&(C=Opal.nil);let K=this.$resolve_subs(e,H,P,C);return K===Opal.nil?void 0:K},Pe.prototype.resolveBlockSubstitutions=function(e,H,P){return this.resolveSubstitutions(e,"block",H,P)},Pe.prototype.resolvePassSubstitutions=function(e){return this.resolveSubstitutions(e,"inline",void 0,"passthrough macro")},Pe.prototype.getNodeName=function(){return this.node_name},Pe.prototype.getAttributes=function(){return Se(this.attributes)},Pe.prototype.getAttribute=function(e,H,P){let C=this.$attr(e,H,P);return C===Opal.nil?void 0:C},Pe.prototype.hasAttribute=function(e){return e in this.attributes.$$smap},Pe.prototype.isAttribute=function(e,H,P){return this["$attr?"](e,H,P)},Pe.prototype.setAttribute=function(e,H,P){return typeof P>"u"&&(P=!0),this.$set_attr(e,H,P)},Pe.prototype.removeAttribute=function(e){let H=this.$remove_attr(e);return H===Opal.nil?void 0:H},Pe.prototype.getDocument=function(){return this.document},Pe.prototype.getParent=function(){let e=this.parent;return e===Opal.nil?void 0:e},Pe.prototype.isInline=function(){return this["$inline?"]()},Pe.prototype.isBlock=function(){return this["$block?"]()},Pe.prototype.isRole=function(e){return this["$role?"](e)},Pe.prototype.getRole=function(){let e=this.$role();return e===Opal.nil?void 0:e},Pe.prototype.setRole=function(e){return Array.isArray(e)||typeof e=="string"&&arguments.length===1?this["$role="](e):this["$role="](Array.from(arguments))},Pe.prototype.hasRole=function(e){return this["$has_role?"](e)},Pe.prototype.getRoles=function(){return this.$roles()},Pe.prototype.addRole=function(e){return this.$add_role(e)},Pe.prototype.removeRole=function(e){return this.$remove_role(e)},Pe.prototype.isReftext=function(){return this["$reftext?"]()},Pe.prototype.getReftext=function(){let e=this.$reftext();return e===Opal.nil?void 0:e},Pe.prototype.getContext=function(){let e=this.context;return typeof e=="string"?e:e.toString()},Pe.prototype.getId=function(){let e=this.id;return e===Opal.nil?void 0:e},Pe.prototype.setId=function(e){this.id=e},Pe.prototype.isOption=function(e){return this["$option?"](e)},Pe.prototype.setOption=function(e){return this.$set_option(e)},Pe.prototype.getIconUri=function(e){return this.$icon_uri(e)},Pe.prototype.getMediaUri=function(e,H){return this.$media_uri(e,H)},Pe.prototype.getImageUri=function(e,H){return this.$image_uri(e,H)},Pe.prototype.getConverter=function(){return this.$converter()},Pe.prototype.readContents=function(e,H){return this.$read_contents(e,Z(H))},Pe.prototype.readAsset=function(e,H){let P=this.$read_asset(e,Z(H));return P===Opal.nil?void 0:P},Pe.prototype.normalizeWebPath=function(e,H,P){return this.$normalize_web_path(e,H,P)},Pe.prototype.normalizeSystemPath=function(e,H,P,C){return this.$normalize_system_path(e,H,P,Z(C))},Pe.prototype.normalizeAssetPath=function(e,H,P){return this.$normalize_asset_path(e,H,P)};let Ie=Opal.Asciidoctor.Document;Ie.prototype.append=function(e){return this["$<<"](e),this},Ie.prototype.getSyntaxHighlighter=function(){let e=this.syntax_highlighter,H=e.__proto__;return H&&(typeof H["$highlight?"]=="function"&&(H.handlesHighlighting=function(){let P=H["$highlight?"]();return P===Opal.nil?!1:P}),typeof H["$docinfo?"]=="function"&&(H.hasDocinfo=H["$docinfo?"]),typeof H.$format=="function"&&(H.format=function(P,C,K){return this.$format(P,C,Z(K))}),typeof H.$docinfo=="function"&&(H.docinfo=function(P,C,K){return this.$docinfo(P,C,Z(K))})),e},Ie.prototype.getRefs=function(){return Se(this.catalog.$$smap.refs)},Ie.prototype.getImages=function(){return this.catalog.$$smap.images},Ie.prototype.getLinks=function(){return this.catalog.$$smap.links},Ie.prototype.hasFootnotes=function(){return this["$footnotes?"]()},Ie.prototype.getFootnotes=function(){return this.$footnotes()},Ie.prototype.getHeader=function(){return this.header},Ie.prototype.setAttribute=function(e,H){return this.$set_attribute(e,H)},Ie.prototype.removeAttribute=function(e){this.attributes.$delete(e),this.attribute_overrides.$delete(e)},Ie.prototype.convert=function(e){let H=this.$convert(Z(e));return H===Opal.nil?"":H},Ie.prototype.write=function(e,H){return this.$write(e,H)},Ie.prototype.getAuthor=function(){return this.$author()},Ie.prototype.getSource=function(){return this.$source()},Ie.prototype.getSourceLines=function(){return this.$source_lines()},Ie.prototype.isNested=function(){return this["$nested?"]()},Ie.prototype.isEmbedded=function(){return this["$embedded?"]()},Ie.prototype.hasExtensions=function(){return this["$extensions?"]()},Ie.prototype.getDoctype=function(){return this.doctype},Ie.prototype.getBackend=function(){return this.backend},Ie.prototype.isBasebackend=function(e){return this["$basebackend?"](e)},Ie.prototype.getTitle=function(){let e=this.$title();return e===Opal.nil?void 0:e},Ie.prototype.setTitle=function(e){return this["$title="](e)},Ie.prototype.getDocumentTitle=function(e){let H=this.$doctitle(Z(e));return H===Opal.nil?void 0:H},Ie.prototype.getDoctitle=Ie.prototype.getDocumentTitle,Ie.prototype.getCatalog=function(){return Se(this.catalog)},Ie.prototype.getReferences=Ie.prototype.getCatalog,Ie.prototype.getRevisionDate=function(){return this.getAttribute("revdate")},Ie.prototype.getRevdate=function(){return this.getRevisionDate()},Ie.prototype.getRevisionNumber=function(){return this.getAttribute("revnumber")},Ie.prototype.getRevisionRemark=function(){return this.getAttribute("revremark")},Ie.prototype.setHeaderAttribute=function(e,H,P){return typeof P>"u"&&(P=!0),typeof H>"u"&&(H=""),this.$set_header_attribute(e,H,P)},Ie.prototype.getAuthors=function(){return this.$authors()};let je=Ie.Footnote;je.prototype.getIndex=function(){let e=this.$$data.index;return e===Opal.nil?void 0:e},je.prototype.getId=function(){let e=this.$$data.id;return e===Opal.nil?void 0:e},je.prototype.getText=function(){let e=this.$$data.text;return e===Opal.nil?void 0:e};let Ge=Ie.ImageReference;Ge.prototype.getTarget=function(){return this.$$data.target},Ge.prototype.getImagesDirectory=function(){let e=this.$$data.imagesdir;return e===Opal.nil?void 0:e};let Te=Ie.Author;Te.prototype.getName=function(){let e=this.$$data.name;return e===Opal.nil?void 0:e},Te.prototype.getFirstName=function(){let e=this.$$data.firstname;return e===Opal.nil?void 0:e},Te.prototype.getMiddleName=function(){let e=this.$$data.middlename;return e===Opal.nil?void 0:e},Te.prototype.getLastName=function(){let e=this.$$data.lastname;return e===Opal.nil?void 0:e},Te.prototype.getInitials=function(){let e=this.$$data.initials;return e===Opal.nil?void 0:e},Te.prototype.getEmail=function(){let e=this.$$data.email;return e===Opal.nil?void 0:e},Ie.RevisionInfo=function(e,H,P){this.date=e,this.number=H,this.remark=P};let se=Ie.RevisionInfo;se.prototype.getDate=function(){return this.date},se.prototype.getNumber=function(){return this.number},se.prototype.getRemark=function(){return this.remark},se.prototype.isEmpty=function(){return this.date===void 0&&this.number===void 0&&this.remark===void 0};let qe=Opal.Asciidoctor.SafeMode;qe.getValueForName=function(e){return this.$value_for_name(e)},qe.getNameForValue=function(e){let H=this.$name_for_value(e);return H===Opal.nil?void 0:H},qe.getNames=function(){return this.$names()};let We=Opal.Asciidoctor.Callouts;We.create=function(){return this.$new()},We.prototype.register=function(e){return this.$register(e)},We.prototype.readNextId=function(){return this.$read_next_id()},We.prototype.getCalloutIds=function(e){return this.$callout_ids(e)},We.prototype.getLists=function(){let e=this.lists;if(e&&e.length>0)for(let H=0;H<e.length;H++){let P=e[H];if(P&&P.length>0)for(let C=0;C<P.length;C++)typeof P[C]=="object"&&"$$smap"in P[C]&&(P[C]=Se(P[C]))}return e},We.prototype.getListIndex=function(){return this.list_index},We.prototype.getCurrentList=function(){let e=this.$current_list();if(e&&e.length>0)for(let H=0;H<e.length;H++)typeof e[H]=="object"&&"$$smap"in e[H]&&(e[H]=Se(e[H]));return e},We.prototype.nextList=function(){return this.$nextList()},We.prototype.rewind=function(){return this.$rewind()},Ie.prototype.getRevisionInfo=function(){return new Ie.RevisionInfo(this.getRevisionDate(),this.getRevisionNumber(),this.getRevisionRemark())},Ie.prototype.hasRevisionInfo=function(){return!this.getRevisionInfo().isEmpty()},Ie.prototype.getNotitle=function(){return this.$notitle()},Ie.prototype.getNoheader=function(){return this.$noheader()},Ie.prototype.getNofooter=function(){return this.$nofooter()},Ie.prototype.hasHeader=function(){return this["$header?"]()},Ie.prototype.playbackAttributes=function(e){if(e=Z(e),e){let H=e["$[]"]("attribute_entries");if(H&&Array.isArray(H)){let P=[];for(let C=0;C<H.length;C++){let K=H[C];K&&typeof K=="object"&&K.constructor.name==="Object"&&(K.$name=function(){return this.name},K.$value=function(){return this.value},K.$negate=function(){return this.negate}),P.push(K)}e["$[]="]("attribute_entries",P)}}this.$playback_attributes(e)},Ie.prototype.deleteAttribute=function(e){return this.$delete_attribute(e)},Ie.prototype.isAttributeLocked=function(e){return this["$attribute_locked?"](e)},Ie.prototype.restoreAttributes=function(){return this.$restore_attributes()},Ie.prototype.parse=function(e){return this.$parse(e)},Ie.prototype.getDocinfo=function(e,H){return this.$docinfo(e,H)},Ie.prototype.hasDocinfoProcessors=function(e){return this["$docinfo_processors?"](e)},Ie.prototype.incrementAndStoreCounter=function(e,H){return this.$increment_and_store_counter(e,H)},Ie.prototype.counterIncrement=Ie.prototype.incrementAndStoreCounter,Ie.prototype.counter=function(e,H){return this.$counter(e,H)},Ie.prototype.getSafe=function(){return this.safe},Ie.prototype.getCompatMode=function(){return this.compat_mode},Ie.prototype.getSourcemap=function(){let e=this.sourcemap;return e===Opal.nil?!1:e},Ie.prototype.setSourcemap=function(e){this.sourcemap=e},Ie.prototype.getCounters=function(){return Se(this.counters)},Ie.prototype.getCallouts=function(){return this.$callouts()},Ie.prototype.getBaseDir=function(){return this.base_dir},Ie.prototype.getOptions=function(){return Se(this.options)},Ie.prototype.getOutfilesuffix=function(){return this.outfilesuffix},Ie.prototype.getParentDocument=function(){let e=this.parent_document;return e===Opal.nil?void 0:e},Ie.prototype.getReader=function(){return this.reader},Ie.prototype.getConverter=function(){return this.converter},Ie.prototype.getExtensions=function(){let e=this.extensions;return e===Opal.nil?void 0:e};let Fe=Ie.Title;Fe.prototype.getMain=function(){return this.main},Fe.prototype.getCombined=function(){return this.combined},Fe.prototype.getSubtitle=function(){let e=this.subtitle;return e===Opal.nil?void 0:e},Fe.prototype.isSanitized=function(){let e=this["$sanitized?"]();return e===Opal.nil?!1:e},Fe.prototype.hasSubtitle=function(){return this["$subtitle?"]()};let xe=Opal.Asciidoctor.Inline;xe.create=function(e,H,P,C){return this.$new(e,H,P,he(C))},xe.prototype.convert=function(){return this.$convert()},xe.prototype.getText=function(){let e=this.$text();return e===Opal.nil?void 0:e},xe.prototype.getType=function(){return this.$type()},xe.prototype.getTarget=function(){let e=this.$target();return e===Opal.nil?void 0:e},xe.prototype.getAlt=function(){return this.$alt()};let fe=Opal.Asciidoctor.List;fe.prototype.hasItems=function(){return this["$items?"]()},fe.prototype.getItems=function(){return this.blocks};let _e=Opal.Asciidoctor.ListItem;_e.prototype.getText=function(){return this.$text()},_e.prototype.setText=function(e){return this["$text="](e)},_e.prototype.hasText=function(){return this["$text?"]()},_e.prototype.getMarker=function(){return this.marker},_e.prototype.setMarker=function(e){this.marker=e},_e.prototype.getList=function(){return this.$list()},_e.prototype.getParent=_e.prototype.getList;let $e=Opal.Asciidoctor.Reader;$e.prototype.pushInclude=function(e,H,P,C,K){return this.$push_include(e,H,P,C,Z(K))},$e.prototype.getCursor=function(){return this.$cursor()},$e.prototype.getLines=function(){return this.$lines()},$e.prototype.getString=function(){return this.$string()},$e.prototype.hasMoreLines=function(){return this["$has_more_lines?"]()},$e.prototype.isEmpty=function(){return this["$empty?"]()},$e.prototype.peekLine=function(e){e=e||!1;let H=this.$peek_line(e);return H===Opal.nil?void 0:H},$e.prototype.readLine=function(){let e=this.$read_line();return e===Opal.nil?void 0:e},$e.prototype.readLines=function(){return this.$read_lines()},$e.prototype.read=function(){return this.$read()},$e.prototype.advance=function(){return this.$advance()};let Ee=Opal.Asciidoctor.Reader.Cursor;Ee.prototype.getFile=function(){let e=this.file;return e===Opal.nil?void 0:e},Ee.prototype.getDirectory=function(){let e=this.dir;return e===Opal.nil?void 0:e},Ee.prototype.getPath=function(){let e=this.path;return e===Opal.nil?void 0:e},Ee.prototype.getLineNumber=function(){return this.lineno};function te(e,H){let P=Opal.const_get_qualified(Opal.Logger,"Formatter");return Re(P,e,H,{},{call:function(C){for(let K=0;K<C.length;K++)typeof C[K]=="object"&&"$$smap"in C[K]&&(C[K]=Se(C[K]));return C}})}function me(e,H){let P=Opal.const_get_qualified(Opal.Asciidoctor,"Logger");return Re(P,e,H,{},{add:function(C){if(C.length>=2&&typeof C[2]=="object"&&"$$smap"in C[2]){let K=C[2],c=Se(K);c.getText=function(){return this.text},c.getSourceLocation=function(){return this.source_location},c.$inspect=function(){let R=this.getSourceLocation();return R?R.getPath()+": line "+R.getLineNumber()+": "+this.getText():this.getText()},C[2]=c}return C.length>=1&&(C[1]=C[1]===Opal.nil?void 0:C[1]),C}})}let X=Opal.const_get_qualified(Opal.Asciidoctor,"LoggerManager",!0);Opal.Asciidoctor.LoggerManager=X,X.getLogger=function(){return this.$logger()},X.setLogger=function(e){this["$logger="](e)},X.newLogger=function(e,H){return me(e,H).$new()},X.newFormatter=function(e,H){return te(e,H).$new()};let m=Opal.const_get_qualified(Opal.Logger,"Severity",!0);Opal.Asciidoctor.LoggerSeverity=m,m.get=function(e){return m.$constants()[e]};let ae=Opal.const_get_qualified(Opal.Logger,"Formatter",!0);Opal.Asciidoctor.LoggerFormatter=ae,ae.prototype.call=function(e,H,P,C){return this.$call(m.get(e),H,P,C)};let q=Opal.const_get_qualified(Opal.Asciidoctor,"MemoryLogger",!0);Opal.Asciidoctor.MemoryLogger=q,q.create=function(){return this.$new()},q.prototype.getMessages=function(){let e=this.messages,H=[];for(let P=0;P<e.length;P++){let C=e[P],K=Se(C);typeof K.message=="string"?K.getText=function(){return this.message}:(K.message=Se(K.message),K.getText=function(){return this.message.text}),K.getSeverity=function(){return this.severity.toString()},K.getSourceLocation=function(){return this.message.source_location},H.push(K)}return H};let J=Opal.const_get_qualified(Opal.Asciidoctor,"Logging",!0);Opal.Asciidoctor.Logging=J,J.getLogger=function(){return X.$logger()},J.createLogMessage=function(e,H){return J.prototype.$message_with_context(e,Z(H))},$e.prototype.getLogger=J.getLogger,$e.prototype.createLogMessage=J.createLogMessage,Pe.prototype.getLogger=J.getLogger,Pe.prototype.createLogMessage=J.createLogMessage;let N=Opal.const_get_qualified(Opal.Asciidoctor,"Logger",!0);Opal.Asciidoctor.Logger=N,N.prototype.getMaxSeverity=function(){let e=this.max_severity;return e===Opal.nil?void 0:e},N.prototype.getFormatter=function(){return this.formatter},N.prototype.setFormatter=function(e){this.formatter=e},N.prototype.getLevel=function(){return this.level},N.prototype.setLevel=function(e){this.level=e},N.prototype.getProgramName=function(){return this.progname},N.prototype.setProgramName=function(e){this.progname=e};let ze=Opal.const_get_qualified("::","Logger"),re=function(e,H,P){e["$"+H](P)};ze.prototype.add=function(e,H,P){let C=typeof e=="string"?m[e.toUpperCase()]:e;this.$add(C,H,P)},ze.prototype.log=ze.prototype.add,ze.prototype.debug=function(e){re(this,"debug",e)},ze.prototype.info=function(e){re(this,"info",e)},ze.prototype.warn=function(e){re(this,"warn",e)},ze.prototype.error=function(e){re(this,"error",e)},ze.prototype.fatal=function(e){re(this,"fatal",e)},ze.prototype.isDebugEnabled=function(){return this["$debug?"]()},ze.prototype.isInfoEnabled=function(){return this["$info?"]()},ze.prototype.isWarnEnabled=function(){return this["$warn?"]()},ze.prototype.isErrorEnabled=function(){return this["$error?"]()},ze.prototype.isFatalEnabled=function(){return this["$fatal?"]()};let D=Opal.const_get_qualified(Opal.Asciidoctor,"NullLogger",!0);Opal.Asciidoctor.NullLogger=D,D.create=function(){return this.$new()},D.prototype.getMaxSeverity=function(){return this.max_severity},Opal.Asciidoctor.StopIteration=Opal.StopIteration;let d=Opal.const_get_qualified(Opal.Asciidoctor,"Timings",!0);Opal.Asciidoctor.Timings=d,d.create=function(){return this.$new()},d.prototype.printReport=function(e,H){let P;if(e)if(typeof e.$add=="function")P=function(C){e.$add(1,C)};else if(typeof e.log=="function")P=e.log;else if(typeof e.write=="function")P=function(C){e.write(C,"utf-8")};else throw new Error("The output should be a Stream (with a write function), an object with a log function or a Ruby Logger (with a add function)");else P=function(C){Opal.gvars.stdout.$write(C)};H&&P("Input file: "+H),P(" Time to read and parse source: "+this.$read_parse().toFixed(2)),P(" Time to convert document: "+this.$convert().toFixed(2)),P(" Total time (read, parse and convert): "+this.$read_parse_convert().toFixed(2))};let n=Opal.const_get_qualified(Opal.Asciidoctor,"SyntaxHighlighter",!0);Opal.Asciidoctor.SyntaxHighlighter=n,n.register=function(e,H){let P=typeof e=="string"?e:e[0];if(typeof H=="function"){let c=H.prototype,R=Object.getOwnPropertyNames(c);H={};for(let we in R){let I=R[we];H[I]=c[I]}}let C=Re(r,P,H,{},{format:function(K){return K.length>=2&&typeof K[2]=="object"&&"$$smap"in K[2]&&(K[2]=Se(K[2])),K.length>=1&&(K[1]=K[1]===Opal.nil?void 0:K[1]),K},highlight:function(K){if(K.length>=3&&typeof K[3]=="object"&&"$$smap"in K[3]){let c=K[3];c=Se(c);for(let R in c){let we=c[R];if(R==="callouts"){let I=Me(we);for(let ue in I){let g=I[ue];for(let Ke=0;Ke<g.length;Ke++){let oe=g[Ke];for(let Ce=0;Ce<oe.length;Ce++)oe[Ce]=oe[Ce]===Opal.nil?void 0:oe[Ce]}}c[R]=I}else c[R]=we===Opal.nil?void 0:we}K[3]=c}return K.length>=2&&(K[2]=K[2]===Opal.nil?void 0:K[2]),K}});for(let K in H)Object.prototype.hasOwnProperty.call(H,K)&&function(c){let R=H[c];c==="handlesHighlighting"?Opal.def(C,"$highlight?",function(){return R.call()}):c==="hasDocinfo"&&Opal.def(C,"$docinfo?",function(we){return R.apply(this,[we])})}(K);return Opal.def(C,"$name",function(){return P}),n.$register(C,e),C},n.get=function(e){let H=n.$for(e);return H===Opal.nil?void 0:H},n.for=n.get;let r=Opal.const_get_qualified(n,"Base",!0);Opal.Asciidoctor.SyntaxHighlighterBase=r,r.prototype.registerFor=function(e){n.$register(this,e)};let s=Opal.Asciidoctor.Table;s.create=function(e,H){return this.$new(e,Z(H))},s.prototype.getCaption=function(){return this.caption},s.prototype.getRows=function(){return this.rows},s.prototype.getColumns=function(){return this.columns},s.prototype.getHeadRows=function(){return this.rows.head},s.prototype.hasHeadRows=function(){return this.rows!==Opal.nil&&this.rows.head.length>0},s.prototype.getBodyRows=function(){return this.rows.body},s.prototype.hasBodyRows=function(){return this.rows!==Opal.nil&&this.rows.body.length>0},s.prototype.getFootRows=function(){return this.rows.foot},s.prototype.hasFootRows=function(){return this.rows!==Opal.nil&&this.rows.foot.length>0},s.prototype.hasHeaderOption=function(){return this.has_header_option},s.prototype.hasFooterOption=function(){return this.isOption("footer")},s.prototype.hasAutowidthOption=function(){return this.isOption("autowidth")},s.prototype.getRowCount=function(){return this.getAttribute("rowcount")},s.prototype.setRowCount=function(e){this.setAttribute("rowcount",e)},s.prototype.getColumnCount=function(){return this.getAttribute("colcount")},s.prototype.setColumnCount=function(e){this.setAttribute("colcount",e)};let i=Opal.Asciidoctor.Table.Rows;i.create=function(e,H,P){return this.$new(e,H,P)},i.prototype.getHead=function(){return this.head},i.prototype.getFoot=function(){return this.foot},i.prototype.getBody=function(){return this.body},i.prototype.bySection=function(){return[["head",this.head],["body",this.body],["foot",this.foot]]};let $=Opal.Asciidoctor.Table.Column;$.create=function(e,H,P){return this.$new(e,H,Z(P))},$.prototype.getColumnNumber=function(){return this.getAttribute("colnumber")},$.prototype.getWidth=function(){return this.getAttribute("width")},$.prototype.getHorizontalAlign=function(){return this.getAttribute("halign")},$.prototype.getVerticalAlign=function(){return this.getAttribute("valign")},$.prototype.getStyle=function(){let e=this.style;return e===Opal.nil?void 0:e};let h=Opal.Asciidoctor.Table.Cell;h.create=function(e,H,P,C){return this.$new(e,H,Z(P),Z(C))},h.prototype.getColumnSpan=function(){let e=this.colspan;return e===Opal.nil?void 0:e},h.prototype.setColumnSpan=function(e){return this["$colspan="](e)},h.prototype.getRowSpan=function(){let e=this.rowspan;return e===Opal.nil?void 0:e},h.prototype.setRowSpan=function(e){return this["$rowspan="](e)},h.prototype.getContent=function(){return this.$content()},h.prototype.getText=function(){return this.$text()},h.prototype.getSource=function(){return this.$source()},h.prototype.getLines=function(){return this.$lines()},h.prototype.getLineNumber=function(){let e=this.$lineno();return e===Opal.nil?void 0:e},h.prototype.getFile=function(){let e=this.$file();return e===Opal.nil?void 0:e},h.prototype.getStyle=function(){let e=this.$style();return e===Opal.nil?void 0:e},h.prototype.getColumn=function(){let e=this.$column();return e===Opal.nil?void 0:e},h.prototype.getWidth=function(){return this.getAttribute("width")},h.prototype.getColumnPercentageWidth=function(){return this.getAttribute("colpcwidth")},h.prototype.getInnerDocument=function(){let e=this.inner_document;return e===Opal.nil?void 0:e};let b=Opal.Asciidoctor.Converter.TemplateConverter;if(b){Opal.Asciidoctor.TemplateConverter=b,b.create=function(H,P,C){C&&C.template_cache&&(C.template_cache=Z(C.template_cache)),this.$new(H,P,Z(C))},b.getCache=function(){let H=Se(this.caches);if(H){if(H.scans){H.scans=Se(H.scans);for(let P in H.scans)H.scans[P]=Se(H.scans[P])}H.templates&&(H.templates=Se(H.templates))}return H},b.clearCache=function(){this.$clear_caches()},b.prototype.convert=function(H,P,C){return this.$convert(H,P,Z(C))},b.prototype.handles=function(H){return this["$handles?"](H)},b.prototype.getContentOnly=function(H){return this.$content_only(H)},b.prototype.skip=function(H){this.$skip(H)},b.prototype.getTemplates=function(){return Se(this.$templates())},b.prototype.register=function(H,P){return this.$register(H,P)};let e={};e.registry={},Opal.Asciidoctor.TemplateEngine=e,e.register=function(H,P){if(typeof H=="string")this.registry[H]=P;else for(let C=0;C<H.length;C++){let K=H[C];this.registry[K]=P}}}let B=Opal.Asciidoctor.Converter.CompositeConverter;B&&(Opal.Asciidoctor.CompositeConverter=B,B.prototype.convert=function(e,H,P){return this.$convert(e,H,Z(P))},B.prototype.getContentOnly=function(e){return this.$content_only(e)},B.prototype.skip=function(e){this.$skip(e)},B.prototype.getConverters=function(){return this.converters},B.prototype.getConverter=function(e){let H=this.$converter_for(e);return H===Opal.nil?void 0:H},B.prototype.findConverter=function(e){return this.$find_converter(e)});let pe=Opal.const_get_qualified(Opal.Asciidoctor,"Converter");Opal.Asciidoctor.Converter=pe,pe.prototype.convert=function(e,H,P){return this.$convert(e,H,Z(P))},pe.create=function(e,H){return this.$create(e,Z(H))};let Oe=Opal.Asciidoctor.Converter.Factory,ot=Opal.Asciidoctor.Converter.Base;Opal.Asciidoctor.ConverterFactory=Oe;let lt=Opal.Asciidoctor.Converter.BackendTraits;Opal.Asciidoctor.ConverterBackendTraits=lt,Oe.register=function(e,H){let P=[Ze(e)].concat(H);return pe.$register.apply(pe,P)},Oe.getDefault=function(e){return this.$default(e)},Oe.prototype.create=function(e,H){return this.$create(e,Z(H))},Oe.getRegistry=function(){return Se(pe.$registry())},Oe.for=function(e){let H=pe.$for(e);return H===Opal.nil?void 0:H},Oe.unregisterAll=function(){let e=pe.DefaultFactory.$$cvars["@@registry"];pe.DefaultFactory.$$cvars["@@registry"]=Z({html5:e["$[]"]("html5")})};let pt=Opal.Asciidoctor.Converter.Html5Converter;Opal.Asciidoctor.Html5Converter=pt,pt.create=function(){return this.$new()},pt.prototype.convert=function(e,H,P){return this.$convert(e,H,P)};let dt=function(e){return e.$$arity=e.length,e},bt=function(e,H,P,C){return typeof P=="object"||P.$$is_class?e["$"+H](P,C):Opal.send(e,H,C&&[C],dt(P))},ht=Opal.const_get_qualified(Opal.Asciidoctor,"Extensions");Opal.Asciidoctor.Extensions=ht,ht.create=function(e,H){return typeof e=="function"&&typeof H>"u"?Opal.send(this,"create",null,dt(e)):typeof H=="function"?Opal.send(this,"create",[e],dt(H)):this.$create()},ht.register=function(e,H){return typeof e=="function"&&typeof H>"u"?Opal.send(this,"register",null,dt(e)):Opal.send(this,"register",[e],dt(H))},ht.getGroups=function(){return Se(this.$groups())},ht.unregisterAll=function(){this.$unregister_all()},ht.unregister=function(){let e=Array.prototype.concat.apply([],arguments),H=this.$groups(),P={},C=0,K=H.$$keys;for(;C<K.length;C++){let c=K[C];P[c.toString()]=c}for(let c=0;c<e.length;c++){let R=e[c];R in P&&Opal.hash_delete(H,P[R])}};let vt=ht.Registry;vt.prototype.getGroups=ht.getGroups,vt.prototype.unregisterAll=function(){this.groups=Opal.hash()},vt.prototype.unregister=ht.unregister,vt.prototype.prefer=function(e,H){return arguments.length===1&&(H=e,e=null),typeof H=="object"||H.$$is_class?this.$prefer(e,H):Opal.send(this,"prefer",e&&[e],dt(H))},vt.prototype.block=function(e,H){return arguments.length===1&&(H=e,e=null),bt(this,"block",H,e)},vt.prototype.inlineMacro=function(e,H){return arguments.length===1&&(H=e,e=null),bt(this,"inline_macro",H,e)},vt.prototype.includeProcessor=function(e,H){return arguments.length===1&&(H=e,e=null),bt(this,"include_processor",H,e)},vt.prototype.blockMacro=function(e,H){return arguments.length===1&&(H=e,e=null),bt(this,"block_macro",H,e)},vt.prototype.treeProcessor=function(e,H){return arguments.length===1&&(H=e,e=null),bt(this,"tree_processor",H,e)},vt.prototype.postprocessor=function(e,H){return arguments.length===1&&(H=e,e=null),bt(this,"postprocessor",H,e)},vt.prototype.preprocessor=function(e,H){return arguments.length===1&&(H=e,e=null),bt(this,"preprocessor",H,e)},vt.prototype.docinfoProcessor=function(e,H){return arguments.length===1&&(H=e,e=null),bt(this,"docinfo_processor",H,e)},vt.prototype.hasPreprocessors=function(){return this["$preprocessors?"]()},vt.prototype.hasTreeProcessors=function(){return this["$tree_processors?"]()},vt.prototype.hasIncludeProcessors=function(){return this["$include_processors?"]()},vt.prototype.hasPostprocessors=function(){return this["$postprocessors?"]()},vt.prototype.hasDocinfoProcessors=function(e){return this["$docinfo_processors?"](e)},vt.prototype.hasBlocks=function(){return this["$blocks?"]()},vt.prototype.hasBlockMacros=function(){return this["$block_macros?"]()},vt.prototype.hasInlineMacros=function(){return this["$inline_macros?"]()},vt.prototype.getPreprocessors=function(){return this.$preprocessors()},vt.prototype.getTreeProcessors=function(){return this.$tree_processors()},vt.prototype.getIncludeProcessors=function(){return this.$include_processors()},vt.prototype.getPostprocessors=function(){return this.$postprocessors()},vt.prototype.getDocinfoProcessors=function(e){return this.$docinfo_processors(e)},vt.prototype.getBlocks=function(){return this.block_extensions.$values()},vt.prototype.getBlockMacros=function(){return this.block_macro_extensions.$values()},vt.prototype.getInlineMacros=function(){return this.$inline_macros()},vt.prototype.getInlineMacroFor=function(e){let H=this["$registered_for_inline_macro?"](e);return H===!1?void 0:H},vt.prototype.getBlockFor=function(e,H){if(typeof H>"u"){let C=this.$find_block_extension(e);return C===Opal.nil?void 0:C}let P=this["$registered_for_block?"](e,H);return P===!1?void 0:P},vt.prototype.getBlockMacroFor=function(e){let H=this["$registered_for_block_macro?"](e);return H===!1?void 0:H};let gt=ht.Processor;gt.prototype.prepend=function(){this.$option("position",">>")},gt.prototype.process=function(e){let H={apply:function(C,K,c){for(let R=0;R<c.length;R++)typeof c[R]=="object"&&"$$smap"in c[R]&&(c[R]=Se(c[R]));return C.apply(K,c)}},P=new Proxy(e,H);return Opal.send(this,"process",null,dt(P))},gt.prototype.named=function(e){return this.$named(e)},gt.prototype.createBlock=function(e,H,P,C,K){return this.$create_block(e,H,P,Z(C),Z(K))},gt.prototype.createList=function(e,H,P){return this.$create_list(e,H,Z(P))},gt.prototype.createListItem=function(e,H){return this.$create_list_item(e,H)},gt.prototype.createImageBlock=function(e,H,P){return this.$create_image_block(e,Z(H),Z(P))},gt.prototype.createParagraph=function(e,H,P,C){return this.$create_paragraph(e,H,Z(P),Z(C))},gt.prototype.createOpenBlock=function(e,H,P,C){return this.$create_open_block(e,H,Z(P),Z(C))},gt.prototype.createExampleBlock=function(e,H,P,C){return this.$create_example_block(e,H,Z(P),Z(C))},gt.prototype.createPassBlock=function(e,H,P,C){return this.$create_pass_block(e,H,Z(P),Z(C))},gt.prototype.createListingBlock=function(e,H,P,C){return this.$create_listing_block(e,H,Z(P),Z(C))},gt.prototype.createLiteralBlock=function(e,H,P,C){return this.$create_literal_block(e,H,Z(P),Z(C))},gt.prototype.createAnchor=function(e,H,P){return P&&P.attributes&&(P.attributes=Z(P.attributes)),this.$create_anchor(e,H,Z(P))},gt.prototype.createInlinePass=function(e,H,P){return P&&P.attributes&&(P.attributes=Z(P.attributes)),this.$create_inline_pass(e,H,Z(P))},gt.prototype.createInline=function(e,H,P,C){return C&&C.attributes&&(C.attributes=Z(C.attributes)),this.$create_inline(e,H,P,Z(C))},gt.prototype.parseContent=function(e,H,P){return this.$parse_content(e,H,Z(P))},gt.prototype.parseAttributes=function(e,H,P){return P&&P.attributes&&(P.attributes=Z(P.attributes)),Se(this.$parse_attributes(e,H,Z(P)))},gt.prototype.positionalAttributes=function(e){return this.$positional_attrs(e)},gt.prototype.resolveAttributes=function(e){return typeof e=="object"&&!Array.isArray(e)?this.$resolves_attributes(Z(e)):arguments.length>1?this.$resolves_attributes(Array.prototype.slice.call(arguments)):typeof e>"u"?this.$resolves_attributes(Opal.nil):this.$resolves_attributes(e)},gt.prototype.resolvesAttributes=gt.prototype.resolveAttributes,gt.prototype.getConfig=function(){return Se(this.config)},gt.prototype.option=function(e,H){this.$option(e,H)};let tt=ht.BlockProcessor;tt.prototype.defaultAttributes=function(e){this.$default_attributes(Z(e))},tt.prototype.onContext=function(e){return this.$on_context(e)},tt.prototype.onContexts=function(e){return this.$on_contexts(Array.prototype.slice.call(arguments))},tt.prototype.getName=function(){let e=this.name;return e===Opal.nil?void 0:e},tt.prototype.parseContentAs=function(e){this.$parse_content_as(e)};let le=ht.BlockMacroProcessor;le.prototype.defaultAttributes=function(e){this.$default_attributes(Z(e))},le.prototype.getName=function(){let e=this.name;return e===Opal.nil?void 0:e},le.prototype.parseContentAs=function(e){this.$parse_content_as(e)};let be=ht.InlineMacroProcessor;be.prototype.defaultAttributes=function(e){this.$default_attributes(Z(e))},be.prototype.getName=function(){let e=this.name;return e===Opal.nil?void 0:e},be.prototype.parseContentAs=function(e){this.$parse_content_as(e)},be.prototype.matchFormat=function(e){this.$match_format(e)},be.prototype.match=function(e){this.$match(e)};let Ne=ht.IncludeProcessor;Ne.prototype.handles=function(e){return Opal.send(this,"handles?",null,dt(e))},Ne.prototype.prefer=function(){this.$prefer()};let f=ht.TreeProcessor;f.prototype.prefer=function(){this.$prefer()};let k=ht.Postprocessor;k.prototype.prefer=function(){this.$prefer()};let V=ht.Preprocessor;V.prototype.prefer=function(){this.$prefer()};let de=ht.DocinfoProcessor;de.prototype.prefer=function(){this.$prefer()},de.prototype.atLocation=function(e){this.$at_location(e)};function Be(e,H,P){let C=Opal.const_get_qualified(ht,e);return Re(C,H,P,{"handles?":function(){return!0}})}ht.createPostprocessor=function(e,H){return arguments.length===1&&(H=e,e=null),Be("Postprocessor",e,H)},ht.newPostprocessor=function(e,H){return arguments.length===1&&(H=e,e=null),this.createPostprocessor(e,H).$new()},ht.createPreprocessor=function(e,H){return arguments.length===1&&(H=e,e=null),Be("Preprocessor",e,H)},ht.newPreprocessor=function(e,H){return arguments.length===1&&(H=e,e=null),this.createPreprocessor(e,H).$new()},ht.createTreeProcessor=function(e,H){return arguments.length===1&&(H=e,e=null),Be("TreeProcessor",e,H)},ht.newTreeProcessor=function(e,H){return arguments.length===1&&(H=e,e=null),this.createTreeProcessor(e,H).$new()},ht.createIncludeProcessor=function(e,H){return arguments.length===1&&(H=e,e=null),Be("IncludeProcessor",e,H)},ht.newIncludeProcessor=function(e,H){return arguments.length===1&&(H=e,e=null),this.createIncludeProcessor(e,H).$new()},ht.createDocinfoProcessor=function(e,H){return arguments.length===1&&(H=e,e=null),Be("DocinfoProcessor",e,H)},ht.newDocinfoProcessor=function(e,H){return arguments.length===1&&(H=e,e=null),this.createDocinfoProcessor(e,H).$new()},ht.createBlockProcessor=function(e,H){return arguments.length===1&&(H=e,e=null),Be("BlockProcessor",e,H)},ht.newBlockProcessor=function(e,H){return arguments.length===1&&(H=e,e=null),this.createBlockProcessor(e,H).$new()},ht.createInlineMacroProcessor=function(e,H){return arguments.length===1&&(H=e,e=null),Be("InlineMacroProcessor",e,H)},ht.newInlineMacroProcessor=function(e,H){return arguments.length===1&&(H=e,e=null),this.createInlineMacroProcessor(e,H).$new()},ht.createBlockMacroProcessor=function(e,H){return arguments.length===1&&(H=e,e=null),Be("BlockMacroProcessor",e,H)},ht.newBlockMacroProcessor=function(e,H){return arguments.length===1&&(H=e,e=null),this.createBlockMacroProcessor(e,H).$new()};var $t="3.0.2";return Opal.Asciidoctor.prototype.getVersion=function(){return $t},Opal.Asciidoctor}var rr=cr(()=>{(function(o){"use strict";var Z;if(typeof globalThis<"u"?o=globalThis:typeof global<"u"?o=global:typeof window<"u"&&(o=window),o.console==null&&(o.console={}),typeof o.console=="object"?Z=o.console:Z={},"log"in Z||(Z.log=function(){}),"warn"in Z||(Z.warn=Z.log),typeof o.Opal<"u")return Z.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),o.Opal;var Se,Me,he,Ze,Re,Le,ye,G=o.Opal={};G.global=o,G.config={missing_require_severity:"error",unsupported_features_severity:"warning",experimental_features_severity:"warning",enable_stack_trace:!0};var De=Function.prototype.call,Pe=Function.prototype.bind,Ie=Object.hasOwn||De.bind(Object.prototype.hasOwnProperty),je=Object.setPrototypeOf,Ge=De.bind(Array.prototype.slice),Te=De.bind(Array.prototype.splice),se=4,qe=se;function We(){return qe+=2,qe}G.uid=We,G.id=function(f){return f.$$is_number?f*2+1:(f.$$id==null&&fe(f,"$$id",We()),f.$$id)};var Fe=G.gvars={};G.exit=function(f){Fe.DEBUG&&Z.log("Exited with status "+f)},G.exceptions=[],G.pop_exception=function(){var f=G.exceptions.pop();f?(Fe["!"]=f,Fe["@"]=f.$backtrace()):Fe["!"]=Fe["@"]=Se};function xe(f,k){if(f||(f=G.Exception||Error),ye&&ye.$raise)arguments.length>2?ye.$raise(f.$new.apply(f,Ge(arguments,1))):ye.$raise(f,k);else throw f.$new?f.$new(k):new f(k)}function fe(f,k,V){typeof f=="string"?f[k]=V:Object.defineProperty(f,k,{value:V,enumerable:!1,configurable:!0,writable:!0})}G.prop=fe,G.defineProperty=G.prop,G.slice=Ge;var _e=G.truthy=function(f){return f!==!1&&Se!==f&&f!==void 0&&f!==null&&(!(f instanceof Boolean)||f.valueOf()===!0)};G.falsy=function(f){return!_e(f)},G.type_error=function(f,k,V,de){f=f.$$class,de&&V?(de=de.$$class,xe(G.TypeError,"can't convert "+f+" into "+k+" ("+f+"#"+V+" gives "+de+")")):xe(G.TypeError,"no implicit conversion of "+f+" into "+k)},G.coerce_to=function(f,k,V,de){var Be;return V==="to_int"&&k===G.Integer&&f.$$is_number?f<0?Math.ceil(f):Math.floor(f):V==="to_str"&&k===G.String&&f.$$is_string||G.is_a(f,k)?f:f["$respond_to?"].$$pristine&&f.$method_missing.$$pristine?(Be=f[dt(V)],(Be==null||Be.$$stub)&&G.type_error(f,k),Be.apply(f,de)):(f["$respond_to?"](V)||G.type_error(f,k),de==null&&(de=[]),G.send(f,V,de))},G.respond_to=function(f,k,V){if(f==null||!f.$$class)return!1;V=!!V;var de=f[k];if(f["$respond_to?"].$$pristine){if(typeof de=="function"&&!de.$$stub)return!0;if(!f["$respond_to_missing?"].$$pristine)return G.send(f,f["$respond_to_missing?"],[k.substr(1),V])}else return G.send(f,f["$respond_to?"],[k.substr(1),V])},G.trace_class=!1,G.tracers_for_class=[];function $e(f){var k,V,de;for(k=0,V=G.tracers_for_class.length;k<V;k++)de=G.tracers_for_class[k],de.trace_object=f,de.block.$call(de)}function Ee(f,k){if(f.$$autoload[k].loaded){if(f.$$autoload[k].loaded&&!f.$$autoload[k].required&&f.$$autoload[k].exception)throw f.$$autoload[k].exception}else{f.$$autoload[k].loaded=!0;try{G.Kernel.$require(f.$$autoload[k].path)}catch(V){throw f.$$autoload[k].exception=V,V}if(f.$$autoload[k].required=!0,f.$$const[k]!=null)return f.$$autoload[k].success=!0,f.$$const[k]}}function te(f,k){if(f){if(f.$$const[k]!=null)return f.$$const[k];if(f.$$autoload&&f.$$autoload[k])return Ee(f,k)}}function me(f,k){var V,de,Be;if(f.length!==0)for(V=0,de=f.length;V<de;V++){if(Be=f[V].$$const[k],Be!=null)return Be;if(f[V].$$autoload&&f[V].$$autoload[k])return Ee(f[V],k)}}function X(f,k){var V,de,Be;if(f!=null)for(Be=Oe(f),V=0,de=Be.length;V<de;V++){if(Be[V].$$const&&Ie(Be[V].$$const,k))return Be[V].$$const[k];if(Be[V].$$autoload&&Be[V].$$autoload[k])return Ee(Be[V],k)}}function m(f,k){if(f==null||f.$$is_module)return X(he,k)}function ae(f,k){return(f||he).$const_missing(k)}G.const_get_local=function(f,k,V){var de;if(f!=null)return f==="::"&&(f=he),!f.$$is_module&&!f.$$is_class&&xe(G.TypeError,f.toString()+" is not a class/module"),de=te(f,k),de!=null||V?de:ae(f,k)},G.const_get_qualified=function(f,k,V){var de,Be,$t,e=G.const_cache_version;if(k==null)return de=te(he,f),de??G.const_get_qualified(he,f,V);if(f!=null)return f==="::"&&(f=he),!f.$$is_module&&!f.$$is_class&&xe(G.TypeError,f.toString()+" is not a class/module"),(Be=f.$$const_cache)==null&&(fe(f,"$$const_cache",Object.create(null)),Be=f.$$const_cache),$t=Be[k],$t==null||$t[0]!==e?((de=te(f,k))!=null||(de=X(f,k))!=null,Be[k]=[e,de]):de=$t[1],de!=null||V?de:ae(f,k)},G.const_cache_version=1,G.const_get_relative=function(f,k,V){var de=f[0],Be,$t=G.const_cache_version,e,H;return(e=f.$$const_cache)==null&&(fe(f,"$$const_cache",Object.create(null)),e=f.$$const_cache),H=e[k],H==null||H[0]!==$t?((Be=te(de,k))!=null||(Be=me(f,k))!=null||(Be=X(de,k))!=null||(Be=m(de,k))!=null,e[k]=[$t,Be]):Be=H[1],Be!=null||V?Be:ae(de,k)};function q(f,k,V){var de=!0;return(f==null||f==="::")&&(f=he),V.$$is_a_module&&((V.$$name==null||V.$$name===Se)&&(V.$$name=k),V.$$base_module==null&&(V.$$base_module=f)),f.$$const=f.$$const||Object.create(null),(k in f.$$const||"$$autoload"in f&&k in f.$$autoload)&&(de=!1),f.$$const[k]=V,f.$$=f.$$const,G.const_cache_version++,f===he&&(G[k]=V),fe(f,k,V),de&&f.$const_added&&!f.$const_added.$$pristine&&f.$const_added(k),V}G.const_set=q,G.constants=function(f,k){k==null&&(k=!0);var V,de=[f],Be,$t,e={},H;for(k&&(de=de.concat(Oe(f))),k&&f.$$is_module&&(de=de.concat([G.Object]).concat(Oe(G.Object))),Be=0,$t=de.length;Be<$t&&(V=de[Be],!(f!==he&&V==he));Be++){for(H in V.$$const)e[H]=!0;if(V.$$autoload)for(H in V.$$autoload)e[H]=!0}return Object.keys(e)},G.const_remove=function(f,k){if(G.const_cache_version++,f.$$const[k]!=null){var V=f.$$const[k];return delete f.$$const[k],V}if(f.$$autoload&&f.$$autoload[k])return delete f.$$autoload[k],Se;xe(G.NameError,"constant "+f+"::"+f.$name()+" not defined")},G.const_get_relative_factory=function(f){return function(k,V){return G.$$(f,k,V)}},G.$$=G.const_get_relative,G.$$$=G.const_get_qualified,G.$r=G.const_get_relative_factory;function J(f,k,V){var de;if(k!=null&&k.$$bridge?de=function(){var H=Ge(arguments),P=new(Pe.apply(k.$$constructor,[null].concat(H)));return je(P,de.$$prototype),P}:de=function(){},f&&f!==Se&&fe(de,"displayName","::"+f),fe(de,"$$name",f),fe(de,"$$constructor",de),fe(de,"$$prototype",de.prototype),fe(de,"$$const",{}),fe(de,"$$is_class",!0),fe(de,"$$is_a_module",!0),fe(de,"$$super",k),fe(de,"$$cvars",{}),fe(de,"$$own_included_modules",[]),fe(de,"$$own_prepended_modules",[]),fe(de,"$$ancestors",[]),fe(de,"$$ancestors_cache_version",null),fe(de,"$$subclasses",[]),fe(de.$$prototype,"$$class",de),G.Class&&je(de,G.Class.prototype),k!=null){if(je(de.$$prototype,k.$$prototype),V!==!0)if(typeof WeakRef<"u"){var Be,$t,e=[];for(Be=0;Be<k.$$subclasses.length;Be++)$t=k.$$subclasses[Be],$t.deref()!==void 0&&e.push($t);e.push(new WeakRef(de)),k.$$subclasses=e}else k.$$subclasses.push(de);k.$$meta&&G.build_class_singleton_class(de)}return de}G.allocate_class=J;function N(f,k){var V=te(f,k);if(V)return V.$$is_class||xe(G.TypeError,k+" is not a class"),V}function ze(f,k){f.$$super!==k&&xe(G.TypeError,"superclass mismatch for class "+f.$$name)}G.klass=function(f,k,V){var de;f==null||f=="::"?f=he:!f.$$is_class&&!f.$$is_module&&(f=f.$$class),k!=null&&(!k.hasOwnProperty||k.hasOwnProperty&&!k.hasOwnProperty("$$is_class"))&&(k.constructor&&k.constructor.name=="Function"?(de=k,k=he):xe(G.TypeError,"superclass must be a Class ("+(k.constructor&&(k.constructor.name||k.constructor.$$name)||typeof k)+" given)"));var Be=N(f,V);return Be!=null?k&&ze(Be,k):(k==null&&(k=he),Be=J(V,k),q(f,V,Be),k.$inherited&&k.$inherited(Be),de&&G.bridge(de,Be)),G.trace_class&&$e(Be),Be};function re(f){var k=function(){},V=k;return f&&fe(k,"displayName",f+".constructor"),fe(V,"$$name",f),fe(V,"$$prototype",k.prototype),fe(V,"$$const",{}),fe(V,"$$is_module",!0),fe(V,"$$is_a_module",!0),fe(V,"$$cvars",{}),fe(V,"$$iclasses",[]),fe(V,"$$own_included_modules",[]),fe(V,"$$own_prepended_modules",[]),fe(V,"$$ancestors",[V]),fe(V,"$$ancestors_cache_version",null),je(V,G.Module.prototype),V}G.allocate_module=re;function D(f,k){var V=te(f,k);return V==null&&f===he&&(V=X(he,k)),V&&!V.$$is_module&&V!==he&&xe(G.TypeError,k+" is not a module"),V}G.module=function(f,k){var V;return f==null||f=="::"?f=he:!f.$$is_class&&!f.$$is_module&&(f=f.$$class),V=D(f,k),V==null&&(V=re(k),q(f,k,V)),G.trace_class&&$e(V),V},G.get_singleton_class=function(f){return f.$$is_number&&xe(G.TypeError,"can't define singleton"),f.$$meta?f.$$meta:f.hasOwnProperty("$$is_class")?G.build_class_singleton_class(f):f.hasOwnProperty("$$is_module")?G.build_module_singleton_class(f):G.build_object_singleton_class(f)};function d(f,k){f.hasOwnProperty("$$meta")?f.$$meta=k:fe(f,"$$meta",k),f.$$frozen?f.$$meta.$freeze():je(f,k.$$prototype)}G.build_class_singleton_class=function(f){if(f.$$meta)return f.$$meta;var k=f===Me?Re:G.get_singleton_class(f.$$super),V=J(null,k,!0);return fe(V,"$$is_singleton",!0),fe(V,"$$singleton_of",f),d(f,V),fe(f,"$$class",G.Class),V},G.build_module_singleton_class=function(f){if(f.$$meta)return f.$$meta;var k=J(null,G.Module,!0);return fe(k,"$$is_singleton",!0),fe(k,"$$singleton_of",f),d(f,k),fe(f,"$$class",G.Module),k},G.build_object_singleton_class=function(f){var k=f.$$class,V=J(Se,k,!0);return fe(V,"$$is_singleton",!0),fe(V,"$$singleton_of",f),delete V.$$prototype.$$class,d(f,V),V},G.is_method=function(f){return f[0]==="$"&&f[1]!=="$"},G.instance_methods=function(f){for(var k=[],V=[],de=Oe(f),Be=0,$t=de.length;Be<$t;Be++){var e=de[Be],H=e.$$prototype;H.hasOwnProperty("$$dummy")&&(H=H.$$define_methods_on);for(var P=Object.getOwnPropertyNames(H),C=0,K=P.length;C<K;C++){var c=P[C];if(G.is_method(c)){var R=c.slice(1),we=H[c];we.$$stub&&k.indexOf(R)===-1&&k.push(R),!we.$$stub&&V.indexOf(R)===-1&&k.indexOf(R)===-1&&V.push(R)}}}return V},G.own_instance_methods=function(f){var k=[],V=f.$$prototype;V.hasOwnProperty("$$dummy")&&(V=V.$$define_methods_on);for(var de=Object.getOwnPropertyNames(V),Be=0,$t=de.length;Be<$t;Be++){var e=de[Be];if(G.is_method(e)){var H=V[e];if(!H.$$stub){var P=e.slice(1);k.push(P)}}}return k},G.methods=function(f){return G.instance_methods(f.$$meta||f.$$class)},G.own_methods=function(f){return f.$$meta?G.own_instance_methods(f.$$meta):[]},G.receiver_methods=function(f){var k=G.get_singleton_class(f),V=G.own_instance_methods(k),de=G.own_instance_methods(k.$$super);return V.concat(de)},G.class_variables=function(f){var k=Oe(f),V,de=k.length,Be={};for(V=de-1;V>=0;V--){var $t=k[V];for(var e in $t.$$cvars)Be[e]=$t.$$cvars[e]}return Be},G.class_variable_set=function(f,k,V){var de=Oe(f),Be,$t=de.length;for(Be=$t-2;Be>=0;Be--){var e=de[Be];if(Ie(e.$$cvars,k))return e.$$cvars[k]=V,V}return f.$$cvars[k]=V,V},G.class_variable_get=function(f,k,V){if(Ie(f.$$cvars,k))return f.$$cvars[k];var de=Oe(f),Be,$t=de.length;for(Be=0;Be<$t;Be++){var e=de[Be];if(Ie(e.$$cvars,k))return e.$$cvars[k]}return V||xe(G.NameError,"uninitialized class variable "+k+" in "+f.$name()),Se};function n(f){return f.hasOwnProperty("$$iclass")&&f.hasOwnProperty("$$root")}function r(f){for(var k=[],V,de=Object.getPrototypeOf(f.$$prototype);de&&!de.hasOwnProperty("$$class");)V=B(de),V&&k.push(V),de=Object.getPrototypeOf(de);return k}function s(f){var k=[],V,de=Object.getPrototypeOf(f.$$prototype);if(f.$$prototype.hasOwnProperty("$$dummy"))for(;de&&de!==f.$$prototype.$$define_methods_on;)V=B(de),V&&k.push(V),de=Object.getPrototypeOf(de);return k}G.append_features=function(f,k){var V=Oe(f),de=[];V.indexOf(k)!==-1&&xe(G.ArgumentError,"cyclic include detected");for(var Be=0,$t=V.length;Be<$t;Be++){var e=V[Be],H=$(e);fe(H,"$$included",!0),de.push(H)}var P=Oe(k),C=b(de),K,c;if(P.indexOf(f)===-1)K=k.$$prototype,c=Object.getPrototypeOf(k.$$prototype);else{for(var R=k.$$prototype,we=Object.getPrototypeOf(R);we!=null&&!(we.$$module===f&&n(we));)R=we,we=Object.getPrototypeOf(we);if(we){for(var I=Object.getPrototypeOf(we);I.hasOwnProperty("$$iclass")&&!n(I);)I=Object.getPrototypeOf(I);K=R,c=I}else K=k.$$prototype,c=Object.getPrototypeOf(k.$$prototype)}je(K,C.first),je(C.last,c),k.$$own_included_modules=r(k),G.const_cache_version++},G.prepend_features=function(f,k){var V=Oe(f),de=[];V.indexOf(k)!==-1&&xe(G.ArgumentError,"cyclic prepend detected");for(var Be=0,$t=V.length;Be<$t;Be++){var e=V[Be],H=$(e);fe(H,"$$prepended",!0),de.push(H)}var P=b(de),C=k.$$prototype,K=Object.getPrototypeOf(C),c,R,we;C.hasOwnProperty("$$dummy")?c=C.$$define_methods_on:(c=h(k),i(k),fe(C,"$$dummy",!0),fe(C,"$$define_methods_on",c),je(C,c),je(c,K));var I=Oe(k);if(I.indexOf(f)===-1)for(R=C,we=Object.getPrototypeOf(C);we!=null&&!(we.hasOwnProperty("$$root")||we===c||!we.hasOwnProperty("$$iclass"));)we=Object.getPrototypeOf(we);else xe(G.RuntimeError,"Prepending a module multiple times is not supported");je(R,P.first),je(P.last,we),k.$$own_prepended_modules=s(k),G.const_cache_version++};function i(f){for(var k=f.$$prototype,V=Object.getOwnPropertyNames(k),de=0;de<V.length;de++){var Be=V[de];G.is_method(Be)&&delete k[Be]}}function $(f){var k=h(f);return f.$$is_module&&f.$$iclasses.push(k),k}function h(f){var k={},V=f.$$prototype;V.hasOwnProperty("$$dummy")&&(V=V.$$define_methods_on);var de=Object.getOwnPropertyNames(V),Be=de.length,$t;for($t=0;$t<Be;$t++){var e=de[$t];fe(k,e,V[e])}return fe(k,"$$iclass",!0),fe(k,"$$module",f),k}function b(f){var k=f.length,V=f[0];if(fe(V,"$$root",!0),k===1)return{first:V,last:V};for(var de=V,Be=1;Be<k;Be++){var $t=f[Be];je(de,$t),de=$t}return{first:f[0],last:f[k-1]}}G.bridge=function(f,k){f.hasOwnProperty("$$bridge")&&xe(G.ArgumentError,"already bridged"),fe(f,"$$bridge",k),je(f.prototype,(k.$$super||G.Object).$$prototype),fe(k,"$$prototype",f.prototype),fe(k.$$prototype,"$$class",k),fe(k,"$$constructor",f),fe(k,"$$bridge",!0)};function B(f){if(!f.hasOwnProperty("$$dummy")){if(f.hasOwnProperty("$$iclass"))return f.$$module;if(f.hasOwnProperty("$$class"))return f.$$class}}function pe(f){return f.$$own_prepended_modules.concat([f]).concat(f.$$own_included_modules)}function Oe(f){if(!f)return[];if(f.$$ancestors_cache_version===G.const_cache_version)return f.$$ancestors;var k=[],V,de,Be;for(V=0,de=pe(f),Be=de.length;V<Be;V++)k.push(de[V]);if(f.$$super)for(V=0,de=Oe(f.$$super),Be=de.length;V<Be;V++)k.push(de[V]);return f.$$ancestors_cache_version=G.const_cache_version,f.$$ancestors=k,k}G.ancestors=Oe,G.included_modules=function(f){for(var k=[],V=null,de=Object.getPrototypeOf(f.$$prototype);de&&Object.getPrototypeOf(de);de=Object.getPrototypeOf(de))V=B(de),V&&V.$$is_module&&de.$$iclass&&de.$$included&&k.push(V);return k},G.add_stubs=function(f){var k=G.BasicObject.$$prototype,V,de;f=f.split(",");for(var Be=0,$t=f.length;Be<$t;Be++)V=dt(f[Be]),de=k[V],(de==null||de.$$stub)&&G.add_stub_for(k,V)},G.add_stub_for=function(f,k){fe(f,k,G.stub_for(k))},G.stub_for=function(f){function k(){this.$method_missing.$$p=k.$$p,k.$$p=null;for(var V=new Array(arguments.length),de=0,Be=V.length;de<Be;de++)V[de]=arguments[de];return this.$method_missing.apply(this,[f.slice(1)].concat(V))}return k.$$stub=!0,k},G.ac=function(f,k,V,de){var Be="";V.$$is_a_module?Be+=V.$$name+".":Be+=V.$$class.$$name+"#",Be+=de,xe(G.ArgumentError,"["+Be+"] wrong number of arguments (given "+f+", expected "+k+")")},G.block_ac=function(f,k,V){var de="`block in "+V+"'";xe(G.ArgumentError,de+": wrong number of arguments (given "+f+", expected "+k+")")};function ot(f){return f.hasOwnProperty("$$meta")&&f.$$meta!==null?Oe(f.$$meta):Oe(f.$$class)}G.find_super=function(f,k,V,de,Be){var $t=dt(k),e,H;e=ot(f);for(var P=e.indexOf(V.$$owner),C=P+1;C<e.length;C++){var K=e[C],c=K.$$prototype;if(c.hasOwnProperty("$$dummy")&&(c=c.$$define_methods_on),c.hasOwnProperty($t)){H=c[$t];break}}return!de&&H&&H.$$stub&&f.$method_missing.$$pristine&&xe(G.NoMethodError,"super: no superclass method `"+k+"' for "+f,k),H.$$stub&&!Be?null:H},G.find_block_super=function(f,k,V,de,Be){var $t=k;return V||xe(G.RuntimeError,"super called outside of method"),Be&&V.$$define_meth&&xe(G.RuntimeError,"implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly"),V.$$def&&($t=V.$$jsid),G.find_super(f,$t,V,de)},G.find_super_dispatcher=G.find_super,G.find_iter_super_dispatcher=G.find_block_super,G.yield1=function(f,k){typeof f!="function"&&xe(G.LocalJumpError,"no block given");var V=f.$$has_top_level_mlhs_arg,de=f.$$has_trailing_comma_in_args;return(f.length>1||(V||de)&&f.length===1)&&(k=G.to_ary(k)),(f.length>1||de&&f.length===1)&&k.$$is_array?f.apply(null,k):f(k)},G.yieldX=function(f,k){if(typeof f!="function"&&xe(G.LocalJumpError,"no block given"),f.length>1&&k.length===1&&k[0].$$is_array)return f.apply(null,k[0]);if(!k.$$is_array){for(var V=new Array(k.length),de=0,Be=V.length;de<Be;de++)V[de]=k[de];return f.apply(null,V)}return f.apply(null,k)},G.rescue=function(f,k){for(var V=0;V<k.length;V++){var de=k[V];if(de.$$is_array){var Be=G.rescue(f,de);if(Be)return Be}else if(de===G.JS.Error||de["$==="](f))return de}return null},G.is_a=function(f,k){if(k!=null&&f.$$meta===k||f.$$class===k)return!0;if(f.$$is_number&&k.$$is_number_class)return k.$$is_integer_class?f%1===0:!0;var V=Oe(f.$$is_class?G.get_singleton_class(f):f.$$meta||f.$$class);return V.indexOf(k)!==-1},G.to_hash=function(f){if(f.$$is_hash)return f;if(f["$respond_to?"]("to_hash",!0)){var k=f.$to_hash();if(k.$$is_hash)return k;xe(G.TypeError,"Can't convert "+f.$$class+" to Hash ("+f.$$class+"#to_hash gives "+k.$$class+")")}else xe(G.TypeError,"no implicit conversion of "+f.$$class+" into Hash")},G.to_ary=function(f){if(f.$$is_array)return f;if(f["$respond_to?"]("to_ary",!0)){var k=f.$to_ary();if(k===Se)return[f];if(k.$$is_array)return k;xe(G.TypeError,"Can't convert "+f.$$class+" to Array ("+f.$$class+"#to_ary gives "+k.$$class+")")}else return[f]},G.to_a=function(f){if(f.$$is_array)return f.slice();if(f["$respond_to?"]("to_a",!0)){var k=f.$to_a();if(k===Se)return[f];if(k.$$is_array)return k;xe(G.TypeError,"Can't convert "+f.$$class+" to Array ("+f.$$class+"#to_a gives "+k.$$class+")")}else return[f]},G.extract_kwargs=function(f){var k=f[f.length-1];if(k!=null&&G.respond_to(k,"$to_hash",!0))return Te(f,f.length-1),k},G.kwrestargs=function(f,k){var V=[],de={},Be,$t=f.$$smap;for(Be in $t)k[Be]||(V.push(Be),de[Be]=$t[Be]);return G.hash2(V,de)};function lt(f,k){typeof k=="number"?f.$$arity=k:typeof k=="object"&&Object.assign(f,k)}var pt={};function dt(f){return pt[f]||(pt[f]="$"+f)}G.jsid=dt,G.send=function(f,k,V,de,Be){var $t;return typeof k=="function"?($t=k,k=null):typeof k=="string"?$t=f[dt(k)]:xe(G.NameError,"Passed method should be a string or a function"),G.send2(f,$t,k,V,de,Be)},G.send2=function(f,k,V,de,Be,$t){return k==null&&V!=null&&f.$method_missing&&(k=f.$method_missing,de=[V].concat(de)),lt(Be,$t),typeof Be=="function"&&(k.$$p=Be),k.apply(f,de)},G.refined_send=function(f,k,V,de,Be,$t){var e,H,P,C,K,c,R,we,I,ue;for(C=ot(k),e=0;e<C.length;e++)for(K=G.id(C[e]),H=0;H<f.length;H++)for(c=f[H],P=c.length-1;P>=0;P--)if(R=c[P],!(typeof R.$$refine_modules>"u")&&(we=R.$$refine_modules,!(typeof we[K]>"u")&&(I=we[K],typeof I.$$prototype[dt(V)]<"u")))return ue=I.$$prototype[dt(V)],G.send2(k,ue,V,de,Be,$t);return G.send(k,V,de,Be,$t)},G.lambda=function(f,k){return f.$$is_lambda=!0,lt(f,k),f},G.def=function(f,k,V,de){return lt(V,de),f===G.top?G.defn(G.Object,k,V):!f.$$eval&&f.$$is_a_module?G.defn(f,k,V):G.defs(f,k,V)},G.defn=function(f,k,V){vt(f),V.displayName=k,V.$$owner=f;var de=k.substr(1),Be=f.$$prototype;if(Be.hasOwnProperty("$$dummy")&&(Be=Be.$$define_methods_on),fe(Be,k,V),f.$$is_module){f.$$module_function&&G.defs(f,k,V);for(var $t=0,e=f.$$iclasses,H=e.length;$t<H;$t++){var P=e[$t];fe(P,k,V)}}var C=f.$$singleton_of;return f.$method_added&&!f.$method_added.$$stub&&!C?f.$method_added(de):C&&C.$singleton_method_added&&!C.$singleton_method_added.$$stub&&C.$singleton_method_added(de),de},G.defs=function(f,k,V,de){return lt(V,de),(f.$$is_string||f.$$is_number)&&xe(G.TypeError,"can't define singleton"),G.defn(G.get_singleton_class(f),k,V)},G.rdef=function(f,k){Ie(f.$$prototype,k)||xe(G.NameError,"method '"+k.substr(1)+"' not defined in "+f.$name()),delete f.$$prototype[k],f.$$is_singleton?f.$$prototype.$singleton_method_removed&&!f.$$prototype.$singleton_method_removed.$$stub&&f.$$prototype.$singleton_method_removed(k.substr(1)):f.$method_removed&&!f.$method_removed.$$stub&&f.$method_removed(k.substr(1))},G.udef=function(f,k){(!f.$$prototype[k]||f.$$prototype[k].$$stub)&&xe(G.NameError,"method '"+k.substr(1)+"' not defined in "+f.$name()),G.add_stub_for(f.$$prototype,k),f.$$is_singleton?f.$$prototype.$singleton_method_undefined&&!f.$$prototype.$singleton_method_undefined.$$stub&&f.$$prototype.$singleton_method_undefined(k.substr(1)):f.$method_undefined&&!f.$method_undefined.$$stub&&f.$method_undefined(k.substr(1))};function bt(f){return typeof f=="function"&&!f.$$stub}G.alias=function(f,k,V){var de=dt(k),Be=dt(V),$t,e;if(typeof f.$$prototype>"u"&&(f=G.Object),$t=f.$$prototype[Be],f.$$eval)return G.alias(G.get_singleton_class(f),k,V);if(!bt($t)){for(var H=f.$$super;typeof $t!="function"&&H;)$t=H[Be],H=H.$$super;!bt($t)&&f.$$is_module&&($t=G.Object.$$prototype[Be]),bt($t)||xe(G.NameError,"undefined method `"+V+"' for class `"+f.$name()+"'")}$t.$$alias_of&&($t=$t.$$alias_of),e=function(){var P=e.$$p,C,K,c;for(C=new Array(arguments.length),K=0,c=arguments.length;K<c;K++)C[K]=arguments[K];return e.$$p=null,G.send(this,$t,C,P)};try{Object.defineProperty(e,"length",{value:$t.length})}catch{}return e.displayName=k,e.$$arity=$t.$$arity==null?$t.length:$t.$$arity,e.$$parameters=$t.$$parameters,e.$$source_location=$t.$$source_location,e.$$alias_of=$t,e.$$alias_name=k,G.defn(f,de,e),f},G.alias_gvar=function(f,k){return Object.defineProperty(Fe,f,{configurable:!0,enumerable:!0,get:function(){return Fe[k]},set:function(V){Fe[k]=V}}),Se},G.alias_native=function(f,k,V){var de=dt(k),Be=f.$$prototype[V];return(typeof Be!="function"||Be.$$stub)&&xe(G.NameError,"undefined native method `"+V+"' for class `"+f.$name()+"'"),G.defn(f,de,Be),f},G.hash_init=function(f){f.$$smap=Object.create(null),f.$$map=Object.create(null),f.$$keys=[]},G.hash_clone=function(f,k){k.$$none=f.$$none,k.$$proc=f.$$proc;for(var V=0,de=f.$$keys,Be=f.$$smap,$t=de.length,e,H;V<$t;V++)e=de[V],e.$$is_string?H=Be[e]:(H=e.value,e=e.key),G.hash_put(k,e,H)},G.hash_put=function(f,k,V){if(k.$$is_string){Ie(f.$$smap,k)||f.$$keys.push(k),f.$$smap[k]=V;return}var de,Be,$t;if(de=f.$$by_identity?G.id(k):k.$hash(),!Ie(f.$$map,de)){Be={key:k,key_hash:de,value:V},f.$$keys.push(Be),f.$$map[de]=Be;return}for(Be=f.$$map[de];Be;){if(k===Be.key||k["$eql?"](Be.key)){$t=void 0,Be.value=V;break}$t=Be,Be=Be.next}$t&&(Be={key:k,key_hash:de,value:V},f.$$keys.push(Be),$t.next=Be)},G.hash_get=function(f,k){if(k.$$is_string)return Ie(f.$$smap,k)?f.$$smap[k]:void 0;var V,de;if(V=f.$$by_identity?G.id(k):k.$hash(),Ie(f.$$map,V))for(de=f.$$map[V];de;){if(k===de.key||k["$eql?"](de.key))return de.value;de=de.next}},G.hash_delete=function(f,k){var V,de=f.$$keys,Be=de.length,$t,e;if(k.$$is_string){if(typeof k!="string"&&(k=k.valueOf()),!Ie(f.$$smap,k))return;for(V=0;V<Be;V++)if(e=de[V],e.$$is_string&&typeof e!="string"&&(e=e.valueOf()),e===k){de.splice(V,1);break}return $t=f.$$smap[k],delete f.$$smap[k],$t}var H=k.$hash();if(Ie(f.$$map,H))for(var P=f.$$map[H],C;P;){if(k===P.key||k["$eql?"](P.key)){for($t=P.value,V=0;V<Be;V++)if(de[V]===P){de.splice(V,1);break}return C&&P.next?C.next=P.next:C?delete C.next:P.next?f.$$map[H]=P.next:delete f.$$map[H],$t}C=P,P=P.next}},G.hash_rehash=function(f){for(var k=0,V=f.$$keys.length,de,Be,$t;k<V;k++)if(!f.$$keys[k].$$is_string&&(de=f.$$keys[k].key.$hash(),de!==f.$$keys[k].key_hash)){for(Be=f.$$map[f.$$keys[k].key_hash],$t=void 0;Be;){if(Be===f.$$keys[k]){$t&&Be.next?$t.next=Be.next:$t?delete $t.next:Be.next?f.$$map[f.$$keys[k].key_hash]=Be.next:delete f.$$map[f.$$keys[k].key_hash];break}$t=Be,Be=Be.next}if(f.$$keys[k].key_hash=de,!Ie(f.$$map,de)){f.$$map[de]=f.$$keys[k];continue}for(Be=f.$$map[de],$t=void 0;Be;){if(Be===f.$$keys[k]){$t=void 0;break}$t=Be,Be=Be.next}$t&&($t.next=f.$$keys[k])}},G.hash=function(){var f=arguments.length,k,V,de,Be,$t,e;if(f===1&&arguments[0].$$is_hash)return arguments[0];if(V=new G.Hash,G.hash_init(V),f===1)if(k=arguments[0],arguments[0].$$is_array){for(Be=k.length,de=0;de<Be;de++)k[de].length!==2&&xe(G.ArgumentError,"value not of length 2: "+k[de].$inspect()),$t=k[de][0],e=k[de][1],G.hash_put(V,$t,e);return V}else{k=arguments[0];for($t in k)Ie(k,$t)&&(e=k[$t],G.hash_put(V,$t,e));return V}for(f%2!==0&&xe(G.ArgumentError,"odd number of arguments for Hash"),de=0;de<f;de+=2)$t=arguments[de],e=arguments[de+1],G.hash_put(V,$t,e);return V},G.hash2=function(f,k){var V=new G.Hash;return V.$$smap=k,V.$$map=Object.create(null),V.$$keys=f,V},G.range=function(f,k,V){var de=new G.Range;return de.begin=f,de.end=k,de.excl=V,de};var ht=["constructor","displayName","__count__","__noSuchMethod__","__parent__","__proto__","hasOwnProperty","valueOf"];G.ivar=function(f){return ht.indexOf(f)!==-1&&(f+="$"),f};function vt(f){f.$$frozen&&xe(G.FrozenError,"can't modify frozen "+f.$class()+": "+f,G.hash2(["receiver"],{receiver:f}))}G.deny_frozen_access=vt,G.freeze=function(f){return fe(f,"$$frozen",!0),f.hasOwnProperty("$$id")||fe(f,"$$id",We()),f.hasOwnProperty("$$meta")?f.$$meta.$freeze():fe(f,"$$meta",null),f.hasOwnProperty("$$comparable")||fe(f,"$$comparable",null),Object.seal(f),f},G.freeze_props=function(f){var k,V,de;for(k in f)V=typeof k,!((V==="string"||V==="object")&&k[0]==="$")&&(de=Object.getOwnPropertyDescriptor(f,k),de&&de.enumerable&&de.writable&&function(){var Be=f[k];Object.defineProperty(f,k,{get:function(){return Be},set:function($t){vt(f)},enumerable:!0})}())},G.escape_regexp=function(f){return f.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},G.global_regexp=function(f){return f.global?f:(f.$$g==null?f.$$g=new RegExp(f.source,(f.multiline?"gm":"g")+(f.ignoreCase?"i":"")):f.$$g.lastIndex=null,f.$$g)},G.global_multiline_regexp=function(f){var k,V;return f.global&&f.multiline?f:(V="gm"+(f.ignoreCase?"i":""),f.multiline?(f.$$g==null&&(f.$$g=new RegExp(f.source,V)),k=f.$$g):(f.$$gm==null&&(f.$$gm=new RegExp(f.source,V)),k=f.$$gm),k.lastIndex=null,k)},G.regexp=function(f,k){for(var V,de=typeof k<"u"&&k&&k.indexOf("i")>=0,Be=0,$t=f.length;Be<$t;Be++)V=f[Be],V instanceof RegExp&&(V.ignoreCase!==de&&G.Kernel.$warn("ignore case doesn't match for "+V.source.$inspect(),G.hash({uplevel:1})),V=V.source),V===""&&(V="(?:"+V+")"),f[Be]=V;return k?new RegExp(f.join(""),k):new RegExp(f.join(""))},G.modules={},G.loaded_features=["corelib/runtime"],G.current_dir=".",G.require_table={"corelib/runtime":!0},G.normalize=function(f){var k,V,de=[],Be="/";G.current_dir!=="."&&(f=G.current_dir.replace(/\/*$/,"/")+f),f=f.replace(/^\.\//,""),f=f.replace(/\.(rb|opal|js)$/,""),k=f.split(Be);for(var $t=0,e=k.length;$t<e;$t++)V=k[$t],V!==""&&(V===".."?de.pop():de.push(V));return de.join(Be)},G.loaded=function(f){var k,V,de;for(k=0,V=f.length;k<V;k++)de=G.normalize(f[k]),!G.require_table[de]&&(G.loaded_features.push(de),G.require_table[de]=!0)},G.load_normalized=function(f){G.loaded([f]);var k=G.modules[f];if(k){var V=k(G);if(typeof Promise<"u"&&V instanceof Promise)return V.then(be(!0))}else{var de=G.config.missing_require_severity,Be="cannot load such file -- "+f;de==="error"?xe(G.LoadError,Be):de==="warning"&&Z.warn("WARNING: LoadError: "+Be)}return!0},G.load=function(f){return f=G.normalize(f),G.load_normalized(f)},G.require=function(f){return f=G.normalize(f),G.require_table[f]?!1:G.load_normalized(f)},G.encodings=Object.create(null),G.set_encoding=function(f,k,V){typeof V>"u"&&(V="encoding"),(typeof f=="string"||f.$$frozen===!0)&&xe(G.FrozenError,"can't modify frozen String");var de=G.find_encoding(k);return de===f[V]||(f[V]=de),f},G.find_encoding=function(f){var k=G.encodings,V=k[f]||k[f.toUpperCase()];return V||xe(G.ArgumentError,"unknown encoding name - "+f),V},G.enc=function(f,k){var V=new String(f);return V=G.set_encoding(V,k),V.internal_encoding=V.encoding,V},G.binary=function(f){var k=new String(f);return G.set_encoding(k,"binary","internal_encoding")},G.last_promise=null,G.promise_unhandled_exception=!1,G.queue=function(f){if(G.last_promise)return G.last_promise=G.last_promise.then(function(){if(!G.promise_unhandled_exception)return f(G)}).catch(function(V){G.respond_to(V,"$full_message")&&(V=V.$full_message()),Z.error(V),G.promise_unhandled_exception=!0,G.exit(1)}),G.last_promise;var k=f(G);return typeof Promise=="function"&&typeof k=="object"&&k instanceof Promise&&(G.last_promise=k),k};function gt(f,k){return typeof f=="number"&&typeof k=="number"}G.rb_plus=function(f,k){return gt(f,k)?f+k:f["$+"](k)},G.rb_minus=function(f,k){return gt(f,k)?f-k:f["$-"](k)},G.rb_times=function(f,k){return gt(f,k)?f*k:f["$*"](k)},G.rb_divide=function(f,k){return gt(f,k)?f/k:f["$/"](k)},G.rb_lt=function(f,k){return gt(f,k)?f<k:f["$<"](k)},G.rb_gt=function(f,k){return gt(f,k)?f>k:f["$>"](k)},G.rb_le=function(f,k){return gt(f,k)?f<=k:f["$<="](k)},G.rb_ge=function(f,k){return gt(f,k)?f>=k:f["$>="](k)};function tt(f,k){return typeof f=="number"&&typeof k=="number"||typeof f=="string"&&typeof k=="string"}function le(f,k){return tt(f,k)?f===k:_e(f["$=="](k))}G.eqeq=le,G.eqeqeq=function(f,k){return tt(f,k)?f===k:_e(f["$==="](k))},G.neqeq=function(f,k){return tt(f,k)?f!==k:_e(f["$!="](k))},G.not=function(f){return f==null||f===!1||Se===f?!0:f===!0||f["$!"].$$pristine?!1:_e(f["$!"]())};function be(f){return function(){return f}}G.return_val=be,G.return_self=function(){return this},G.return_ivar=function(f){return function(){return this[f]==null?Se:this[f]}},G.assign_ivar=function(f){return function(k){return vt(this),this[f]=k}},G.assign_ivar_val=function(f,k){return function(){return vt(this),this[f]=k}},G.ensure_kwargs=function(f){if(f==null)return G.hash2([],{});if(f.$$is_hash)return f;xe(G.ArgumentError,"expected kwargs")},G.get_kwarg=function(f,k){return Ie(f.$$smap,k)||xe(G.ArgumentError,"missing keyword: "+k),f.$$smap[k]},G.large_array_unpack=function(f){var k=f.split(","),V=k.length,de;for(de=0;de<V;de++)switch(k[de][0]){case void 0:k[de]=Se;break;case"-":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":k[de]=+k[de]}return k},G.BasicObject=Me=J("BasicObject",null),G.Object=he=J("Object",G.BasicObject),G.Module=Ze=J("Module",G.Object),G.Class=Re=J("Class",G.Module),G.Opal=Le=re("Opal"),G.Kernel=ye=re("Kernel"),je(G.BasicObject,G.Class.$$prototype),je(G.Object,G.Class.$$prototype),je(G.Module,G.Class.$$prototype),je(G.Class,G.Class.$$prototype),Me.$$const.BasicObject=Me,q(he,"BasicObject",Me),q(he,"Object",he),q(he,"Module",Ze),q(he,"Class",Re),q(he,"Opal",Le),q(he,"Kernel",ye),Me.$$class=Re,he.$$class=Re,Ze.$$class=Re,Re.$$class=Re,Le.$$class=Ze,ye.$$class=Ze,fe(he.$$prototype,"toString",function(){var f=this.$to_s();return f.$$is_string&&typeof f=="object"?f.valueOf():f}),fe(he.$$prototype,"$require",G.require),G.top=new he,G.top.$to_s=G.top.$inspect=be("main"),G.top.$define_method=Ne;function Ne(){var f=Ge(arguments),k=Ne.$$p;return Ne.$$p=null,G.send(he,"define_method",f,k)}G.NilClass=J("NilClass",G.Object),q(he,"NilClass",G.NilClass),Se=G.nil=new G.NilClass,Se.$$id=se,Se.call=Se.apply=function(){xe(G.LocalJumpError,"no block given")},Se.$$frozen=!0,Se.$$comparable=!1,Object.seal(Se),G.thrower=function(f){var k=new Error("unexpected "+f);return k.$thrower_type=f,k.$throw=function(V){throw V==null&&(V=Se),k.$v=V,k},k},G.t_eval_return=G.thrower("return"),TypeError.$$super=Error,G.file_sources={}}).call(void 0);Opal.loaded(["corelib/runtime.js"]);Opal.modules["corelib/helpers"]=function(o){var Z=o.type_error,Se=o.coerce_to,Me=o.module,he=o.defs,Ze=o.slice,Re=o.eqeqeq,Le=o.Kernel,ye=o.truthy,G=o.Opal,De=o.nil,Pe=o.$$$;return o.add_stubs("===,raise,respond_to?,nil?,__send__,<=>,class,coerce_to!,new,to_s,__id__"),function(Ie){var je=Me(Ie,"Opal");he(je,"$bridge",function(se,qe){return o.bridge(se,qe)}),he(je,"$coerce_to!",function(se,qe,We,Fe){var xe,fe,_e=De;return xe=Ze(arguments,3),fe=xe,_e=Se(se,qe,We,fe),Re(qe,_e)||Le.$raise(Z(se,qe,We,_e)),_e},-4),he(je,"$coerce_to?",function(se,qe,We,Fe){var xe,fe,_e=De;return xe=Ze(arguments,3),fe=xe,!ye(se["$respond_to?"](We))||(_e=Se(se,qe,We,fe),ye(_e["$nil?"]()))?De:(Re(qe,_e)||Le.$raise(Z(se,qe,We,_e)),_e)},-4),he(je,"$try_convert",function(se,qe,We){return Re(qe,se)?se:ye(se["$respond_to?"](We))?se.$__send__(We):De}),he(je,"$compare",function(se,qe){var We=De;return We=se["$<=>"](qe),ye(We===De)&&Le.$raise(Pe("ArgumentError"),"comparison of "+se.$class()+" with "+qe.$class()+" failed"),We}),he(je,"$destructure",function(se){if(se.length==1)return se[0];if(se.$$is_array)return se;for(var qe=new Array(se.length),We=0,Fe=qe.length;We<Fe;We++)qe[We]=se[We];return qe}),he(je,"$respond_to?",function(se,qe,We){return We==null&&(We=!1),se==null||!se.$$class?!1:se["$respond_to?"](qe,We)},-3),he(je,"$instance_variable_name!",function(se){return se=G["$coerce_to!"](se,Pe("String"),"to_str"),ye(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(se))||Le.$raise(Pe("NameError").$new("'"+se+"' is not allowed as an instance variable name",se)),se}),he(je,"$class_variable_name!",function(se){return se=G["$coerce_to!"](se,Pe("String"),"to_str"),ye(se.length<3||se.slice(0,2)!=="@@")&&Le.$raise(Pe("NameError").$new("`"+se+"' is not allowed as a class variable name",se)),se}),he(je,"$const_name?",function(se){return typeof se!="string"&&(se=G["$coerce_to!"](se,Pe("String"),"to_str")),se[0]===se[0].toUpperCase()}),he(je,"$const_name!",function(se){var qe,We=this;return ye((qe=Pe("::","String","skip_raise"))?"constant":De)&&(se=G["$coerce_to!"](se,Pe("String"),"to_str")),(!se||se[0]!=se[0].toUpperCase())&&We.$raise(Pe("NameError"),"wrong constant name "+se),se}),he(je,"$pristine",function(se,qe){var We,Fe;We=Ze(arguments,1),Fe=We;for(var xe,fe,_e=Fe.length-1;_e>=0;_e--)xe=Fe[_e],fe=se.$$prototype[o.jsid(xe)],fe&&!fe.$$stub&&(fe.$$pristine=!0);return De},-2);var Ge=[];return he(je,"$inspect",function(se){var qe=De,We=!1;return function(){try{try{return se===null?"null":se===void 0?"undefined":typeof se.$$class>"u"?Object.prototype.toString.apply(se):typeof se.$inspect!="function"||se.$inspect.$$stub||Ge.indexOf(se.$__id__())!==-1?"#<"+se.$$class+":0x"+se.$__id__().$to_s(16)+">":(Ge.push(se.$__id__()),We=!0,se.$inspect())}catch(Fe){if(o.rescue(Fe,[Pe("Exception")])){qe=Fe;try{return"#<"+se.$$class+":0x"+se.$__id__().$to_s(16)+">"}finally{o.pop_exception()}}else throw Fe}}finally{We&&Ge.pop()}}()},-1)}("::")};Opal.modules["corelib/module"]=function(o){var Z=o.truthy,Se=o.coerce_to,Me=o.const_set,he=o.Object,Ze=o.return_ivar,Re=o.assign_ivar,Le=o.ivar,ye=o.deny_frozen_access,G=o.freeze,De=o.prop,Pe=o.jsid,Ie=o.klass,je=o.defs,Ge=o.send,Te=o.def,se=o.eqeqeq,qe=o.Module,We=o.Kernel,Fe=o.rb_lt,xe=o.rb_gt,fe=o.slice,_e=o.to_a,$e=o.hash2,Ee=o.Opal,te=o.return_val,me=o.eqeq,X=o.lambda,m=o.range,ae=o.send2,q=o.find_super,J=o.alias,N=[],ze=o.nil,re=o.$$$;return o.add_stubs("module_eval,to_proc,===,raise,equal?,<,>,nil?,attr_reader,attr_writer,warn,attr_accessor,const_name?,class_variable_name!,pristine,const_name!,=~,new,inject,split,const_get,==,start_with?,!~,bind,call,class,frozen?,name,append_features,included,cover?,size,merge,compile,proc,any?,prepend_features,prepended,to_s,__id__,constants,include?,copy_class_variables,copy_constants,class_exec,module_exec,inspect"),function(D,d,n){var r=Ie(D,d,"Module"),s=[r].concat(n),i=o.$r(s);return je(r,"$allocate",function(){var h=this,b=o.allocate_module(ze,function(){});return h!==o.Module&&Object.setPrototypeOf(b,h.$$prototype),b}),Te(r,"$initialize",function $(){var h=$.$$p||ze,b=this;return $.$$p=null,h!==ze?Ge(b,"module_eval",[],h.$to_proc()):ze}),Te(r,"$===",function(h){var b=this;return Z(h==null)?!1:o.is_a(h,b)}),Te(r,"$<",function(h){var b=this;se(qe,h)||We.$raise(re("TypeError"),"compared with non class/module");var B=b,pe,Oe,ot;if(B===h)return!1;for(Oe=0,pe=o.ancestors(b),ot=pe.length;Oe<ot;Oe++)if(pe[Oe]===h)return!0;for(Oe=0,pe=o.ancestors(h),ot=pe.length;Oe<ot;Oe++)if(pe[Oe]===b)return!1;return ze}),Te(r,"$<=",function(h){var b=this,B=ze;return Z(B=b["$equal?"](h))?B:Fe(b,h)}),Te(r,"$>",function(h){var b=this;return se(qe,h)||We.$raise(re("TypeError"),"compared with non class/module"),Fe(h,b)}),Te(r,"$>=",function(h){var b=this,B=ze;return Z(B=b["$equal?"](h))?B:xe(b,h)}),Te(r,"$<=>",function(h){var b=this,B=ze;return b===h?0:!se(qe,h)||(B=Fe(b,h),Z(B["$nil?"]()))?ze:Z(B)?-1:1}),Te(r,"$alias_method",function(h,b){var B=this;return ye(B),h=Se(h,re("String"),"to_str"),b=Se(b,re("String"),"to_str"),o.alias(B,h,b),B}),Te(r,"$alias_native",function(h,b){var B=this;return b==null&&(b=h),ye(B),o.alias_native(B,h,b),B},-2),Te(r,"$ancestors",function(){var h=this;return o.ancestors(h)}),Te(r,"$append_features",function(h){var b=this;return ye(h),o.append_features(b,h),b}),Te(r,"$attr_accessor",function(h){var b,B,pe=this;return b=fe(arguments),B=b,Ge(pe,"attr_reader",_e(B)),Ge(pe,"attr_writer",_e(B))},-1),Te(r,"$attr",function(h){var b,B,pe=this;return b=fe(arguments),B=b,B.length==2&&(B[1]===!0||B[1]===!1)?(pe.$warn("optional boolean argument is obsoleted",$e(["uplevel"],{uplevel:1})),B[1]?pe.$attr_accessor(B[0]):pe.$attr_reader(B[0]),ze):Ge(pe,"attr_reader",_e(B))},-1),Te(r,"$attr_reader",function(h){var b,B,pe=this;b=fe(arguments),B=b,ye(pe);for(var Oe=pe.$$prototype,ot=B.length-1;ot>=0;ot--){var lt=B[ot],pt=Pe(lt),dt=Le(lt),bt=Ze(dt);o.prop(Oe,dt,ze),bt.$$parameters=[],bt.$$arity=0,o.defn(pe,pt,bt)}return ze},-1),Te(r,"$attr_writer",function(h){var b,B,pe=this;b=fe(arguments),B=b,ye(pe);for(var Oe=pe.$$prototype,ot=B.length-1;ot>=0;ot--){var lt=B[ot],pt=Pe(lt+"="),dt=Le(lt),bt=Re(dt);bt.$$parameters=[["req"]],bt.$$arity=1,o.prop(Oe,dt,ze),o.defn(pe,pt,bt)}return ze},-1),Te(r,"$autoload",function(h,b){var B=this;return ye(B),i("Opal")["$const_name?"](h)||We.$raise(re("NameError"),"autoload must be constant name: "+h),b==""&&We.$raise(re("ArgumentError"),"empty file name"),B.$$const.hasOwnProperty(h)||(B.$$autoload||(B.$$autoload={}),o.const_cache_version++,B.$$autoload[h]={path:b,loaded:!1,required:!1,success:!1,exception:!1},B.$const_added&&!B.$const_added.$$pristine&&B.$const_added(h)),ze}),Te(r,"$autoload?",function(h){var b=this;if(b.$$autoload&&b.$$autoload[h]&&!b.$$autoload[h].required&&!b.$$autoload[h].success)return b.$$autoload[h].path;for(var B=b.$ancestors(),pe=0,Oe=B.length;pe<Oe;pe++)if(B[pe].$$autoload&&B[pe].$$autoload[h]&&!B[pe].$$autoload[h].required&&!B[pe].$$autoload[h].success)return B[pe].$$autoload[h].path;return ze}),Te(r,"$class_variables",function(){var h=this;return Object.keys(o.class_variables(h))}),Te(r,"$class_variable_get",function(h){var b=this;return h=Ee["$class_variable_name!"](h),o.class_variable_get(b,h,!1)}),Te(r,"$class_variable_set",function(h,b){var B=this;return ye(B),h=Ee["$class_variable_name!"](h),o.class_variable_set(B,h,b)}),Te(r,"$class_variable_defined?",function(h){var b=this;return h=Ee["$class_variable_name!"](h),o.class_variables(b).hasOwnProperty(h)}),Te(r,"$const_added",te(ze)),Ee.$pristine(r,"const_added"),Te(r,"$remove_class_variable",function(h){var b=this;if(ye(b),h=Ee["$class_variable_name!"](h),o.hasOwnProperty.call(b.$$cvars,h)){var B=b.$$cvars[h];return delete b.$$cvars[h],B}else We.$raise(re("NameError"),"cannot remove "+h+" for "+b)}),Te(r,"$constants",function(h){var b=this;return h==null&&(h=!0),o.constants(b,h)},-1),je(r,"$constants",function(h){var b=this;if(h==null){var B=(b.$$nesting||[]).concat(he),pe,Oe={},ot,lt;for(ot=0,lt=B.length;ot<lt;ot++)for(pe in B[ot].$$const)Oe[pe]=!0;return Object.keys(Oe)}else return o.constants(b,h)},-1),je(r,"$nesting",function(){var h=this;return h.$$nesting||[]}),Te(r,"$const_defined?",function(h,b){var B=this;b==null&&(b=!0),h=i("Opal")["$const_name!"](h),Z(h["$=~"](re(Ee,"CONST_NAME_REGEXP")))||We.$raise(re("NameError").$new("wrong constant name "+h,h));var pe,Oe=[B],ot,lt,pt;for(b&&(Oe=Oe.concat(o.ancestors(B)),B.$$is_module&&(Oe=Oe.concat([he]).concat(o.ancestors(he)))),lt=0,pt=Oe.length;lt<pt;lt++)if(pe=Oe[lt],pe.$$const[h]!=null||pe.$$autoload&&pe.$$autoload[h]&&!pe.$$autoload[h].required&&!pe.$$autoload[h].success)return!0;return!1},-2),Te(r,"$const_get",function(h,b){var B=this;return b==null&&(b=!0),h=i("Opal")["$const_name!"](h),h.indexOf("::")===0&&h!=="::"&&(h=h.slice(2)),Z(h.indexOf("::")!=-1&&h!="::")?Ge(h.$split("::"),"inject",[B],function(Oe,ot){return Oe==null&&(Oe=ze),ot==null&&(ot=ze),Oe.$const_get(ot)}):(Z(h["$=~"](re(Ee,"CONST_NAME_REGEXP")))||We.$raise(re("NameError").$new("wrong constant name "+h,h)),b?o.$$([B],h):o.const_get_local(B,h))},-2),Te(r,"$const_missing",function(h){var b=this,B=ze;return B=me(b,he)?h:""+b+"::"+h,We.$raise(re("NameError").$new("uninitialized constant "+B,h))}),Te(r,"$const_set",function(h,b){var B=this;return ye(B),h=Ee["$const_name!"](h),(Z(h["$!~"](re(Ee,"CONST_NAME_REGEXP")))||Z(h["$start_with?"]("::")))&&We.$raise(re("NameError").$new("wrong constant name "+h,h)),Me(B,h,b),b}),Te(r,"$public_constant",te(ze)),Te(r,"$define_method",function $(h,b){var B=$.$$p||ze,pe=this,Oe=ze,ot=ze;if($.$$p=null,ye(pe),b===void 0&&B===ze&&We.$raise(re("ArgumentError"),"tried to create a Proc object without a block"),B=Z(Oe=B)?Oe:se(re("Proc"),ot=b)?b:se(re("Method"),ot)?b.$to_proc().$$unbound:se(re("UnboundMethod"),ot)?X(function pt(dt){var bt,ht,vt=pt.$$s==null?this:pt.$$s,gt=ze;return bt=fe(arguments),ht=bt,gt=b.$bind(vt),Ge(gt,"call",_e(ht))},{$$arity:-1,$$s:pe}):We.$raise(re("TypeError"),"wrong argument type "+B.$class()+" (expected Proc/Method)"),typeof Proxy<"u"){var lt=Object.create(null);B.$$proxy_target=B,B=new Proxy(B,{apply:function(pt,dt,bt){var ht=pt.$$jsid;pt.$$jsid=h;try{return pt.apply(dt,bt)}catch(vt){if(vt===pt.$$brk||vt===pt.$$ret)return vt.$v;throw vt}finally{pt.$$jsid=ht}}})}return B.$$jsid=h,B.$$s=null,B.$$def=B,B.$$define_meth=!0,o.defn(pe,Pe(h),B)},-2),Te(r,"$freeze",function(){var h=this;return Z(h["$frozen?"]())?h:(h.hasOwnProperty("$$base_module")||De(h,"$$base_module",null),G(h))}),Te(r,"$remove_method",function(h){var b,B,pe=this;b=fe(arguments),B=b;for(var Oe=0;Oe<B.length;Oe++){var ot=B[Oe];typeof ot=="string"||ot.$$is_string||pe.$raise(re("TypeError"),""+pe.$name()+" is not a symbol nor a string"),ye(pe),o.rdef(pe,"$"+ot)}return pe},-1),Te(r,"$singleton_class?",function(){var h=this;return!!h.$$is_singleton}),Te(r,"$include",function(h){var b,B,pe=this;b=fe(arguments),B=b;for(var Oe=B.length-1;Oe>=0;Oe--){var ot=B[Oe];ot.$$is_module||We.$raise(re("TypeError"),"wrong argument type "+ot.$class()+" (expected Module)"),ot.$append_features(pe),ot.$included(pe)}return pe},-1),Te(r,"$included_modules",function(){var h=this;return o.included_modules(h)}),Te(r,"$include?",function(h){var b=this;h.$$is_module||We.$raise(re("TypeError"),"wrong argument type "+h.$class()+" (expected Module)");var B,pe,Oe,ot=o.ancestors(b);for(B=0,pe=ot.length;B<pe;B++)if(Oe=ot[B],Oe===h&&Oe!==b)return!0;return!1}),Te(r,"$instance_method",function(h){var b=this,B=b.$$prototype[Pe(h)];return(!B||B.$$stub)&&We.$raise(re("NameError").$new("undefined method `"+h+"' for class `"+b.$name()+"'",h)),re("UnboundMethod").$new(b,B.$$owner||b,B,h)}),Te(r,"$instance_methods",function(h){var b=this;return h==null&&(h=!0),Z(h)?o.instance_methods(b):o.own_instance_methods(b)},-1),Te(r,"$included",te(ze)),Te(r,"$extended",te(ze)),Te(r,"$extend_object",function(h){return ye(h),ze}),Te(r,"$method_added",function(h){var b,B;return b=fe(arguments),B=b,ze},-1),Te(r,"$method_removed",function(h){var b,B;return b=fe(arguments),B=b,ze},-1),Te(r,"$method_undefined",function(h){var b,B;return b=fe(arguments),B=b,ze},-1),Te(r,"$module_eval",function $(h){var b=$.$$p||ze,B,pe,Oe,ot=this,lt=ze,pt=ze,dt=ze,bt=ze,ht=ze,vt=ze,gt=ze;$.$$p=null,B=fe(arguments),pe=B,Z(b["$nil?"]())&&Z(!!o.compile)?(Z(m(1,3,!1)["$cover?"](pe.$size()))||We.$raise(re("ArgumentError"),"wrong number of arguments (0 for 1..3)"),Oe=[].concat(_e(pe)),lt=Oe[0]==null?ze:Oe[0],pt=Oe[1]==null?ze:Oe[1],dt=Oe[2]==null?ze:Oe[2],bt=$e(["file","eval"],{file:Z(ht=pt)?ht:"(eval)",eval:!0}),vt=o.hash({arity_check:!1}).$merge(bt),gt=Ee.$compile(lt,vt),b=Ge(We,"proc",[],function be(){var Ne=be.$$s==null?this:be.$$s;return new Function("Opal,self","return "+gt)(o,Ne)},{$$s:ot})):Z(pe["$any?"]())&&We.$raise(re("ArgumentError"),"wrong number of arguments ("+pe.$size()+` for 0)

  NOTE:If you want to enable passing a String argument please add "require 'opal-parser'" to your script
`);var tt=b.$$s,le;return b.$$s=null,le=b.apply(ot,[ot]),b.$$s=tt,le},-1),Te(r,"$module_exec",function $(h){var b=$.$$p||ze,B,pe,Oe=this;$.$$p=null,B=fe(arguments),pe=B,b===ze&&We.$raise(re("LocalJumpError"),"no block given");var ot=b.$$s,lt;return b.$$s=null,lt=b.apply(Oe,pe),b.$$s=ot,lt},-1),Te(r,"$method_defined?",function(h){var b=this,B=b.$$prototype[Pe(h)];return!!B&&!B.$$stub}),Te(r,"$module_function",function(h){var b,B,pe=this;if(b=fe(arguments),B=b,ye(pe),B.length===0)return pe.$$module_function=!0,ze;for(var Oe=0,ot=B.length;Oe<ot;Oe++){var lt=B[Oe],pt=Pe(lt),dt=pe.$$prototype[pt];o.defs(pe,pt,dt)}return B.length===1?B[0]:B;return pe},-1),Te(r,"$name",function(){var h=this;if(h.$$full_name)return h.$$full_name;for(var b=[],B=h;B;){if(B.$$name===ze||B.$$name==null)return ze;if(b.unshift(B.$$name),B=B.$$base_module,B===he)break}return b.length===0?ze:h.$$full_name=b.join("::")}),Te(r,"$prepend",function(h){var b,B,pe=this;b=fe(arguments),B=b,B.length===0&&We.$raise(re("ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var Oe=B.length-1;Oe>=0;Oe--){var ot=B[Oe];ot.$$is_module||We.$raise(re("TypeError"),"wrong argument type "+ot.$class()+" (expected Module)"),ot.$prepend_features(pe),ot.$prepended(pe)}return pe},-1),Te(r,"$prepend_features",function(h){var b=this;return ye(h),b.$$is_module||We.$raise(re("TypeError"),"wrong argument type "+b.$class()+" (expected Module)"),o.prepend_features(b,h),b}),Te(r,"$prepended",te(ze)),Te(r,"$remove_const",function(h){var b=this;return ye(b),o.const_remove(b,h)}),Te(r,"$to_s",function(){var h=this,b=ze;return Z(b=o.Module.$name.call(h))?b:"#<"+(h.$$is_module?"Module":"Class")+":0x"+h.$__id__().$to_s(16)+">"}),Te(r,"$undef_method",function(h){var b,B,pe=this;b=fe(arguments),B=b;for(var Oe=0;Oe<B.length;Oe++){var ot=B[Oe];typeof ot=="string"||ot.$$is_string||pe.$raise(re("TypeError"),""+pe.$name()+" is not a symbol nor a string"),ye(pe),o.udef(pe,"$"+B[Oe])}return pe},-1),Te(r,"$instance_variables",function(){var h=this,b=ze;b=(o.Module.$$nesting=s,h.$constants());var B=[];for(var pe in h)h.hasOwnProperty(pe)&&pe.charAt(0)!=="$"&&pe!=="constructor"&&!b["$include?"](pe)&&B.push("@"+pe);return B}),Te(r,"$dup",function $(){var h=$.$$p||ze,b=this,B=ze;return $.$$p=null,B=ae(b,q(b,"dup",$,!1,!0),"dup",[],h),B.$copy_class_variables(b),B.$copy_constants(b),B}),Te(r,"$copy_class_variables",function(h){var b=this;for(var B in h.$$cvars)b.$$cvars[B]=h.$$cvars[B]}),Te(r,"$copy_constants",function(h){var b=this,B,pe=h.$$const;for(B in pe)Me(b,B,pe[B])}),Te(r,"$refine",function $(h){var b=$.$$p||ze,B,pe=this,Oe=ze,ot=ze,lt=ze;return $.$$p=null,B=[pe,ze,ze],Oe=B[0],ot=B[1],lt=B[2],lt=o.id(h),typeof pe.$$refine_modules>"u"&&(pe.$$refine_modules=Object.create(null)),typeof pe.$$refine_modules[lt]>"u"?ot=pe.$$refine_modules[lt]=re("Refinement").$new():ot=pe.$$refine_modules[lt],ot.refinement_module=Oe,ot.refined_class=h,Ge(ot,"class_exec",[],b.$to_proc()),ot}),Te(r,"$refinements",function(){var h=this,b=h.$$refine_modules,B=$e([],{});if(typeof b>"u")return B;for(var pe in b)B["$[]="](b[pe].refined_class,b[pe]);return B}),Te(r,"$using",function(h){return We.$raise("Module#using is not permitted in methods")}),J(r,"class_eval","module_eval"),J(r,"class_exec","module_exec"),J(r,"inspect","to_s")}("::",null,N),function(D,d){var n=Ie(D,d,"Refinement"),r=n.$$prototype;return r.refinement_module=r.refined_class=ze,n.$attr_reader("refined_class"),Te(n,"$inspect",function s(){var i=s.$$p||ze,$=this;return s.$$p=null,Z($.refinement_module)?"#<refinement:"+$.refined_class.$inspect()+"@"+$.refinement_module.$inspect()+">":ae($,q($,"inspect",s,!1,!0),"inspect",[],i)})}("::",qe)};Opal.modules["corelib/class"]=function(o){var Z=o.klass,Se=o.send,Me=o.defs,he=o.def,Ze=o.rb_plus,Re=o.return_val,Le=o.slice,ye=o.send2,G=o.find_super,De=o.Kernel,Pe=o.alias,Ie=o.top,je=[],Ge=o.nil,Te=o.$$$;return o.add_stubs("require,class_eval,to_proc,+,subclasses,flatten,map,initialize_copy,allocate,name,to_s,raise"),Ie.$require("corelib/module"),function(se,qe,We){var Fe=Z(se,qe,"Class"),xe=[Fe].concat(We),fe=o.$r(xe);return Me(Fe,"$new",function _e($e){var Ee=_e.$$p||Ge;if(_e.$$p=null,$e==null&&($e=fe("Object")),!$e.$$is_class)throw o.TypeError.$new("superclass must be a Class");var te=o.allocate_class(Ge,$e);return $e.$inherited(te),Ee!==Ge&&Se(te,"class_eval",[],Ee.$to_proc()),te},-1),he(Fe,"$allocate",function(){var $e=this,Ee=new $e.$$constructor;return Ee.$$id=o.uid(),Ee}),he(Fe,"$descendants",function(){var $e=this;return Ze($e.$subclasses(),Se($e.$subclasses(),"map",[],"descendants".$to_proc()).$flatten())}),he(Fe,"$inherited",Re(Ge)),he(Fe,"$initialize_dup",function($e){var Ee=this;Ee.$initialize_copy($e),Ee.$$name=null,Ee.$$full_name=null}),he(Fe,"$new",function _e($e){var Ee=_e.$$p||Ge,te,me,X=this;_e.$$p=null,te=Le(arguments),me=te;var m=X.$allocate();return o.send(m,m.$initialize,me,Ee),m},-1),he(Fe,"$subclasses",function(){var $e=this;if(typeof WeakRef<"u"){var Ee,te,me=[];for(Ee=0;Ee<$e.$$subclasses.length;Ee++)te=$e.$$subclasses[Ee].deref(),te!==void 0&&me.push(te);return me}else return $e.$$subclasses}),he(Fe,"$superclass",function(){var $e=this;return $e.$$super||Ge}),he(Fe,"$to_s",function _e(){var $e=_e.$$p||Ge,Ee=this;_e.$$p=null;var te=Ee.$$singleton_of;return te&&te.$$is_a_module?"#<Class:"+te.$name()+">":te?"#<Class:#<"+te.$$class.$name()+":0x"+o.id(te).$to_s(16)+">>":ye(Ee,G(Ee,"to_s",_e,!1,!0),"to_s",[],null)}),he(Fe,"$attached_object",function(){var $e=this;if($e.$$singleton_of!=null)return $e.$$singleton_of;De.$raise(Te("TypeError"),"`"+$e+"' is not a singleton class")}),Pe(Fe,"inspect","to_s")}("::",null,je)};Opal.modules["corelib/basic_object"]=function(o){"use strict";var Z=o.klass,Se=o.slice,Me=o.def,he=o.alias,Ze=o.return_val,Re=o.Opal,Le=o.truthy,ye=o.range,G=o.Kernel,De=o.to_a,Pe=o.hash2,Ie=o.send,je=o.eqeq,Ge=o.rb_ge,Te=o.nil,se=o.$$$;return o.add_stubs("==,raise,inspect,pristine,!,nil?,cover?,size,merge,compile,proc,[],first,>=,length,instance_variable_get,any?,new,caller"),function(qe,We){var Fe=Z(qe,We,"BasicObject");return Me(Fe,"$initialize",function(fe){var _e,$e;return _e=Se(arguments),$e=_e,Te},-1),Me(Fe,"$==",function(fe){var _e=this;return _e===fe}),Me(Fe,"$eql?",function(fe){var _e=this;return _e["$=="](fe)}),he(Fe,"equal?","=="),Me(Fe,"$__id__",function(){var fe=this;return fe.$$id!=null||o.prop(fe,"$$id",o.uid()),fe.$$id}),Me(Fe,"$__send__",function xe(fe,_e){var $e=xe.$$p||Te,Ee,te,me=this;xe.$$p=null,Ee=Se(arguments,1),te=Ee,fe.$$is_string||me.$raise(se("TypeError"),""+me.$inspect()+" is not a symbol nor a string");var X=me[o.jsid(fe)];return X?($e!==Te&&(X.$$p=$e),X.apply(me,te)):($e!==Te&&(me.$method_missing.$$p=$e),me.$method_missing.apply(me,[fe].concat(te)))},-2),Me(Fe,"$!",Ze(!1)),Re.$pristine("!"),Me(Fe,"$!=",function(fe){var _e=this;return _e["$=="](fe)["$!"]()}),Me(Fe,"$instance_eval",function xe(fe){var _e=xe.$$p||Te,$e,Ee,te,me=this,X=Te,m=Te,ae=Te,q=Te,J=Te,N=Te,ze=Te;if(xe.$$p=null,$e=Se(arguments),Ee=$e,Le(_e["$nil?"]())&&Le(!!o.compile))Le(ye(1,3,!1)["$cover?"](Ee.$size()))||G.$raise(se("ArgumentError"),"wrong number of arguments (0 for 1..3)"),te=[].concat(De(Ee)),X=te[0]==null?Te:te[0],m=te[1]==null?Te:te[1],ae=te[2]==null?Te:te[2],q=Pe(["file","eval"],{file:Le(J=m)?J:"(eval)",eval:!0}),N=o.hash({arity_check:!1}).$merge(q),ze=Re.$compile(X,N),_e=Ie(G,"proc",[],function d(){var n=d.$$s==null?this:d.$$s;return new Function("Opal,self","return "+ze)(o,n)},{$$s:me});else{if(Le(_e["$nil?"]())&&Le(Ge(Ee.$length(),1))&&je(Ee.$first()["$[]"](0),"@"))return me.$instance_variable_get(Ee.$first());Le(Ee["$any?"]())&&G.$raise(se("ArgumentError"),"wrong number of arguments ("+Ee.$size()+" for 0)")}var re=_e.$$s,D;if(_e.$$s=null,me.$$is_a_module){me.$$eval=!0;try{D=_e.call(me,me)}finally{me.$$eval=!1}}else D=_e.call(me,me);return _e.$$s=re,D},-1),Me(Fe,"$instance_exec",function xe(fe){var _e=xe.$$p||Te,$e,Ee,te=this;xe.$$p=null,$e=Se(arguments),Ee=$e,Le(_e)||G.$raise(se("ArgumentError"),"no block given");var me=_e.$$s,X;if(_e.$$s=null,te.$$is_a_module){te.$$eval=!0;try{X=_e.apply(te,Ee)}finally{te.$$eval=!1}}else X=_e.apply(te,Ee);return _e.$$s=me,X},-1),Me(Fe,"$singleton_method_added",function(fe){var _e,$e;return _e=Se(arguments),$e=_e,Te},-1),Me(Fe,"$singleton_method_removed",function(fe){var _e,$e;return _e=Se(arguments),$e=_e,Te},-1),Me(Fe,"$singleton_method_undefined",function(fe){var _e,$e;return _e=Se(arguments),$e=_e,Te},-1),Me(Fe,"$method_missing",function xe(fe,_e){var $e=xe.$$p||Te,Ee,te,me=this,X=Te;return xe.$$p=null,Ee=Se(arguments,1),te=Ee,X=Re.$inspect(me),G.$raise(se("NoMethodError").$new("undefined method `"+fe+"' for "+X,fe,te),Te,G.$caller(1))},-2),Re.$pristine(Fe,"method_missing"),Me(Fe,"$respond_to_missing?",function(fe,_e){return _e==null&&(_e=!1),!1},-2)}("::",null)};Opal.modules["corelib/kernel"]=function(o){"use strict";var Z=o.truthy,Se=o.coerce_to,Me=o.respond_to,he=o.Opal,Ze=o.deny_frozen_access,Re=o.freeze,Le=o.freeze_props,ye=o.jsid,G=o.module,De=o.return_val,Pe=o.def,Ie=o.Kernel,je=o.gvars,Ge=o.slice,Te=o.send,se=o.to_a,qe=o.ensure_kwargs,We=o.eqeq,Fe=o.hash2,xe=o.rb_plus,fe=o.eqeqeq,_e=o.return_self,$e=o.rb_le,Ee=o.extract_kwargs,te=o.rb_lt,me=o.Object,X=o.alias,m=o.klass,ae=[],q=o.nil,J=o.$$$;return o.add_stubs("!,=~,==,object_id,raise,new,class,coerce_to?,<<,map,caller,nil?,allocate,copy_instance_variables,copy_singleton_methods,initialize_clone,frozen?,freeze,initialize_copy,define_method,singleton_class,to_proc,initialize_dup,for,empty?,pop,call,append_features,extend_object,extended,gets,__id__,include?,each,instance_variables,instance_variable_get,inspect,+,to_s,instance_variable_name!,respond_to?,to_int,coerce_to!,Integer,===,enum_for,result,any?,print,format,puts,<=,length,[],readline,<,first,split,to_str,exception,backtrace,rand,respond_to_missing?,pristine,try_convert!,expand_path,join,start_with?,new_seed,srand,tag,value,open,is_a?,__send__,yield_self,include"),function(N,ze){var re=G(N,"Kernel"),D=[re].concat(ze),d=o.$r(D);Pe(re,"$=~",De(!1)),Pe(re,"$!~",function(s){var i=this;return i["$=~"](s)["$!"]()}),Pe(re,"$===",function(s){var i=this,$=q;return Z($=i.$object_id()["$=="](s.$object_id()))?$:i["$=="](s)}),Pe(re,"$<=>",function(s){var i=this;i.$$comparable=!0;var $=i["$=="](s);return $&&$!==q?0:q}),Pe(re,"$method",function(s){var i=this,$=i[ye(s)];return(!$||$.$$stub)&&Ie.$raise(J("NameError").$new("undefined method `"+s+"' for class `"+i.$class()+"'",s)),J("Method").$new(i,$.$$owner||i.$class(),$,s)}),Pe(re,"$methods",function(s){var i=this;return s==null&&(s=!0),Z(s)?o.methods(i):o.own_methods(i)},-1),Pe(re,"$public_methods",function(s){var i=this;return s==null&&(s=!0),Z(s)?o.methods(i):o.receiver_methods(i)},-1),Pe(re,"$Array",function(s){var i;return s===q?[]:s.$$is_array?s:(i=he["$coerce_to?"](s,J("Array"),"to_ary"),i!==q||(i=he["$coerce_to?"](s,J("Array"),"to_a"),i!==q)?i:[s])}),Pe(re,"$at_exit",function r(){var s=r.$$p||q,i=q;return je.__at_exit__==null&&(je.__at_exit__=q),r.$$p=null,je.__at_exit__=Z(i=je.__at_exit__)?i:[],je.__at_exit__["$<<"](s),s}),Pe(re,"$caller",function(s,i){s==null&&(s=1),i==null&&(i=q);var $,h;$=new Error().$backtrace(),h=[];for(var b=s+1,B=$.length;b<B;b++)$[b].match(/runtime\.js/)||h.push($[b]);return i!=q&&(h=h.slice(0,i)),h},-1),Pe(re,"$caller_locations",function(s){var i,$,h=this;return i=Ge(arguments),$=i,Te(Te(h,"caller",se($)),"map",[],function(B){return B==null&&(B=q),J(J(J("Thread"),"Backtrace"),"Location").$new(B)})},-1),Pe(re,"$class",function(){var s=this;return s.$$class}),Pe(re,"$copy_instance_variables",function(s){var i=this,$=Object.keys(s),h,b,B;for(h=0,b=$.length;h<b;h++)B=$[h],B.charAt(0)!=="$"&&s.hasOwnProperty(B)&&(i[B]=s[B])}),Pe(re,"$copy_singleton_methods",function(s){var i=this,$,h,b,B;if(s.hasOwnProperty("$$meta")&&s.$$meta!==null){var pe=o.get_singleton_class(s),Oe=o.get_singleton_class(i);for(b=Object.getOwnPropertyNames(pe.$$prototype),$=0,B=b.length;$<B;$++)h=b[$],o.is_method(h)&&(Oe.$$prototype[h]=pe.$$prototype[h]);Oe.$$const=Object.assign({},pe.$$const),Object.setPrototypeOf(Oe.$$prototype,Object.getPrototypeOf(pe.$$prototype))}for($=0,b=Object.getOwnPropertyNames(s),B=b.length;$<B;$++)h=b[$],h.charAt(0)==="$"&&h.charAt(1)!=="$"&&s.hasOwnProperty(h)&&(i[h]=s[h])}),Pe(re,"$clone",function(s){var i,$=this,h=q;return s=qe(s),i=s.$$smap.freeze,i==null&&(i=q),Z(i["$nil?"]())||We(i,!0)||We(i,!1)||$.$raise(d("ArgumentError"),"unexpected value for freeze: "+i.$class()),h=$.$class().$allocate(),h.$copy_instance_variables($),h.$copy_singleton_methods($),h.$initialize_clone($,Fe(["freeze"],{freeze:i})),(We(i,!0)||Z(i["$nil?"]())&&Z($["$frozen?"]()))&&h.$freeze(),h},-1),Pe(re,"$initialize_clone",function(s,i){var $,h=this;return i=qe(i),$=i.$$smap.freeze,$==null&&($=q),h.$initialize_copy(s),h},-2),Pe(re,"$define_singleton_method",function r(s,i){var $=r.$$p||q,h=this;return r.$$p=null,Te(h.$singleton_class(),"define_method",[s,i],$.$to_proc())},-2),Pe(re,"$dup",function(){var s=this,i=q;return i=s.$class().$allocate(),i.$copy_instance_variables(s),i.$initialize_dup(s),i}),Pe(re,"$initialize_dup",function(s){var i=this;return i.$initialize_copy(s)}),Pe(re,"$enum_for",function r(s,i){var $=r.$$p||q,h,b,B,pe=this;return r.$$p=null,h=Ge(arguments),h.length>0&&(b=h.shift()),b==null&&(b="each"),B=h,Te(J("Enumerator"),"for",[pe,b].concat(se(B)),$.$to_proc())},-1),Pe(re,"$equal?",function(s){var i=this;return i===s}),Pe(re,"$exit",function(s){var i=q,$=q;for(je.__at_exit__==null&&(je.__at_exit__=q),s==null&&(s=!0),je.__at_exit__=Z(i=je.__at_exit__)?i:[];!Z(je.__at_exit__["$empty?"]());)$=je.__at_exit__.$pop(),$.$call();return s.$$is_boolean?s=s?0:1:s=Se(s,J("Integer"),"to_int"),o.exit(s),q},-1),Pe(re,"$extend",function(s){var i,$,h=this;i=Ge(arguments),$=i,$.length==0&&h.$raise(J("ArgumentError"),"wrong number of arguments (given 0, expected 1+)"),Ze(h);for(var b=h.$singleton_class(),B=$.length-1;B>=0;B--){var pe=$[B];pe.$$is_module||Ie.$raise(J("TypeError"),"wrong argument type "+pe.$class()+" (expected Module)"),pe.$append_features(b),pe.$extend_object(h),pe.$extended(h)}return h},-1),Pe(re,"$freeze",function(){var s=this;return Z(s["$frozen?"]())?s:typeof s=="object"?(Le(s),Re(s)):s}),Pe(re,"$frozen?",function(){var s=this;switch(typeof s){case"string":case"symbol":case"number":case"boolean":return!0;case"object":return s.$$frozen||!1;default:return!1}}),Pe(re,"$gets",function(s){var i,$;return je.stdin==null&&(je.stdin=q),i=Ge(arguments),$=i,Te(je.stdin,"gets",se($))},-1),Pe(re,"$hash",function(){var s=this;return s.$__id__()}),Pe(re,"$initialize_copy",De(q));var n=[];return Pe(re,"$inspect",function(){var s=this,i=q,$=q,h=q,b=q;return function(){try{try{return i="",$=s.$__id__(),Z(n["$include?"]($))?i=" ...":(n["$<<"]($),h=!0,Te(s.$instance_variables(),"each",[],function B(pe){var Oe=B.$$s==null?this:B.$$s,ot=q,lt=q;return pe==null&&(pe=q),ot=Oe.$instance_variable_get(pe),lt=d("Opal").$inspect(ot),i=xe(i," "+pe+"="+lt)},{$$s:s})),"#<"+s.$class()+":0x"+$.$to_s(16)+i+">"}catch(B){if(o.rescue(B,[d("StandardError")])){b=B;try{return"#<"+s.$class()+":0x"+$.$to_s(16)+">"}finally{o.pop_exception()}}else throw B}}finally{Z(h)&&n.$pop()}}()}),Pe(re,"$instance_of?",function(s){var i=this;return!s.$$is_class&&!s.$$is_module&&Ie.$raise(J("TypeError"),"class or module required"),i.$$class===s}),Pe(re,"$instance_variable_defined?",function(s){var i=this;return s=he["$instance_variable_name!"](s),o.hasOwnProperty.call(i,s.substr(1))}),Pe(re,"$instance_variable_get",function(s){var i=this;s=he["$instance_variable_name!"](s);var $=i[o.ivar(s.substr(1))];return $??q}),Pe(re,"$instance_variable_set",function(s,i){var $=this;return Ze($),s=he["$instance_variable_name!"](s),$[o.ivar(s.substr(1))]=i}),Pe(re,"$remove_instance_variable",function(s){var i=this;s=he["$instance_variable_name!"](s);var $=o.ivar(s.substr(1)),h;return i.hasOwnProperty($)?(h=i[$],delete i[$],h):Ie.$raise(J("NameError"),"instance variable "+s+" not defined")}),Pe(re,"$instance_variables",function(){var s=this,i=[],$;for(var h in s)s.hasOwnProperty(h)&&h.charAt(0)!=="$"&&(h.substr(-1)==="$"?$=h.slice(0,h.length-1):$=h,i.push("@"+$));return i}),Pe(re,"$Integer",function(s,i){var $,h,b;return s.$$is_string?s==="0"?0:(i===void 0?i=0:(i=Se(i,J("Integer"),"to_int"),(i===1||i<0||i>36)&&Ie.$raise(J("ArgumentError"),"invalid radix "+i)),h=s.toLowerCase(),h=h.replace(/(\d)_(?=\d)/g,"$1"),h=h.replace(/^(\s*[+-]?)(0[bodx]?)/,function(B,pe,Oe){switch(Oe){case"0b":if(i===0||i===2)return i=2,pe;case"0":case"0o":if(i===0||i===8)return i=8,pe;case"0d":if(i===0||i===10)return i=10,pe;case"0x":if(i===0||i===16)return i=16,pe}Ie.$raise(J("ArgumentError"),'invalid value for Integer(): "'+s+'"')}),i=i===0?10:i,b="0-"+(i<=10?i-1:"9a-"+String.fromCharCode(97+(i-11))),new RegExp("^\\s*[+-]?["+b+"]+\\s*$").test(h)||Ie.$raise(J("ArgumentError"),'invalid value for Integer(): "'+s+'"'),$=parseInt(h,i),isNaN($)&&Ie.$raise(J("ArgumentError"),'invalid value for Integer(): "'+s+'"'),$):(i!==void 0&&Ie.$raise(J("ArgumentError"),"base specified for non string value"),s===q&&Ie.$raise(J("TypeError"),"can't convert nil into Integer"),s.$$is_number?((s===1/0||s===-1/0||isNaN(s))&&Ie.$raise(J("FloatDomainError"),s),Math.floor(s)):s["$respond_to?"]("to_int")&&($=s.$to_int(),$!==q)?$:he["$coerce_to!"](s,J("Integer"),"to_i"))},-2),Pe(re,"$Float",function(s){var i;return s===q&&Ie.$raise(J("TypeError"),"can't convert nil into Float"),s.$$is_string?(i=s.toString(),i=i.replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(i)?Ie.$Integer(i):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(i)||Ie.$raise(J("ArgumentError"),'invalid value for Float(): "'+s+'"'),parseFloat(i))):he["$coerce_to!"](s,J("Float"),"to_f")}),Pe(re,"$Hash",function(s){return Z(s["$nil?"]())||We(s,[])?Fe([],{}):fe(J("Hash"),s)?s:he["$coerce_to!"](s,J("Hash"),"to_hash")}),Pe(re,"$is_a?",function(s){var i=this;return!s.$$is_class&&!s.$$is_module&&Ie.$raise(J("TypeError"),"class or module required"),o.is_a(i,s)}),Pe(re,"$itself",_e),Pe(re,"$lambda",function r(){var s=r.$$p||q;return r.$$p=null,o.lambda(s)}),Pe(re,"$load",function(s){return s=he["$coerce_to!"](s,J("String"),"to_str"),o.load(s)}),Pe(re,"$loop",function r(){var s=r.$$p||q,i=this,$=q;if(r.$$p=null,s===q)return Te(i,"enum_for",["loop"],function(){return J(J("Float"),"INFINITY")});for(;Z(!0);)try{o.yieldX(s,[])}catch(h){if(o.rescue(h,[J("StopIteration")])){$=h;try{return $.$result()}finally{o.pop_exception()}}else throw h}return i}),Pe(re,"$nil?",De(!1)),Pe(re,"$printf",function(s){var i,$,h=this;return i=Ge(arguments),$=i,Z($["$any?"]())&&h.$print(Te(h,"format",se($))),q},-1),Pe(re,"$proc",function r(){var s=r.$$p||q;return r.$$p=null,Z(s)||Ie.$raise(J("ArgumentError"),"tried to create Proc object without a block"),s.$$is_lambda=!1,s}),Pe(re,"$puts",function(s){var i,$;return je.stdout==null&&(je.stdout=q),i=Ge(arguments),$=i,Te(je.stdout,"puts",se($))},-1),Pe(re,"$p",function(s){var i,$;return i=Ge(arguments),$=i,Te($,"each",[],function(b){return je.stdout==null&&(je.stdout=q),b==null&&(b=q),je.stdout.$puts(b.$inspect())}),Z($e($.$length(),1))?$["$[]"](0):$},-1),Pe(re,"$print",function(s){var i,$;return je.stdout==null&&(je.stdout=q),i=Ge(arguments),$=i,Te(je.stdout,"print",se($))},-1),Pe(re,"$readline",function(s){var i,$;return je.stdin==null&&(je.stdin=q),i=Ge(arguments),$=i,Te(je.stdin,"readline",se($))},-1),Pe(re,"$warn",function(s,i){var $,h,b,B,pe,Oe,ot=this,lt=q;return je.VERBOSE==null&&(je.VERBOSE=q),je.stderr==null&&(je.stderr=q),$=Ge(arguments),h=Ee($),h=qe(h),b=$,B=h.$$smap.uplevel,B==null&&(B=q),Z(B)&&(B=he["$coerce_to!"](B,J("Integer"),"to_str"),Z(te(B,0))&&Ie.$raise(J("ArgumentError"),"negative level ("+B+")"),lt=(pe=(Oe=ot.$caller(xe(B,1),1).$first(),Oe===q||Oe==null?q:Oe.$split(":in `")),pe===q||pe==null?q:pe.$first()),Z(lt)&&(lt=""+lt+": "),b=Te(b,"map",[],function(dt){return dt==null&&(dt=q),""+lt+"warning: "+dt})),Z(je.VERBOSE["$nil?"]())||Z(b["$empty?"]())?q:Te(je.stderr,"puts",se(b))},-1),Pe(re,"$raise",function(s,i,$){throw je["!"]==null&&(je["!"]=q),je["@"]==null&&(je["@"]=q),i==null&&(i=q),$==null&&($=q),s==null&&je["!"]!==q?je["!"]:(s==null?s=J("RuntimeError").$new(""):Me(s,"$to_str")?s=J("RuntimeError").$new(s.$to_str()):s.$$is_class&&Me(s,"$exception")?s=s.$exception(i):s.$$is_exception||(s=J("TypeError").$new("exception class/object expected")),$!==q&&s.$set_backtrace($),je["!"]!==q&&o.exceptions.push(je["!"]),je["!"]=s,je["@"]=s.$backtrace(),s)},-1),Pe(re,"$rand",function(s){return s===void 0?J(J("Random"),"DEFAULT").$rand():(s.$$is_number&&(s<0&&(s=Math.abs(s)),s%1!==0&&(s=s.$to_i()),s===0&&(s=void 0)),J(J("Random"),"DEFAULT").$rand(s))},-1),Pe(re,"$respond_to?",function(s,i){var $=this;i==null&&(i=!1);var h=$[ye(s)];return typeof h=="function"&&!h.$$stub?!0:$["$respond_to_missing?"].$$pristine===!0?!1:$["$respond_to_missing?"](s,i)},-2),Pe(re,"$respond_to_missing?",function(s,i){return i==null&&(i=!1),!1},-2),he.$pristine(re,"respond_to?","respond_to_missing?"),Pe(re,"$require",function(s){return typeof s!="string"&&o.String&&o.Array&&(s=he["$coerce_to!"](s,J("String"),"to_str")),o.require(s)}),Pe(re,"$require_relative",function(s){return he["$try_convert!"](s,J("String"),"to_str"),s=J("File").$expand_path(J("File").$join(o.current_file,"..",s)),o.require(s)}),Pe(re,"$require_tree",function(s,i){var $;i=qe(i),$=i.$$smap.autoload,$==null&&($=!1);var h=[];s=J("File").$expand_path(s),s=o.normalize(s),s==="."&&(s="");for(var b in o.modules)b["$start_with?"](s)&&($?h.push([b,!0]):h.push([b,o.require(b)]));return h},-2),Pe(re,"$singleton_class",function(){var s=this;return o.get_singleton_class(s)}),Pe(re,"$sleep",function(s){s==null&&(s=q),s===q&&Ie.$raise(J("TypeError"),"can't convert NilClass into time interval"),s.$$is_number||Ie.$raise(J("TypeError"),"can't convert "+s.$class()+" into time interval"),s<0&&Ie.$raise(J("ArgumentError"),"time interval must be positive");for(var i=o.global.performance?function(){return performance.now()}:function(){return new Date},$=i();i()-$<=s*1e3;);return Math.round(s)},-1),Pe(re,"$srand",function(s){return s==null&&(s=d("Random").$new_seed()),J("Random").$srand(s)},-1),Pe(re,"$String",function(s){var i=q;return Z(i=he["$coerce_to?"](s,J("String"),"to_str"))?i:he["$coerce_to!"](s,J("String"),"to_s")}),Pe(re,"$tap",function r(){var s=r.$$p||q,i=this;return r.$$p=null,o.yield1(s,i),i}),Pe(re,"$to_proc",_e),Pe(re,"$to_s",function(){var s=this;return"#<"+s.$class()+":0x"+s.$__id__().$to_s(16)+">"}),Pe(re,"$catch",function r(s){var i=r.$$p||q,$=q,h=q;r.$$p=null,s==null&&(s=q);try{return s=Z($=s)?$:me.$new(),o.yield1(i,s)}catch(b){if(o.rescue(b,[J("UncaughtThrowError")])){h=b;try{return We(h.$tag(),s)?h.$value():Ie.$raise()}finally{o.pop_exception()}}else throw b}},-1),Pe(re,"$throw",function(s,i){return i==null&&(i=q),Ie.$raise(J("UncaughtThrowError").$new(s,i))},-2),Pe(re,"$open",function r(s){var i=r.$$p||q,$,h;return r.$$p=null,$=Ge(arguments),h=$,Te(J("File"),"open",se(h),i.$to_proc())},-1),Pe(re,"$yield_self",function r(){var s=r.$$p||q,i=this;return r.$$p=null,s===q?Te(i,"enum_for",["yield_self"],De(1)):o.yield1(s,i)}),X(re,"fail","raise"),X(re,"kind_of?","is_a?"),X(re,"object_id","__id__"),X(re,"public_send","__send__"),X(re,"send","__send__"),X(re,"then","yield_self"),X(re,"to_enum","enum_for")}("::",ae),function(N,ze){var re=m(N,ze,"Object");return delete me.$$prototype.$require,re.$include(Ie)}("::",null)};Opal.modules["corelib/main"]=function(o){var Z=o.return_val,Se=o.def,Me=o.Object,he=o.slice,Ze=o.Kernel,Re=o.top,Le=[],ye=o.nil;return o.add_stubs("include,raise"),function(G,De){return Se(G,"$to_s",Z("main")),Se(G,"$include",function(Ie){return Me.$include(Ie)}),Se(G,"$autoload",function(Ie){var je,Ge;return je=he(arguments),Ge=je,o.Object.$autoload.apply(o.Object,Ge)},-1),Se(G,"$using",function(Ie){return Ze.$raise("main.using is permitted only at toplevel")})}(o.get_singleton_class(Re),Le)};Opal.modules["corelib/error/errno"]=function(o){var Z=o.module,Se=o.truthy,Me=o.rb_plus,he=o.send2,Ze=o.find_super,Re=o.def,Le=o.klass,ye=[],G=o.nil,De=o.$$$;return o.add_stubs("+,errno,class,attr_reader"),function(Pe,Ie){var je=Z(Pe,"Errno"),Ge=[je].concat(Ie),Te=G,se=G;Te=[["EINVAL","Invalid argument",22],["EEXIST","File exists",17],["EISDIR","Is a directory",21],["EMFILE","Too many open files",24],["ESPIPE","Illegal seek",29],["EACCES","Permission denied",13],["EPERM","Operation not permitted",1],["ENOENT","No such file or directory",2],["ENAMETOOLONG","File name too long",36]],se=G;var qe;for(qe=0;qe<Te.length;qe++)(function(){var We=Te[qe][0],Fe=Te[qe][1],xe=Te[qe][2];se=o.klass(je,o.SystemCallError,We),se.errno=xe,function(fe,_e){return Re(fe,"$new",function $e(Ee){var te=$e.$$p||G,me=this,X=G;return $e.$$p=null,Ee==null&&(Ee=G),X=Fe,Se(Ee)&&(X=Me(X," - "+Ee)),he(me,Ze(me,"new",$e,!1,!0),"new",[X],null)},-1)}(o.get_singleton_class(se),Ge)})()}("::",ye),function(Pe,Ie,je){var Ge=Le(Pe,Ie,"SystemCallError"),Te=[Ge].concat(je);return Re(Ge,"$errno",function(){var qe=this;return qe.$class().$errno()}),function(se,qe){return se.$attr_reader("errno")}(o.get_singleton_class(Ge),Te)}("::",De("StandardError"),ye)};Opal.modules["corelib/error"]=function(o){var Z=o.klass,Se=o.slice,Me=o.gvars,he=o.defs,Ze=o.send,Re=o.to_a,Le=o.def,ye=o.truthy,G=o.hash2,De=o.Kernel,Pe=o.not,Ie=o.rb_plus,je=o.eqeq,Ge=o.Object,Te=o.ensure_kwargs,se=o.send2,qe=o.find_super,We=o.module,Fe=[],xe=o.nil,fe=o.$$$;return o.add_stubs("new,map,backtrace,clone,to_s,merge,tty?,[],include?,raise,dup,empty?,!,caller,shift,+,class,join,cause,full_message,==,reverse,split,autoload,attr_reader,inspect"),function(_e,$e,Ee){var te=Z(_e,$e,"Exception"),me=[te].concat(Ee),X=o.$r(me),m=te.$$prototype;m.message=xe,o.prop(te.$$prototype,"$$is_exception",!0);var ae;Error.stackTraceLimit=100,he(te,"$new",function(N){var ze,re,D=this;Me["!"]==null&&(Me["!"]=xe),ze=Se(arguments),re=ze;var d=re.length>0?re[0]:xe,n=new D.$$constructor(d);return n.name=D.$$name,n.message=d,n.cause=Me["!"],o.send(n,n.$initialize,re),o.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(n,ae),n},-1),ae=te.$new,he(te,"$exception",function(N){var ze,re,D=this;return ze=Se(arguments),re=ze,Ze(D,"new",Re(re))},-1),Le(te,"$initialize",function(N){var ze,re,D=this;return ze=Se(arguments),re=ze,D.message=re.length>0?re[0]:xe},-1);function q(J){for(var N=[],ze,re=0;re<J.length;re++){var D=J[re];!D||!D.$$is_string||((ze=D.match(/^    at (.*?) \((.*?)\)$/))?N.push(ze[2]+":in `"+ze[1]+"'"):(ze=D.match(/^    at (.*?)$/))?N.push(ze[1]+":in `undefined'"):(ze=D.match(/^  from (.*?)$/))?N.push(ze[1]):(ze=D.match(/^(.*?)@(.*?)$/))&&N.push(ze[2]+":in `"+ze[1]+"'"))}return N}return Le(te,"$backtrace",function(){var N=this;if(N.backtrace)return N.backtrace;var ze=N.stack;return typeof ze<"u"&&ze.$$is_string?N.backtrace=q(ze.split(`
`)):ze?N.backtrace=q(ze):[]}),Le(te,"$backtrace_locations",function(){var N,ze=this;return ze.backtrace_locations||(ze.backtrace_locations=(N=ze.$backtrace(),N===xe||N==null?xe:Ze(N,"map",[],function(D){return D==null&&(D=xe),fe(fe(fe("Thread"),"Backtrace"),"Location").$new(D)}))),ze.backtrace_locations}),Le(te,"$cause",function(){var N=this;return N.cause||xe}),Le(te,"$exception",function(N){var ze=this;if(N==null&&(N=xe),N===xe||ze===N)return ze;var re=ze.$clone();return re.message=N,ze.backtrace&&(re.backtrace=ze.backtrace.$dup()),re.stack=ze.stack,re.cause=ze.cause,re},-1),Le(te,"$message",function(){var N=this;return N.$to_s()}),Le(te,"$full_message",function(N){var ze,re,D=this,d=xe,n=xe,r=xe,s=xe,i=xe,$=xe,h=xe,b=xe,B=xe;return Me.stderr==null&&(Me.stderr=xe),N==null&&(N=xe),ye((ze=X("Hash","skip_raise"))?"constant":xe)?(N=G(["highlight","order"],{highlight:Me.stderr["$tty?"](),order:"top"}).$merge(ye(d=N)?d:G([],{})),re=[N["$[]"]("highlight"),N["$[]"]("order")],n=re[0],r=re[1],ye([!0,!1]["$include?"](n))||De.$raise(fe("ArgumentError"),"expected true or false as highlight: "+n),ye(["top","bottom"]["$include?"](r))||De.$raise(fe("ArgumentError"),"expected :top or :bottom as order: "+r),ye(n)?(s="\x1B[1;4m",i="\x1B[1m",$="\x1B[m"):s=i=$="",h=D.$backtrace().$dup(),(Pe(h)||ye(h["$empty?"]()))&&(h=D.$caller()),b=h.$shift(),B=""+b+": ",B=Ie(B,""+i+D.$to_s()+" ("+s+D.$class()+$+i+")"+$+`
`),B=Ie(B,Ze(h,"map",[],function(Oe){return Oe==null&&(Oe=xe),"	from "+Oe+`
`}).$join()),ye(D.$cause())&&(B=Ie(B,D.$cause().$full_message(G(["highlight"],{highlight:n})))),je(r,"bottom")&&(B=B.$split(`
`).$reverse().$join(`
`),B=Ie(""+i+"Traceback"+$+` (most recent call last):
`,B)),B):""+D.message+`
`+D.stack},-1),Le(te,"$inspect",function(){var N=this,ze=xe;return ze=N.$to_s(),ye(ze["$empty?"]())?N.$class().$to_s():"#<"+N.$class().$to_s()+": "+N.$to_s()+">"}),Le(te,"$set_backtrace",function(N){var ze=this,re=!0,D,d;if(N===xe)ze.backtrace=xe,ze.stack="";else if(N.$$is_string)ze.backtrace=[N],ze.stack="  from "+N;else{if(N.$$is_array){for(D=0,d=N.length;D<d;D++)if(!N[D].$$is_string){re=!1;break}}else re=!1;re===!1&&De.$raise(fe("TypeError"),"backtrace must be Array of String"),ze.backtrace=N,ze.stack=Ze(N,"map",[],function(r){return r==null&&(r=xe),Ie("  from ",r)}).join(`
`)}return N}),Le(te,"$to_s",function(){var N=this,ze=xe,re=xe;return ye(ze=ye(re=N.message)?N.message.$to_s():re)?ze:N.$class().$to_s()})}("::",Error,Fe),Z("::",fe("Exception"),"ScriptError"),Z("::",fe("ScriptError"),"SyntaxError"),Z("::",fe("ScriptError"),"LoadError"),Z("::",fe("ScriptError"),"NotImplementedError"),Z("::",fe("Exception"),"SystemExit"),Z("::",fe("Exception"),"NoMemoryError"),Z("::",fe("Exception"),"SignalException"),Z("::",fe("SignalException"),"Interrupt"),Z("::",fe("Exception"),"SecurityError"),Z("::",fe("Exception"),"SystemStackError"),Z("::",fe("Exception"),"StandardError"),Z("::",fe("StandardError"),"EncodingError"),Z("::",fe("StandardError"),"ZeroDivisionError"),Z("::",fe("StandardError"),"NameError"),Z("::",fe("NameError"),"NoMethodError"),Z("::",fe("StandardError"),"RuntimeError"),Z("::",fe("RuntimeError"),"FrozenError"),Z("::",fe("StandardError"),"LocalJumpError"),Z("::",fe("StandardError"),"TypeError"),Z("::",fe("StandardError"),"ArgumentError"),Z("::",fe("ArgumentError"),"UncaughtThrowError"),Z("::",fe("StandardError"),"IndexError"),Z("::",fe("IndexError"),"StopIteration"),Z("::",fe("StopIteration"),"ClosedQueueError"),Z("::",fe("IndexError"),"KeyError"),Z("::",fe("StandardError"),"RangeError"),Z("::",fe("RangeError"),"FloatDomainError"),Z("::",fe("StandardError"),"IOError"),Z("::",fe("IOError"),"EOFError"),Z("::",fe("StandardError"),"SystemCallError"),Z("::",fe("StandardError"),"RegexpError"),Z("::",fe("StandardError"),"ThreadError"),Z("::",fe("StandardError"),"FiberError"),Ge.$autoload("Errno","corelib/error/errno"),function(_e,$e){var Ee=Z(_e,$e,"FrozenError");return Ee.$attr_reader("receiver"),Le(Ee,"$initialize",function te(me,X){var m,ae=te.$$p||xe,q=this;return te.$$p=null,X=Te(X),m=X.$$smap.receiver,m==null&&(m=xe),se(q,qe(q,"initialize",te,!1,!0),"initialize",[me],null),q.receiver=m},-2)}("::",fe("RuntimeError")),function(_e,$e){var Ee=Z(_e,$e,"UncaughtThrowError"),te=Ee.$$prototype;return te.tag=xe,Ee.$attr_reader("tag","value"),Le(Ee,"$initialize",function me(X,m){var ae=me.$$p||xe,q=this;return me.$$p=null,m==null&&(m=xe),q.tag=X,q.value=m,se(q,qe(q,"initialize",me,!1,!0),"initialize",["uncaught throw "+q.tag.$inspect()],null)},-2)}("::",fe("ArgumentError")),function(_e,$e){var Ee=Z(_e,$e,"NameError");return Ee.$attr_reader("name"),Le(Ee,"$initialize",function te(me,X){var m=te.$$p||xe,ae=this;return te.$$p=null,X==null&&(X=xe),se(ae,qe(ae,"initialize",te,!1,!0),"initialize",[me],null),ae.name=X},-2)}("::",null),function(_e,$e){var Ee=Z(_e,$e,"NoMethodError");return Ee.$attr_reader("args"),Le(Ee,"$initialize",function te(me,X,m){var ae=te.$$p||xe,q=this;return te.$$p=null,X==null&&(X=xe),m==null&&(m=[]),se(q,qe(q,"initialize",te,!1,!0),"initialize",[me,X],null),q.args=m},-2)}("::",null),function(_e,$e){var Ee=Z(_e,$e,"StopIteration");return Ee.$attr_reader("result")}("::",null),function(_e,$e){var Ee=Z(_e,$e,"KeyError"),te=Ee.$$prototype;return te.receiver=te.key=xe,Le(Ee,"$initialize",function me(X,m){var ae,q,J=me.$$p||xe,N=this;return me.$$p=null,m=Te(m),ae=m.$$smap.receiver,ae==null&&(ae=xe),q=m.$$smap.key,q==null&&(q=xe),se(N,qe(N,"initialize",me,!1,!0),"initialize",[X],null),N.receiver=ae,N.key=q},-2),Le(Ee,"$receiver",function(){var X=this,m=xe;return ye(m=X.receiver)?m:De.$raise(fe("ArgumentError"),"no receiver is available")}),Le(Ee,"$key",function(){var X=this,m=xe;return ye(m=X.key)?m:De.$raise(fe("ArgumentError"),"no key is available")})}("::",null),function(_e,$e){var Ee=We(_e,"JS"),te=[Ee].concat($e);return Z(te[0],null,"Error"),xe}("::",Fe)};Opal.modules["corelib/constants"]=function(o){var Z=o.const_set,Se=o.nil,Me=o.$$$;return Z("::","RUBY_PLATFORM","opal"),Z("::","RUBY_ENGINE","opal"),Z("::","RUBY_VERSION","3.2.0"),Z("::","RUBY_ENGINE_VERSION","1.7.3"),Z("::","RUBY_RELEASE_DATE","2023-03-23"),Z("::","RUBY_PATCHLEVEL",0),Z("::","RUBY_REVISION","0"),Z("::","RUBY_COPYRIGHT","opal - Copyright (C) 2011-2023 Adam Beynon and the Opal contributors"),Z("::","RUBY_DESCRIPTION","opal "+Me("RUBY_ENGINE_VERSION")+" ("+Me("RUBY_RELEASE_DATE")+" revision "+Me("RUBY_REVISION")+")")};Opal.modules["opal/base"]=function(o){var Z=o.Object,Se=o.nil;return o.add_stubs("require"),Z.$require("corelib/runtime"),Z.$require("corelib/helpers"),Z.$require("corelib/module"),Z.$require("corelib/class"),Z.$require("corelib/basic_object"),Z.$require("corelib/kernel"),Z.$require("corelib/main"),Z.$require("corelib/error"),Z.$require("corelib/constants")};Opal.modules["corelib/nil"]=function(o){var Z=o.klass,Se=o.Kernel,Me=o.def,he=o.return_val,Ze=o.ensure_kwargs,Re=o.NilClass,Le=o.slice,ye=o.truthy,G=o.rb_gt,De=o.alias,Pe=[],Ie=o.nil,je=o.$$$;return o.add_stubs("raise,name,new,>,length,Rational,to_i"),function(Ge,Te,se){var qe=Z(Ge,Te,"NilClass"),We=[qe].concat(se);return qe.$$prototype.$$meta=qe,function(Fe,xe){return Me(Fe,"$allocate",function(){var _e=this;return Se.$raise(je("TypeError"),"allocator undefined for "+_e.$name())}),o.udef(Fe,"$new"),Ie}(o.get_singleton_class(qe),We),Me(qe,"$!",he(!0)),Me(qe,"$&",he(!1)),Me(qe,"$|",function(xe){return xe!==!1&&xe!==Ie}),Me(qe,"$^",function(xe){return xe!==!1&&xe!==Ie}),Me(qe,"$==",function(xe){return xe===Ie}),Me(qe,"$dup",he(Ie)),Me(qe,"$clone",function(xe){var fe;return xe=Ze(xe),fe=xe.$$smap.freeze,fe==null&&(fe=!0),Ie},-1),Me(qe,"$inspect",he("nil")),Me(qe,"$nil?",he(!0)),Me(qe,"$singleton_class",function(){return Re}),Me(qe,"$to_a",function(){return[]}),Me(qe,"$to_h",function(){return o.hash()}),Me(qe,"$to_i",he(0)),Me(qe,"$to_s",he("")),Me(qe,"$to_c",function(){return je("Complex").$new(0,0)}),Me(qe,"$rationalize",function(xe){var fe,_e;return fe=Le(arguments),_e=fe,ye(G(_e.$length(),1))&&Se.$raise(je("ArgumentError")),Se.$Rational(0,1)},-1),Me(qe,"$to_r",function(){return Se.$Rational(0,1)}),Me(qe,"$instance_variables",function(){return[]}),De(qe,"to_f","to_i")}("::",null,Pe)};Opal.modules["corelib/boolean"]=function(o){"use strict";var Z=o.klass,Se=o.Kernel,Me=o.def,he=o.return_self,Ze=o.ensure_kwargs,Re=o.slice,Le=o.truthy,ye=o.send2,G=o.find_super,De=o.to_a,Pe=o.alias,Ie=[],je=o.nil,Ge=o.$$$;return o.add_stubs("raise,name,==,to_s,__id__"),function(Te,se,qe){var We=Z(Te,se,"Boolean"),Fe=[We].concat(qe);o.prop(We.$$prototype,"$$is_boolean",!0);for(var xe=["$$class","$$meta"],fe=0;fe<xe.length;fe++)Object.defineProperty(We.$$prototype,xe[fe],{configurable:!0,enumerable:!1,get:function(){return this==!0?o.TrueClass:this==!1?o.FalseClass:o.Boolean}});return Object.defineProperty(We.$$prototype,"$$id",{configurable:!0,enumerable:!1,get:function(){return this==!0?2:this==!1?0:je}}),function(_e,$e){return Me(_e,"$allocate",function(){var te=this;return Se.$raise(Ge("TypeError"),"allocator undefined for "+te.$name())}),o.udef(_e,"$new"),je}(o.get_singleton_class(We),Fe),Me(We,"$__id__",function(){var $e=this;return $e.valueOf()?2:0}),Me(We,"$!",function(){var $e=this;return $e!=!0}),Me(We,"$&",function($e){var Ee=this;return Ee==!0?$e!==!1&&$e!==je:!1}),Me(We,"$|",function($e){var Ee=this;return Ee==!0?!0:$e!==!1&&$e!==je}),Me(We,"$^",function($e){var Ee=this;return Ee==!0?$e===!1||$e===je:$e!==!1&&$e!==je}),Me(We,"$==",function($e){var Ee=this;return Ee==!0===$e.valueOf()}),Me(We,"$singleton_class",function(){var $e=this;return $e.$$meta}),Me(We,"$to_s",function(){var $e=this;return $e==!0?"true":"false"}),Me(We,"$dup",he),Me(We,"$clone",function($e){var Ee,te=this;return $e=Ze($e),Ee=$e.$$smap.freeze,Ee==null&&(Ee=!0),te},-1),Me(We,"$method_missing",function _e($e,Ee){var te=_e.$$p||je,me,X,m=this;_e.$$p=null,me=Re(arguments,1),X=me;var ae=m.$$class.$$prototype[o.jsid($e)];return Le(typeof ae<"u"&&!ae.$$stub)||ye(m,G(m,"method_missing",_e,!1,!0),"method_missing",[$e].concat(De(X)),te),o.send(m,ae,X,te)},-2),Me(We,"$respond_to_missing?",function($e,Ee){var te=this;Ee==null&&(Ee=!1);var me=te.$$class.$$prototype[o.jsid($e)];return typeof me<"u"&&!me.$$stub},-2),Pe(We,"eql?","=="),Pe(We,"equal?","=="),Pe(We,"inspect","to_s"),Pe(We,"object_id","__id__")}("::",Boolean,Ie),Z("::",Ge("Boolean"),"TrueClass"),Z("::",Ge("Boolean"),"FalseClass"),je};Opal.modules["corelib/comparable"]=function(o){var Z=o.truthy,Se=o.module,Me=o.rb_gt,he=o.rb_lt,Ze=o.eqeqeq,Re=o.Kernel,Le=o.def,ye=o.nil,G=o.$$$;return o.add_stubs(">,<,===,raise,class,<=>,equal?"),function(De){var Pe=Se(De,"Comparable"),Ie=ye;function je(se){return o.is_a(se,o.Integer)?se:Me(se,0)?1:he(se,0)?-1:0}function Ge(se,qe){var We;Ze(ye,Ie=qe)||Ze(!0,Ie)||Ze(!1,Ie)||Ze(G("Integer"),Ie)||Ze(G("Float"),Ie)?We=qe.$inspect():We=qe.$$class,Re.$raise(G("ArgumentError"),"comparison of "+se.$class()+" with "+We+" failed")}function Te(se,qe){var We=se["$<=>"](qe);return Z(We)||Ge(se,qe),je(We)}return Le(Pe,"$==",function(qe){var We=this,Fe=ye;return Z(We["$equal?"](qe))?!0:We["$<=>"]==o.Kernel["$<=>"]?!1:We.$$comparable?(We.$$comparable=!1,!1):Z(Fe=We["$<=>"](qe))?je(Fe)==0:!1}),Le(Pe,"$>",function(qe){var We=this;return Te(We,qe)>0}),Le(Pe,"$>=",function(qe){var We=this;return Te(We,qe)>=0}),Le(Pe,"$<",function(qe){var We=this;return Te(We,qe)<0}),Le(Pe,"$<=",function(qe){var We=this;return Te(We,qe)<=0}),Le(Pe,"$between?",function(qe,We){var Fe=this;return!(he(Fe,qe)||Me(Fe,We))}),Le(Pe,"$clamp",function(qe,We){var Fe=this;We==null&&(We=ye);var xe,fe;if(We===ye&&(o.is_a(qe,o.Range)||Re.$raise(G("TypeError"),"wrong argument type "+qe.$class()+" (expected Range)"),fe=qe.excl,We=qe.end,qe=qe.begin,We!==ye&&fe&&Re.$raise(G("ArgumentError"),"cannot clamp with an exclusive range")),qe!==ye&&We!==ye&&Te(qe,We)>0&&Re.$raise(G("ArgumentError"),"min argument must be smaller than max argument"),qe!==ye){if(xe=Te(Fe,qe),xe==0)return Fe;if(xe<0)return qe}return We!==ye&&(xe=Te(Fe,We),xe>0)?We:Fe},-2)}("::")};Opal.modules["corelib/regexp"]=function(o){var Z=o.coerce_to,Se=o.prop,Me=o.freeze,he=o.klass,Ze=o.const_set,Re=o.send2,Le=o.find_super,ye=o.def,G=o.truthy,De=o.gvars,Pe=o.slice,Ie=o.Kernel,je=o.Opal,Ge=o.alias,Te=o.send,se=o.hash2,qe=o.rb_plus,We=o.ensure_kwargs,Fe=o.rb_ge,xe=o.to_a,fe=o.eqeqeq,_e=o.rb_minus,$e=o.return_ivar,Ee=[],te=o.nil,me=o.$$$;return o.add_stubs("nil?,[],raise,escape,options,to_str,new,join,coerce_to!,!,match,coerce_to?,begin,frozen?,uniq,map,scan,source,to_proc,transform_values,group_by,each_with_index,+,last,=~,==,attr_reader,>=,length,is_a?,include?,names,regexp,named_captures,===,captures,-,inspect,empty?,each,to_a"),he("::",me("StandardError"),"RegexpError"),function(X,m,ae){var q=he(X,m,"Regexp"),J=[q].concat(ae),N=o.$r(J);return Ze(q,"IGNORECASE",1),Ze(q,"EXTENDED",2),Ze(q,"MULTILINE",4),o.prop(q.$$prototype,"$$is_regexp",!0),function(ze,re){var D=[ze].concat(re),d=o.$r(D);return ye(ze,"$allocate",function n(){var r=n.$$p||te,s=this,i=te;return n.$$p=null,i=Re(s,Le(s,"allocate",n,!1,!0),"allocate",[],r),i.uninitialized=!0,i}),ye(ze,"$escape",function(r){return o.escape_regexp(r)}),ye(ze,"$last_match",function(r){return De["~"]==null&&(De["~"]=te),r==null&&(r=te),G(r["$nil?"]())?De["~"]:G(De["~"])?De["~"]["$[]"](r):te},-1),ye(ze,"$union",function(r){var s,i,$=this;s=Pe(arguments),i=s;var h,b,B,pe,Oe;if(i.length==0)return/(?!)/;if(i.length==1&&i[0].$$is_regexp)return i[0];h=i[0].$$is_array,i.length>1&&h&&Ie.$raise(me("TypeError"),"no implicit conversion of Array into String"),h&&(i=i[0]),pe=void 0,b=[];for(var ot=0;ot<i.length;ot++)B=i[ot],B.$$is_string?b.push($.$escape(B)):B.$$is_regexp?(Oe=B.$options(),pe!=null&&pe!=Oe&&Ie.$raise(me("TypeError"),"All expressions must use the same options"),pe=Oe,b.push("("+B.source+")")):b.push($.$escape(B.$to_str()));return $.$new(b.$join("|"),pe)},-1),ye(ze,"$new",function(r,s){if(r.$$is_regexp)return new RegExp(r);if(r=je["$coerce_to!"](r,me("String"),"to_str"),r.charAt(r.length-1)==="\\"&&r.charAt(r.length-2)!=="\\"&&Ie.$raise(me("RegexpError"),"too short escape sequence: /"+r+"/"),r=r.replace("\\A","^").replace("\\z","$"),s===void 0||s["$!"]())return new RegExp(r);if(s.$$is_number){var i="";d("IGNORECASE")&s&&(i+="i"),d("MULTILINE")&s&&(i+="m"),s=i}else s="i";return new RegExp(r,s)},-2),Ge(ze,"compile","new"),Ge(ze,"quote","escape")}(o.get_singleton_class(q),J),ye(q,"$==",function(re){var D=this;return re instanceof RegExp&&D.toString()===re.toString()}),ye(q,"$===",function(re){var D=this;return D.$match(je["$coerce_to?"](re,me("String"),"to_str"))!==te}),ye(q,"$=~",function(re){var D=this,d=te;return De["~"]==null&&(De["~"]=te),G(d=D.$match(re))?De["~"].$begin(0):d}),ye(q,"$freeze",function(){var re=this;return G(re["$frozen?"]())?re:(re.hasOwnProperty("$$g")||Se(re,"$$g",null),re.hasOwnProperty("$$gm")||Se(re,"$$gm",null),Me(re))}),ye(q,"$inspect",function(){var re=this,D=/^\/(.*)\/([^\/]*)$/,d=re.toString(),n=D.exec(d);if(n){for(var r=n[1],s=n[2],i=r.split(""),$=i.length,h=!1,b="",B=0;B<$;B++){var pe=i[B];!h&&pe=="/"&&(b=b.concat("\\")),b=b.concat(pe),pe=="\\"?h?h=!1:h=!0:h=!1}return"/"+b+"/"+s}else return d}),ye(q,"$match",function ze(re,D){var d=ze.$$p||te,n=this;if(De["~"]==null&&(De["~"]=te),ze.$$p=null,n.uninitialized&&Ie.$raise(me("TypeError"),"uninitialized Regexp"),D===void 0){if(re===te)return De["~"]=te;var r=n.exec(Z(re,me("String"),"to_str"));return r?(De["~"]=me("MatchData").$new(n,r),d===te?De["~"]:o.yield1(d,De["~"])):De["~"]=te}if(D=Z(D,me("Integer"),"to_int"),re===te||(re=Z(re,me("String"),"to_str"),D<0&&(D+=re.length,D<0)))return De["~"]=te;for(var s,i=o.global_regexp(n);;){if(s=i.exec(re),s===null)return De["~"]=te;if(s.index>=D)return De["~"]=me("MatchData").$new(i,s),d===te?De["~"]:o.yield1(d,De["~"]);i.lastIndex=s.index+1}},-2),ye(q,"$match?",function(re,D){var d=this;if(d.uninitialized&&Ie.$raise(me("TypeError"),"uninitialized Regexp"),D===void 0)return re===te?!1:d.test(Z(re,me("String"),"to_str"));if(D=Z(D,me("Integer"),"to_int"),re===te||(re=Z(re,me("String"),"to_str"),D<0&&(D+=re.length,D<0)))return!1;var n,r=o.global_regexp(d);return n=r.exec(re),!(n===null||n.index<D)},-2),ye(q,"$names",function(){var re=this;return Te(re.$source().$scan(/\(?<(\w+)>/,se(["no_matchdata"],{no_matchdata:!0})),"map",[],"first".$to_proc()).$uniq()}),ye(q,"$named_captures",function(){var re=this;return Te(Te(Te(re.$source().$scan(/\(?<(\w+)>/,se(["no_matchdata"],{no_matchdata:!0})),"map",[],"first".$to_proc()).$each_with_index(),"group_by",[],"first".$to_proc()),"transform_values",[],function(d){return d==null&&(d=te),Te(d,"map",[],function(r){return r==null&&(r=te),qe(r.$last(),1)})})}),ye(q,"$~",function(){var re=this;return De._==null&&(De._=te),re["$=~"](De._)}),ye(q,"$source",function(){var re=this;return re.source}),ye(q,"$options",function(){var re=this;re.uninitialized&&Ie.$raise(me("TypeError"),"uninitialized Regexp");var D=0;return re.multiline&&(D|=N("MULTILINE")),re.ignoreCase&&(D|=N("IGNORECASE")),D}),ye(q,"$casefold?",function(){var re=this;return re.ignoreCase}),Ge(q,"eql?","=="),Ge(q,"to_s","source")}("::",RegExp,Ee),function(X,m,ae){var q=he(X,m,"MatchData"),J=[q].concat(ae),N=o.$r(J),ze=q.$$prototype;return ze.matches=te,q.$attr_reader("post_match","pre_match","regexp","string"),ye(q,"$initialize",function(D,d,n){var r,s=this;n=We(n),r=n.$$smap.no_matchdata,r==null&&(r=!1),G(r)||(De["~"]=s),s.regexp=D,s.begin=d.index,s.string=d.input,s.pre_match=d.input.slice(0,d.index),s.post_match=d.input.slice(d.index+d[0].length),s.matches=[];for(var i=0,$=d.length;i<$;i++){var h=d[i];h==null?s.matches.push(te):s.matches.push(h)}},-3),ye(q,"$match",function(D){var d=this,n=te;return G(n=d["$[]"](D))?n:G(D["$is_a?"](N("Integer")))&&G(Fe(D,d.$length()))?Ie.$raise(me("IndexError"),"index "+D+" out of matches"):te}),ye(q,"$match_length",function(D){var d,n=this;return d=n.$match(D),d===te||d==null?te:d.$length()}),ye(q,"$[]",function(D){var d,n,r=this;return d=Pe(arguments),n=d,n[0].$$is_string?(r.$regexp().$names()["$include?"](n["$[]"](0))["$!"]()&&Ie.$raise(me("IndexError"),"undefined group name reference: "+n["$[]"](0)),r.$named_captures()["$[]"](n["$[]"](0))):Te(r.matches,"[]",xe(n))},-1),ye(q,"$offset",function(D){var d=this;return D!==0&&Ie.$raise(me("ArgumentError"),"MatchData#offset only supports 0th element"),[d.begin,d.begin+d.matches[D].length]}),ye(q,"$==",function(D){var d=this,n=te,r=te,s=te,i=te;return fe(me("MatchData"),D)?G(n=G(r=G(s=G(i=d.string==D.string)?d.regexp.toString()==D.regexp.toString():i)?d.pre_match==D.pre_match:s)?d.post_match==D.post_match:r)?d.begin==D.begin:n:!1}),ye(q,"$begin",function(D){var d=this;return D!==0&&Ie.$raise(me("ArgumentError"),"MatchData#begin only supports 0th element"),d.begin}),ye(q,"$end",function(D){var d=this;return D!==0&&Ie.$raise(me("ArgumentError"),"MatchData#end only supports 0th element"),d.begin+d.matches[D].length}),ye(q,"$captures",function(){var D=this;return D.matches.slice(1)}),ye(q,"$named_captures",function(){var D=this,d=te;return d=D.$captures(),Te(D.$regexp().$named_captures(),"transform_values",[],function(r){return r==null&&(r=te),d["$[]"](_e(r.$last(),1))})}),ye(q,"$names",function(){var D=this;return D.$regexp().$names()}),ye(q,"$inspect",function(){var D=this,d="#<MatchData "+D.matches[0].$inspect();if(D.$regexp().$names()["$empty?"]())for(var n=1,r=D.matches.length;n<r;n++)d+=" "+n+":"+D.matches[n].$inspect();else Te(D.$named_captures(),"each",[],function(i,$){return i==null&&(i=te),$==null&&($=te),d+=" "+i+":"+$.$inspect()});return d+">"}),ye(q,"$length",function(){var D=this;return D.matches.length}),ye(q,"$to_a",$e("matches")),ye(q,"$to_s",function(){var D=this;return D.matches[0]}),ye(q,"$values_at",function(D){var d,n,r=this;d=Pe(arguments),n=d;var s,i,$,h=[];for(s=0;s<n.length;s++){if(n[s].$$is_range&&(i=n[s].$to_a(),i.unshift(s,1),Array.prototype.splice.apply(n,i)),$=je["$coerce_to!"](n[s],me("Integer"),"to_int"),$<0&&($+=r.matches.length,$<0)){h.push(te);continue}h.push(r.matches[$])}return h},-1),Ge(q,"eql?","=="),Ge(q,"size","length")}(Ee[0],null,Ee)};Opal.modules["corelib/string"]=function(o){var Z=o.coerce_to,Se=o.respond_to,Me=o.global_multiline_regexp,he=o.prop,Ze=o.klass,Re=o.def,Le=o.Opal,ye=o.defs,G=o.slice,De=o.send,Pe=o.to_a,Ie=o.extract_kwargs,je=o.ensure_kwargs,Ge=o.eqeqeq,Te=o.Kernel,se=o.truthy,qe=o.gvars,We=o.rb_divide,Fe=o.rb_plus,xe=o.eqeq,fe=o.hash2,_e=o.alias,$e=o.const_set,Ee=o.top,te=[],me=o.$r(te),X=o.nil,m=o.$$$;return o.add_stubs("require,include,coerce_to?,initialize,===,format,raise,respond_to?,to_s,to_str,<=>,==,=~,new,force_encoding,casecmp,empty?,ljust,ceil,/,+,rjust,floor,coerce_to!,nil?,class,copy_singleton_methods,initialize_clone,initialize_dup,enum_for,chomp,[],to_i,length,each_line,to_proc,to_a,match,match?,captures,proc,succ,escape,include?,upcase,unicode_normalize,dup,__id__,next,intern,pristine"),Ee.$require("corelib/comparable"),Ee.$require("corelib/regexp"),function(ae,q,J){var N=Ze(ae,q,"String"),ze=[N].concat(J),re=o.$r(ze);N.$include(m("Comparable")),o.prop(N.$$prototype,"$$is_string",!0),Re(N,"$__id__",function(){var n=this;return n.toString()}),ye(N,"$try_convert",function(n){return Le["$coerce_to?"](n,m("String"),"to_str")}),ye(N,"$new",function(n){var r,s,i=this;r=G(arguments),s=r;var $=s[0]||"",h=s[s.length-1];return $=Z($,m("String"),"to_str"),h&&h.$$is_hash&&h.$$smap.encoding&&($=$.$force_encoding(h.$$smap.encoding)),$=new i.$$constructor($),$.$initialize.$$pristine||De($,"initialize",Pe(s)),$},-1),Re(N,"$initialize",function(n,r){var s,i,$,h,b;return s=G(arguments),i=Ie(s),i=je(i),s.length>0&&($=s.shift()),h=i.$$smap.encoding,h==null&&(h=X),b=i.$$smap.capacity,b==null&&(b=X),X},-1),Re(N,"$%",function(n){var r=this;return Ge(m("Array"),n)?De(r,"format",[r].concat(Pe(n))):r.$format(r,n)}),Re(N,"$*",function(n){var r=this;if(n=Z(n,m("Integer"),"to_int"),n<0&&Te.$raise(m("ArgumentError"),"negative argument"),n===0)return"";var s="",i=r.toString();for(i.length*n>=1<<28&&Te.$raise(m("RangeError"),"multiply count must not overflow maximum string size");(n&1)===1&&(s+=i),n>>>=1,n!==0;)i+=i;return s}),Re(N,"$+",function(n){var r=this;if(n=Z(n,m("String"),"to_str"),n==""&&r.$$class===o.String)return r;if(r==""&&n.$$class===o.String)return n;var s=r+n;return r.encoding===s.encoding&&n.encoding===s.encoding||r.encoding.name==="UTF-8"||n.encoding.name==="UTF-8"?s:o.enc(s,r.encoding)}),Re(N,"$<=>",function(n){var r=this;if(se(n["$respond_to?"]("to_str")))return n=n.$to_str().$to_s(),r>n?1:r<n?-1:0;var s=n["$<=>"](r);return s===X?X:s>0?-1:s<0?1:0}),Re(N,"$==",function(n){var r=this;return n.$$is_string?r.toString()===n.toString():Se(n,"$to_str")?n["$=="](r):!1}),Re(N,"$=~",function(n){var r=this;return n.$$is_string&&Te.$raise(m("TypeError"),"type mismatch: String given"),n["$=~"](r)}),Re(N,"$[]",function(n,r){var s=this,i=s.length,$,h;if(n.$$is_range)return $=n.excl,h=n,r=n.end===X?-1:Z(n.end,m("Integer"),"to_int"),n=n.begin===X?0:Z(n.begin,m("Integer"),"to_int"),Math.abs(n)>i?X:(n<0&&(n+=i),r<0&&(r+=i),(!$||h.end===X)&&(r+=1),r=r-n,r<0&&(r=0),s.substr(n,r));if(n.$$is_string)return r!=null&&Te.$raise(m("TypeError")),s.indexOf(n)!==-1?n:X;if(n.$$is_regexp){var b=s.match(n);return b===null?(qe["~"]=X,X):(qe["~"]=m("MatchData").$new(n,b),r==null?b[0]:(r=Z(r,m("Integer"),"to_int"),r<0&&-r<b.length?b[r+=b.length]:r>=0&&r<b.length?b[r]:X))}return n=Z(n,m("Integer"),"to_int"),n<0&&(n+=i),r==null?n>=i||n<0?X:s.substr(n,1):(r=Z(r,m("Integer"),"to_int"),r<0||n>i||n<0?X:s.substr(n,r))},-2),Re(N,"$b",function(){var n=this;return new String(n).$force_encoding("binary")}),Re(N,"$capitalize",function(){var n=this;return n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()}),Re(N,"$casecmp",function(n){var r=this;if(!se(n["$respond_to?"]("to_str")))return X;n=Z(n,m("String"),"to_str").$to_s();var s=/^[\x00-\x7F]*$/;return s.test(r)&&s.test(n)&&(r=r.toLowerCase(),n=n.toLowerCase()),r["$<=>"](n)}),Re(N,"$casecmp?",function(n){var r=this,s=r.$casecmp(n);return s===X?X:s===0}),Re(N,"$center",function(n,r){var s=this;if(r==null&&(r=" "),n=Z(n,m("Integer"),"to_int"),r=Z(r,m("String"),"to_str").$to_s(),se(r["$empty?"]())&&Te.$raise(m("ArgumentError"),"zero width padding"),se(n<=s.length))return s;var i=s.$ljust(We(Fe(n,s.length),2).$ceil(),r),$=s.$rjust(We(Fe(n,s.length),2).$floor(),r);return $+i.slice(s.length)},-2),Re(N,"$chomp",function(n){var r=this;if(qe["/"]==null&&(qe["/"]=X),n==null&&(n=qe["/"]),se(n===X||r.length===0))return r;n=Le["$coerce_to!"](n,m("String"),"to_str").$to_s();var s;if(n===`
`)s=r.replace(/\r?\n?$/,"");else if(n==="")s=r.replace(/(\r?\n)+$/,"");else if(r.length>=n.length){var i=r.substr(r.length-n.length,n.length);i===n&&(s=r.substr(0,r.length-n.length))}return s??r},-1),Re(N,"$chop",function(){var n=this,r=n.length,s;return r<=1?s="":n.charAt(r-1)===`
`&&n.charAt(r-2)==="\r"?s=n.substr(0,r-2):s=n.substr(0,r-1),s}),Re(N,"$chr",function(){var n=this;return n.charAt(0)}),Re(N,"$clone",function(n){var r,s=this,i=X;return n=je(n),r=n.$$smap.freeze,r==null&&(r=X),se(r["$nil?"]())||xe(r,!0)||xe(r,!1)||s.$raise(re("ArgumentError"),"unexpected value for freeze: "+r.$class()),i=new String(s),i.$copy_singleton_methods(s),i.$initialize_clone(s,fe(["freeze"],{freeze:r})),xe(r,!0)?i.$$frozen||(i.$$frozen=!0):se(r["$nil?"]())&&s.$$frozen&&(i.$$frozen=!0),i},-1),Re(N,"$dup",function(){var n=this,r=X;return r=new String(n),r.$initialize_dup(n),r}),Re(N,"$count",function(n){var r,s,i=this;r=G(arguments),s=r,s.length===0&&Te.$raise(m("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var $=D(s);return $===null?0:i.length-i.replace(new RegExp($,"g"),"").length},-1),Re(N,"$delete",function(n){var r,s,i=this;r=G(arguments),s=r,s.length===0&&Te.$raise(m("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var $=D(s);return $===null?i:i.replace(new RegExp($,"g"),"")},-1),Re(N,"$delete_prefix",function(n){var r=this;return n.$$is_string||(n=Z(n,m("String"),"to_str")),r.slice(0,n.length)===n?r.slice(n.length):r}),Re(N,"$delete_suffix",function(n){var r=this;return n.$$is_string||(n=Z(n,m("String"),"to_str")),r.slice(r.length-n.length)===n?r.slice(0,r.length-n.length):r}),Re(N,"$downcase",function(){var n=this;return n.toLowerCase()}),Re(N,"$each_line",function d(n,r){var s=d.$$p||X,i,$,h,b,B=this;if(qe["/"]==null&&(qe["/"]=X),d.$$p=null,i=G(arguments),$=Ie(i),$=je($),i.length>0&&(h=i.shift()),h==null&&(h=qe["/"]),b=$.$$smap.chomp,b==null&&(b=!1),s===X)return B.$enum_for("each_line",h,fe(["chomp"],{chomp:b}));if(h===X)return o.yield1(s,B),B;h=Z(h,m("String"),"to_str");var pe,Oe,ot,lt,pt,dt,bt,ht;if(h.length===0){for(pe=B.split(/((?:\r?\n){2})(?:(?:\r?\n)*)/),Oe=0,ot=pe.length;Oe<ot;Oe+=2)(pe[Oe]||pe[Oe+1])&&(ht=(pe[Oe]||"")+(pe[Oe+1]||""),b&&(ht=ht.$chomp(`
`)),o.yield1(s,ht));return B}for(pt=B.$chomp(h),dt=B.length!=pt.length,bt=pt.split(h),Oe=0,lt=bt.length;Oe<lt;Oe++)ht=bt[Oe],(Oe<lt-1||dt)&&(ht+=h),b&&(ht=ht.$chomp(h)),o.yield1(s,ht);return B},-1),Re(N,"$empty?",function(){var n=this;return n.length===0}),Re(N,"$end_with?",function(n){var r,s,i=this;r=G(arguments),s=r;for(var $=0,h=s.length;$<h;$++){var b=Z(s[$],m("String"),"to_str").$to_s();if(i.length>=b.length&&i.substr(i.length-b.length,b.length)==b)return!0}return!1},-1),Re(N,"$gsub",function d(n,r){var s=d.$$p||X,i=this;if(d.$$p=null,r===void 0&&s===X)return i.$enum_for("gsub",n);var $="",h=X,b=0,B,pe;n.$$is_regexp?n=Me(n):(n=Z(n,m("String"),"to_str"),n=new RegExp(n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(var Oe;;){if(B=n.exec(i),B===null){qe["~"]=X,$+=i.slice(b);break}h=m("MatchData").$new(n,B),r===void 0?(Oe=n.lastIndex,pe=s(B[0]),n.lastIndex=Oe):r.$$is_hash?pe=r["$[]"](B[0]).$to_s():(r.$$is_string||(r=Z(r,m("String"),"to_str")),pe=r.replace(/([\\]+)([0-9+&`'])/g,function(ot,lt,pt){if(lt.length%2===0)return ot;switch(pt){case"+":for(var dt=B.length-1;dt>0;dt--)if(B[dt]!==void 0)return lt.slice(1)+B[dt];return"";case"&":return lt.slice(1)+B[0];case"`":return lt.slice(1)+i.slice(0,B.index);case"'":return lt.slice(1)+i.slice(B.index+B[0].length);default:return lt.slice(1)+(B[pt]||"")}}).replace(/\\\\/g,"\\")),n.lastIndex===B.index?($+=i.slice(b,B.index)+pe+(i[B.index]||""),n.lastIndex+=1):$+=i.slice(b,B.index)+pe,b=n.lastIndex}return qe["~"]=h,$},-2),Re(N,"$hash",function(){var n=this;return n.toString()}),Re(N,"$hex",function(){var n=this;return n.$to_i(16)}),Re(N,"$include?",function(n){var r=this;return n.$$is_string||(n=Z(n,m("String"),"to_str")),r.indexOf(n)!==-1}),Re(N,"$index",function(n,r){var s=this,i,$,h;if(r===void 0)r=0;else if(r=Z(r,m("Integer"),"to_int"),r<0&&(r+=s.length,r<0))return X;if(n.$$is_regexp)for(h=Me(n);;){if($=h.exec(s),$===null){qe["~"]=X,i=-1;break}if($.index>=r){qe["~"]=m("MatchData").$new(h,$),i=$.index;break}h.lastIndex=$.index+1}else n=Z(n,m("String"),"to_str"),n.length===0&&r>s.length?i=-1:i=s.indexOf(n,r);return i===-1?X:i},-2),Re(N,"$inspect",function(){var n=this,r=/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\x07":"\\a","\x1B":"\\e","\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"},i=n.replace(r,function($){return s[$]?s[$]:($=$.charCodeAt(0),$<=255&&(n.encoding["$binary?"]()||n.internal_encoding["$binary?"]())?"\\x"+("00"+$.toString(16).toUpperCase()).slice(-2):"\\u"+("0000"+$.toString(16).toUpperCase()).slice(-4))});return'"'+i.replace(/\#[\$\@\{]/g,"\\$&")+'"'}),Re(N,"$intern",function(){var n=this;return n.toString()}),Re(N,"$length",function(){var n=this;return n.length}),_e(N,"size","length"),Re(N,"$lines",function d(n,r){var s=d.$$p||X,i,$,h,b,B=this,pe=X;return qe["/"]==null&&(qe["/"]=X),d.$$p=null,i=G(arguments),$=Ie(i),$=je($),i.length>0&&(h=i.shift()),h==null&&(h=qe["/"]),b=$.$$smap.chomp,b==null&&(b=!1),pe=De(B,"each_line",[h,fe(["chomp"],{chomp:b})],s.$to_proc()),se(s)?B:pe.$to_a()},-1),Re(N,"$ljust",function(n,r){var s=this;if(r==null&&(r=" "),n=Z(n,m("Integer"),"to_int"),r=Z(r,m("String"),"to_str").$to_s(),se(r["$empty?"]())&&Te.$raise(m("ArgumentError"),"zero width padding"),se(n<=s.length))return s;var i=-1,$="";for(n-=s.length;++i<n;)$+=r;return s+$.slice(0,n)},-2),Re(N,"$lstrip",function(){var n=this;return n.replace(/^[\u0000\s]*/,"")}),Re(N,"$ascii_only?",function(){var n=this;return n.encoding.ascii?/^[\x00-\x7F]*$/.test(n):!1}),Re(N,"$match",function d(n,r){var s=d.$$p||X,i=this;return d.$$p=null,(Ge(re("String"),n)||se(n["$respond_to?"]("to_str")))&&(n=m("Regexp").$new(n.$to_str())),Ge(m("Regexp"),n)||Te.$raise(m("TypeError"),"wrong argument type "+n.$class()+" (expected Regexp)"),De(n,"match",[i,r],s.$to_proc())},-2),Re(N,"$match?",function(n,r){var s=this;return(Ge(re("String"),n)||se(n["$respond_to?"]("to_str")))&&(n=m("Regexp").$new(n.$to_str())),Ge(m("Regexp"),n)||Te.$raise(m("TypeError"),"wrong argument type "+n.$class()+" (expected Regexp)"),n["$match?"](s,r)},-2),Re(N,"$next",function(){var n=this,r=n.length;if(r===0)return"";for(var s=n,i=n.search(/[a-zA-Z0-9]/),$=!1,h;r--;){if(h=n.charCodeAt(r),h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122)switch(h){case 57:$=!0,h=48;break;case 90:$=!0,h=65;break;case 122:$=!0,h=97;break;default:$=!1,h+=1}else i===-1?h===255?($=!0,h=0):($=!1,h+=1):$=!0;if(s=s.slice(0,r)+String.fromCharCode(h)+s.slice(r+1),$&&(r===0||r===i)){switch(h){case 65:break;case 97:break;default:h+=1}r===0?s=String.fromCharCode(h)+s:s=s.slice(0,r)+String.fromCharCode(h)+s.slice(r),$=!1}if(!$)break}return s}),Re(N,"$oct",function(){var n=this,r,s=n,i=8;return/^\s*_/.test(s)?0:(s=s.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function($,h,b,B){switch(B.charAt(0)){case"+":case"-":return $;case"0":if(B.charAt(1)==="x"&&b==="0x")return $}switch(b){case"0b":i=2;break;case"0":case"0o":i=8;break;case"0d":i=10;break;case"0x":i=16;break}return h+B}),r=parseInt(s.replace(/_(?!_)/g,""),i),isNaN(r)?0:r)}),Re(N,"$ord",function(){var n=this;return typeof n.codePointAt=="function"?n.codePointAt(0):n.charCodeAt(0)}),Re(N,"$partition",function(n){var r=this,s,i;return n.$$is_regexp?(i=n.exec(r),i===null?s=-1:(m("MatchData").$new(n,i),n=i[0],s=i.index)):(n=Z(n,m("String"),"to_str"),s=r.indexOf(n)),s===-1?[r,"",""]:[r.slice(0,s),r.slice(s,s+n.length),r.slice(s+n.length)]}),Re(N,"$reverse",function(){var n=this;return n.split("").reverse().join("")}),Re(N,"$rindex",function(n,r){var s=this,i,$,h,b;if(r===void 0)r=s.length;else if(r=Z(r,m("Integer"),"to_int"),r<0&&(r+=s.length,r<0))return X;if(n.$$is_regexp){for($=null,h=Me(n);b=h.exec(s),!(b===null||b.index>r);)$=b,h.lastIndex=$.index+1;$===null?(qe["~"]=X,i=-1):(m("MatchData").$new(h,$),i=$.index)}else n=Z(n,m("String"),"to_str"),i=s.lastIndexOf(n,r);return i===-1?X:i},-2),Re(N,"$rjust",function(n,r){var s=this;if(r==null&&(r=" "),n=Z(n,m("Integer"),"to_int"),r=Z(r,m("String"),"to_str").$to_s(),se(r["$empty?"]())&&Te.$raise(m("ArgumentError"),"zero width padding"),se(n<=s.length))return s;var i=Math.floor(n-s.length),$=Math.floor(i/r.length),h=Array($+1).join(r),b=i-h.length;return h+r.slice(0,b)+s},-2),Re(N,"$rpartition",function(n){var r=this,s,i,$,h;if(n.$$is_regexp){for(i=null,$=Me(n);h=$.exec(r),h!==null;)i=h,$.lastIndex=i.index+1;i===null?s=-1:(m("MatchData").$new($,i),n=i[0],s=i.index)}else n=Z(n,m("String"),"to_str"),s=r.lastIndexOf(n);return s===-1?["","",r]:[r.slice(0,s),r.slice(s,s+n.length),r.slice(s+n.length)]}),Re(N,"$rstrip",function(){var n=this;return n.replace(/[\s\u0000]*$/,"")}),Re(N,"$scan",function d(n,r){var s=d.$$p||X,i,$=this;d.$$p=null,r=je(r),i=r.$$smap.no_matchdata,i==null&&(i=!1);var h=[],b=X,B;for(n.$$is_regexp?n=Me(n):(n=Z(n,m("String"),"to_str"),n=new RegExp(n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));(B=n.exec($))!=null;)b=m("MatchData").$new(n,B,fe(["no_matchdata"],{no_matchdata:i})),s===X?B.length==1?h.push(B[0]):h.push(b.$captures()):B.length==1?o.yield1(s,B[0]):o.yield1(s,b.$captures()),n.lastIndex===B.index&&(n.lastIndex+=1);return i||(qe["~"]=b),s!==X?$:h},-2),Re(N,"$singleton_class",function(){var n=this;return o.get_singleton_class(n)}),Re(N,"$split",function(n,r){var s=this,i=X;if(qe[";"]==null&&(qe[";"]=X),s.length===0)return[];if(r===void 0)r=0;else if(r=Le["$coerce_to!"](r,m("Integer"),"to_int"),r===1)return[s];(n===void 0||n===X)&&(n=se(i=qe[";"])?i:" ");var $=[],h=s.toString(),b=0,B,pe,Oe;if(n.$$is_regexp?n=Me(n):(n=Z(n,m("String"),"to_str").$to_s(),n===" "?(n=/\s+/gm,h=h.replace(/^\s+/,"")):n=new RegExp(n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm")),$=h.split(n),$.length===1&&$[0]===h)return[$[0]];for(;(pe=$.indexOf(void 0))!==-1;)$.splice(pe,1);if(r===0){for(;$[$.length-1]==="";)$.length-=1;return $}if(B=n.exec(h),r<0){if(B!==null&&B[0]===""&&n.source.indexOf("(?=")===-1)for(pe=0,Oe=B.length;pe<Oe;pe++)$.push("");return $}if(B!==null&&B[0]==="")return $.splice(r-1,$.length-1,$.slice(r-1).join("")),$;if(r>=$.length)return $;for(pe=0;B!==null&&(pe++,b=n.lastIndex,pe+1!==r);)B=n.exec(h);return $.splice(r-1,$.length-1,h.slice(b)),$},-1),Re(N,"$squeeze",function(n){var r,s,i=this;if(r=G(arguments),s=r,s.length===0)return i.replace(/(.)\1+/g,"$1");var $=D(s);return $===null?i:i.replace(new RegExp("("+$+")\\1+","g"),"$1")},-1),Re(N,"$start_with?",function(n){var r,s,i=this;r=G(arguments),s=r;for(var $=0,h=s.length;$<h;$++)if(s[$].$$is_regexp){var b=s[$],B=b.exec(i);if(B!=null&&B.index===0)return qe["~"]=m("MatchData").$new(b,B),!0;qe["~"]=X}else{var pe=Z(s[$],m("String"),"to_str").$to_s();if(i.indexOf(pe)===0)return!0}return!1},-1),Re(N,"$strip",function(){var n=this;return n.replace(/^[\s\u0000]*|[\s\u0000]*$/g,"")}),Re(N,"$sub",function d(n,r){var s=d.$$p||X,i=this;d.$$p=null,n.$$is_regexp||(n=Z(n,m("String"),"to_str"),n=new RegExp(n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var $,h=n.exec(i);return h===null?(qe["~"]=X,$=i.toString()):(m("MatchData").$new(n,h),r===void 0?(s===X&&Te.$raise(m("ArgumentError"),"wrong number of arguments (1 for 2)"),$=i.slice(0,h.index)+s(h[0])+i.slice(h.index+h[0].length)):r.$$is_hash?$=i.slice(0,h.index)+r["$[]"](h[0]).$to_s()+i.slice(h.index+h[0].length):(r=Z(r,m("String"),"to_str"),r=r.replace(/([\\]+)([0-9+&`'])/g,function(b,B,pe){if(B.length%2===0)return b;switch(pe){case"+":for(var Oe=h.length-1;Oe>0;Oe--)if(h[Oe]!==void 0)return B.slice(1)+h[Oe];return"";case"&":return B.slice(1)+h[0];case"`":return B.slice(1)+i.slice(0,h.index);case"'":return B.slice(1)+i.slice(h.index+h[0].length);default:return B.slice(1)+(h[pe]||"")}}).replace(/\\\\/g,"\\"),$=i.slice(0,h.index)+r+i.slice(h.index+h[0].length))),$},-2),Re(N,"$sum",function(n){var r=this;n==null&&(n=16),n=Z(n,m("Integer"),"to_int");for(var s=0,i=r.length,$=0;$<i;$++)s+=r.charCodeAt($);return n<=0?s:s&Math.pow(2,n)-1},-1),Re(N,"$swapcase",function(){var n=this,r=n.replace(/([a-z]+)|([A-Z]+)/g,function(s,i,$){return i?s.toUpperCase():s.toLowerCase()});return r}),Re(N,"$to_f",function(){var n=this;if(n.charAt(0)==="_")return 0;var r=parseFloat(n.replace(/_/g,""));return isNaN(r)||r==1/0||r==-1/0?0:r}),Re(N,"$to_i",function(n){var r=this;n==null&&(n=10);var s,i=r.toLowerCase(),$=Z(n,m("Integer"),"to_int");return($===1||$<0||$>36)&&Te.$raise(m("ArgumentError"),"invalid radix "+$),/^\s*_/.test(i)?0:(i=i.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(h,b,B,pe){switch(pe.charAt(0)){case"+":case"-":return h;case"0":if(pe.charAt(1)==="x"&&B==="0x"&&($===0||$===16))return h}switch(B){case"0b":if($===0||$===2)return $=2,b+pe;break;case"0":case"0o":if($===0||$===8)return $=8,b+pe;break;case"0d":if($===0||$===10)return $=10,b+pe;break;case"0x":if($===0||$===16)return $=16,b+pe;break}return h}),s=parseInt(i.replace(/_(?!_)/g,""),$),isNaN(s)?0:s)},-1),Re(N,"$to_proc",function d(){var n=d.$$p||X,r=this,s=X,i=X,$=X;return d.$$p=null,s=r.valueOf(),i=o.jsid(s),$=De(Te,"proc",[],function h(b){var B=h.$$p||X,pe,Oe;h.$$p=null,pe=G(arguments),Oe=pe,Oe.length===0&&Te.$raise(m("ArgumentError"),"no receiver given");var ot=Oe[0];ot==null&&(ot=X);var lt=ot[i];return lt?Oe=Oe.slice(1):(lt=ot.$method_missing,Oe[0]=s),typeof B=="function"&&(lt.$$p=B),Oe.length===0?lt.call(ot):lt.apply(ot,Oe)},-1),$.$$source_location=X,$}),Re(N,"$to_s",function(){var n=this;return n.toString()}),Re(N,"$tr",function(n,r){var s=this;if(n=Z(n,m("String"),"to_str").$to_s(),r=Z(r,m("String"),"to_str").$to_s(),n.length==0||n===r)return s;var i,$,h,b,B,pe,Oe,ot={},lt=n.split(""),pt=lt.length,dt=r.split(""),bt=dt.length,ht=!1,vt=null;lt[0]==="^"&&lt.length>1&&(ht=!0,lt.shift(),vt=dt[bt-1],pt-=1);var gt=[],tt=null;for($=!1,i=0;i<pt;i++)if(b=lt[i],tt==null)tt=b,gt.push(b);else if(b==="-")tt==="-"?(gt.push("-"),gt.push("-")):i==pt-1?gt.push("-"):$=!0;else if($){for(B=tt.charCodeAt(0),pe=b.charCodeAt(0),B>pe&&Te.$raise(m("ArgumentError"),'invalid range "'+String.fromCharCode(B)+"-"+String.fromCharCode(pe)+'" in string transliteration'),h=B+1;h<pe;h++)gt.push(String.fromCharCode(h));gt.push(b),$=null,tt=null}else gt.push(b);if(lt=gt,pt=lt.length,ht)for(i=0;i<pt;i++)ot[lt[i]]=!0;else{if(bt>0){var le=[],be=null;for($=!1,i=0;i<bt;i++)if(b=dt[i],be==null)be=b,le.push(b);else if(b==="-")be==="-"?(le.push("-"),le.push("-")):i==bt-1?le.push("-"):$=!0;else if($){for(B=be.charCodeAt(0),pe=b.charCodeAt(0),B>pe&&Te.$raise(m("ArgumentError"),'invalid range "'+String.fromCharCode(B)+"-"+String.fromCharCode(pe)+'" in string transliteration'),h=B+1;h<pe;h++)le.push(String.fromCharCode(h));le.push(b),$=null,be=null}else le.push(b);dt=le,bt=dt.length}var Ne=pt-bt;if(Ne>0){var f=bt>0?dt[bt-1]:"";for(i=0;i<Ne;i++)dt.push(f)}for(i=0;i<pt;i++)ot[lt[i]]=dt[i]}var k="";for(i=0,Oe=s.length;i<Oe;i++){b=s.charAt(i);var V=ot[b];ht?k+=V==null?vt:b:k+=V??b}return k}),Re(N,"$tr_s",function(n,r){var s=this;if(n=Z(n,m("String"),"to_str").$to_s(),r=Z(r,m("String"),"to_str").$to_s(),n.length==0)return s;var i,$,h,b,B,pe,Oe,ot={},lt=n.split(""),pt=lt.length,dt=r.split(""),bt=dt.length,ht=!1,vt=null;lt[0]==="^"&&lt.length>1&&(ht=!0,lt.shift(),vt=dt[bt-1],pt-=1);var gt=[],tt=null;for($=!1,i=0;i<pt;i++)if(b=lt[i],tt==null)tt=b,gt.push(b);else if(b==="-")tt==="-"?(gt.push("-"),gt.push("-")):i==pt-1?gt.push("-"):$=!0;else if($){for(B=tt.charCodeAt(0),pe=b.charCodeAt(0),B>pe&&Te.$raise(m("ArgumentError"),'invalid range "'+String.fromCharCode(B)+"-"+String.fromCharCode(pe)+'" in string transliteration'),h=B+1;h<pe;h++)gt.push(String.fromCharCode(h));gt.push(b),$=null,tt=null}else gt.push(b);if(lt=gt,pt=lt.length,ht)for(i=0;i<pt;i++)ot[lt[i]]=!0;else{if(bt>0){var le=[],be=null;for($=!1,i=0;i<bt;i++)if(b=dt[i],tt==null)tt=b,le.push(b);else if(b==="-")be==="-"?(le.push("-"),le.push("-")):i==bt-1?le.push("-"):$=!0;else if($){for(B=tt.charCodeAt(0),pe=b.charCodeAt(0),B>pe&&Te.$raise(m("ArgumentError"),'invalid range "'+String.fromCharCode(B)+"-"+String.fromCharCode(pe)+'" in string transliteration'),h=B+1;h<pe;h++)le.push(String.fromCharCode(h));le.push(b),$=null,tt=null}else le.push(b);dt=le,bt=dt.length}var Ne=pt-bt;if(Ne>0){var f=bt>0?dt[bt-1]:"";for(i=0;i<Ne;i++)dt.push(f)}for(i=0;i<pt;i++)ot[lt[i]]=dt[i]}var k="",V=null;for(i=0,Oe=s.length;i<Oe;i++){b=s.charAt(i);var de=ot[b];ht?de==null?V==null&&(k+=vt,V=!0):(k+=b,V=null):de!=null?(V==null||V!==de)&&(k+=de,V=de):(k+=b,V=null)}return k}),Re(N,"$upcase",function(){var n=this;return n.toUpperCase()}),Re(N,"$upto",function d(n,r){var s=d.$$p||X,i=this;if(d.$$p=null,r==null&&(r=!1),s===X)return i.$enum_for("upto",n,r);var $,h,b=i.toString();if(n=Z(n,m("String"),"to_str"),b.length===1&&n.length===1)for($=b.charCodeAt(0),h=n.charCodeAt(0);$<=h&&!(r&&$===h);)s(String.fromCharCode($)),$+=1;else if(parseInt(b,10).toString()===b&&parseInt(n,10).toString()===n)for($=parseInt(b,10),h=parseInt(n,10);$<=h&&!(r&&$===h);)s($.toString()),$+=1;else for(;b.length<=n.length&&b<=n&&!(r&&b===n);)s(b),b=b.$succ();return i},-2);function D(d){function n(ot){var lt="",pt,dt=ot.length,bt,ht,vt,gt,tt;for(pt=0;pt<dt;pt++)if(bt=ot.charAt(pt),bt==="-"&&pt>0&&pt<dt-1&&!ht){for(vt=ot.charCodeAt(pt-1),gt=ot.charCodeAt(pt+1),vt>gt&&Te.$raise(m("ArgumentError"),'invalid range "'+vt+"-"+gt+'" in string transliteration'),tt=vt+1;tt<gt+1;tt++)lt+=String.fromCharCode(tt);ht=!0,pt++}else ht=bt==="\\",lt+=bt;return lt}function r(ot,lt){if(ot.length===0)return lt;var pt="",dt,bt=ot.length,ht;for(dt=0;dt<bt;dt++)ht=ot.charAt(dt),lt.indexOf(ht)!==-1&&(pt+=ht);return pt}var s,i,$,h,b,B,pe="",Oe="";for(s=0,i=d.length;s<i;s++)$=Z(d[s],m("String"),"to_str"),h=$.charAt(0)==="^"&&$.length>1,$=n(h?$.slice(1):$),h?Oe=r(Oe,$):pe=r(pe,$);if(pe.length>0&&Oe.length>0){for(B="",s=0,i=pe.length;s<i;s++)b=pe.charAt(s),Oe.indexOf(b)===-1&&(B+=b);pe=B,Oe=""}return pe.length>0?"["+m("Regexp").$escape(pe)+"]":Oe.length>0?"[^"+m("Regexp").$escape(Oe)+"]":null}return Re(N,"$instance_variables",function(){return[]}),ye(N,"$_load",function(n){var r,s,i=this;return r=G(arguments),s=r,De(i,"new",Pe(s))},-1),Re(N,"$unicode_normalize",function(n){var r=this;return n==null&&(n="nfc"),se(["nfc","nfd","nfkc","nfkd"]["$include?"](n))||Te.$raise(m("ArgumentError"),"Invalid normalization form "+n),r.normalize(n.$upcase())},-1),Re(N,"$unicode_normalized?",function(n){var r=this;return n==null&&(n="nfc"),r.$unicode_normalize(n)["$=="](r)},-1),Re(N,"$unpack",function(n){return Te.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")}),Re(N,"$unpack1",function(n){return Te.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")}),Re(N,"$freeze",function(){var n=this;return typeof n=="string"||he(n,"$$frozen",!0),n}),Re(N,"$-@",function(){var n=this;return typeof n=="string"||n.$$frozen?n:n.encoding.name=="UTF-8"&&n.internal_encoding.name=="UTF-8"?n.toString():n.$dup().$freeze()}),Re(N,"$frozen?",function(){var n=this;return typeof n=="string"||n.$$frozen===!0}),_e(N,"+@","dup"),_e(N,"===","=="),_e(N,"byteslice","[]"),_e(N,"eql?","=="),_e(N,"equal?","==="),_e(N,"object_id","__id__"),_e(N,"slice","[]"),_e(N,"succ","next"),_e(N,"to_str","to_s"),_e(N,"to_sym","intern"),Le.$pristine(N,"initialize")}("::",String,te),$e(te[0],"Symbol",me("String"))};Opal.modules["corelib/enumerable"]=function(o){var Z=o.truthy,Se=o.coerce_to,Me=o.yield1,he=o.yieldX,Ze=o.deny_frozen_access,Re=o.module,Le=o.send,ye=o.slice,G=o.to_a,De=o.Opal,Pe=o.thrower,Ie=o.def,je=o.Kernel,Ge=o.return_val,Te=o.rb_gt,se=o.rb_times,qe=o.rb_lt,We=o.eqeq,Fe=o.rb_plus,xe=o.rb_minus,fe=o.rb_divide,_e=o.rb_le,$e=o.hash2,Ee=o.lambda,te=o.not,me=o.alias,X=[],m=o.nil,ae=o.$$$;return o.add_stubs("each,public_send,destructure,to_enum,enumerator_size,new,yield,raise,slice_when,!,enum_for,flatten,map,to_proc,compact,to_a,warn,proc,==,nil?,respond_to?,coerce_to!,>,*,try_convert,<,+,-,ceil,/,size,select,__send__,length,<=,[],push,<<,[]=,===,inspect,<=>,first,reverse,sort,take,sort_by,compare,call,dup,sort!,map!,include?,-@,key?,values,transform_values,group_by,fetch,to_h,coerce_to?,class,zip,detect,find_all,collect_concat,collect,inject,entries"),function(q,J){var N=Re(q,"Enumerable"),ze=[N].concat(J),re=o.$r(ze);function D(d){return d.length===0&&(d=[m]),d.length>1&&(d=[d]),d}return Ie(N,"$all?",function d(n){try{var r=Pe("return"),s=d.$$p||m,i=this;return d.$$p=null,Z(n!==void 0)?Le(i,"each",[],function(h){var b,B,pe=m;if(b=ye(arguments),B=b,pe=D(B),Z(Le(n,"public_send",["==="].concat(G(pe)))))return m;r.$throw(!1)},{$$arity:-1,$$ret:r}):s!==m?Le(i,"each",[],function(h){var b,B;if(b=ye(arguments),B=b,Z(o.yieldX(s,G(B))))return m;r.$throw(!1)},{$$arity:-1,$$ret:r}):Le(i,"each",[],function(h){var b,B;if(b=ye(arguments),B=b,Z(De.$destructure(B)))return m;r.$throw(!1)},{$$arity:-1,$$ret:r}),!0}catch($){if($===r)return $.$v;throw $}},-1),Ie(N,"$any?",function d(n){try{var r=Pe("return"),s=d.$$p||m,i=this;return d.$$p=null,Z(n!==void 0)?Le(i,"each",[],function(h){var b,B,pe=m;if(b=ye(arguments),B=b,pe=D(B),Z(Le(n,"public_send",["==="].concat(G(pe)))))r.$throw(!0);else return m},{$$arity:-1,$$ret:r}):s!==m?Le(i,"each",[],function(h){var b,B;if(b=ye(arguments),B=b,Z(o.yieldX(s,G(B))))r.$throw(!0);else return m},{$$arity:-1,$$ret:r}):Le(i,"each",[],function(h){var b,B;if(b=ye(arguments),B=b,Z(De.$destructure(B)))r.$throw(!0);else return m},{$$arity:-1,$$ret:r}),!1}catch($){if($===r)return $.$v;throw $}},-1),Ie(N,"$chunk",function d(){var n=d.$$p||m,r=this;return d.$$p=null,n===m?Le(r,"to_enum",["chunk"],function s(){var i=s.$$s==null?this:s.$$s;return i.$enumerator_size()},{$$s:r}):Le(ae("Enumerator"),"new",[],function s(i){var $=s.$$s==null?this:s.$$s;i==null&&(i=m);var h=m,b=[];function B(){b.length>0&&i.$yield(h,b)}$.$each.$$p=function(pe){var Oe=Me(n,pe);Oe===m?(B(),b=[],h=m):(h===m||h===Oe?b.push(pe):(B(),b=[pe]),h=Oe)},$.$each(),B()},{$$s:r})}),Ie(N,"$chunk_while",function d(){var n=d.$$p||m,r=this;return d.$$p=null,n===m&&je.$raise(ae("ArgumentError"),"no block given"),Le(r,"slice_when",[],function(i,$){return i==null&&(i=m),$==null&&($=m),o.yieldX(n,[i,$])["$!"]()})}),Ie(N,"$collect",function d(){var n=d.$$p||m,r=this;if(d.$$p=null,n===m)return Le(r,"enum_for",["collect"],function i(){var $=i.$$s==null?this:i.$$s;return $.$enumerator_size()},{$$s:r});var s=[];return r.$each.$$p=function(){var i=he(n,arguments);s.push(i)},r.$each(),s}),Ie(N,"$collect_concat",function d(){var n=d.$$p||m,r=this;return d.$$p=null,n===m?Le(r,"enum_for",["collect_concat"],function s(){var i=s.$$s==null?this:s.$$s;return i.$enumerator_size()},{$$s:r}):Le(r,"map",[],n.$to_proc()).$flatten(1)}),Ie(N,"$compact",function(){var n=this;return n.$to_a().$compact()}),Ie(N,"$count",function d(n){var r=d.$$p||m,s=this,i=m;return d.$$p=null,i=0,n!=null&&r!==m&&s.$warn("warning: given block not used"),Z(n!=null)?r=Le(je,"proc",[],function(h){var b,B;return b=ye(arguments),B=b,De.$destructure(B)["$=="](n)},-1):Z(r["$nil?"]())&&(r=Le(je,"proc",[],Ge(!0))),Le(s,"each",[],function(h){var b,B;return b=ye(arguments),B=b,Z(he(r,B))?i++:m},-1),i},-1),Ie(N,"$cycle",function d(n){var r=d.$$p||m,s=this;if(d.$$p=null,n==null&&(n=m),r===m)return Le(s,"enum_for",["cycle",n],function B(){var pe=B.$$s==null?this:B.$$s;return Z(n["$nil?"]())?Z(pe["$respond_to?"]("size"))?ae(ae("Float"),"INFINITY"):m:(n=De["$coerce_to!"](n,ae("Integer"),"to_int"),Z(Te(n,0))?se(pe.$enumerator_size(),n):0)},{$$s:s});if(!Z(n["$nil?"]())&&(n=De["$coerce_to!"](n,ae("Integer"),"to_int"),Z(n<=0)))return m;var i=[],$,h,b;if(s.$each.$$p=function(){var B=De.$destructure(arguments),pe=Me(r,B);i.push(B)},s.$each(),i.length===0)return m;if(n===m)for(;;)for($=0,h=i.length;$<h;$++)b=Me(r,i[$]);else for(;n>1;){for($=0,h=i.length;$<h;$++)b=Me(r,i[$]);n--}},-1),Ie(N,"$detect",function d(n){try{var r=Pe("return"),s=d.$$p||m,i=this;return d.$$p=null,s===m?i.$enum_for("detect",n):(Le(i,"each",[],function(h){var b,B,pe=m;if(b=ye(arguments),B=b,pe=De.$destructure(B),Z(o.yield1(s,pe)))r.$throw(pe);else return m},{$$arity:-1,$$ret:r}),n!==void 0?typeof n=="function"?n():n:m)}catch($){if($===r)return $.$v;throw $}},-1),Ie(N,"$drop",function(n){var r=this;n=Se(n,ae("Integer"),"to_int"),Z(n<0)&&je.$raise(ae("ArgumentError"),"attempt to drop negative size");var s=[],i=0;return r.$each.$$p=function(){n<=i&&s.push(De.$destructure(arguments)),i++},r.$each(),s}),Ie(N,"$drop_while",function d(){var n=d.$$p||m,r=this;if(d.$$p=null,n===m)return r.$enum_for("drop_while");var s=[],i=!0;return r.$each.$$p=function(){var $=De.$destructure(arguments);if(i){var h=Me(n,$);Z(h)||(i=!1,s.push($))}else s.push($)},r.$each(),s}),Ie(N,"$each_cons",function d(n){var r=d.$$p||m,s=this;if(d.$$p=null,Z(arguments.length!=1)&&je.$raise(ae("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),n=De.$try_convert(n,ae("Integer"),"to_int"),Z(n<=0)&&je.$raise(ae("ArgumentError"),"invalid size"),r===m)return Le(s,"enum_for",["each_cons",n],function $(){var h=$.$$s==null?this:$.$$s,b=m;return b=h.$enumerator_size(),Z(b["$nil?"]())?m:We(b,0)||Z(qe(b,n))?0:Fe(xe(b,n),1)},{$$s:s});var i=[];return s.$each.$$p=function(){var $=De.$destructure(arguments);i.push($),i.length>n&&i.shift(),i.length==n&&Me(r,i.slice(0,n))},s.$each(),s}),Ie(N,"$each_entry",function d(n){var r=d.$$p||m,s,i,$=this;return d.$$p=null,s=ye(arguments),i=s,r===m?Le($,"to_enum",["each_entry"].concat(G(i)),function h(){var b=h.$$s==null?this:h.$$s;return b.$enumerator_size()},{$$s:$}):($.$each.$$p=function(){var h=De.$destructure(arguments);Me(r,h)},$.$each.apply($,i),$)},-1),Ie(N,"$each_slice",function d(n){var r=d.$$p||m,s=this;if(d.$$p=null,n=Se(n,ae("Integer"),"to_int"),Z(n<=0)&&je.$raise(ae("ArgumentError"),"invalid slice size"),r===m)return Le(s,"enum_for",["each_slice",n],function $(){var h=$.$$s==null?this:$.$$s;return Z(h["$respond_to?"]("size"))?fe(h.$size(),n).$ceil():m},{$$s:s});var i=[];return s.$each.$$p=function(){var $=De.$destructure(arguments);i.push($),i.length===n&&(Me(r,i),i=[])},s.$each(),i.length>0&&Me(r,i),s}),Ie(N,"$each_with_index",function d(n){var r=d.$$p||m,s,i,$=this;if(d.$$p=null,s=ye(arguments),i=s,r===m)return Le($,"enum_for",["each_with_index"].concat(G(i)),function b(){var B=b.$$s==null?this:b.$$s;return B.$enumerator_size()},{$$s:$});var h=0;return $.$each.$$p=function(){var b=De.$destructure(arguments);r(b,h),h++},$.$each.apply($,i),$},-1),Ie(N,"$each_with_object",function d(n){var r=d.$$p||m,s=this;return d.$$p=null,r===m?Le(s,"enum_for",["each_with_object",n],function i(){var $=i.$$s==null?this:i.$$s;return $.$enumerator_size()},{$$s:s}):(s.$each.$$p=function(){var i=De.$destructure(arguments);r(i,n)},s.$each(),n)}),Ie(N,"$entries",function(n){var r,s,i=this;r=ye(arguments),s=r;var $=[];return i.$each.$$p=function(){$.push(De.$destructure(arguments))},i.$each.apply(i,s),$},-1),Ie(N,"$filter_map",function d(){var n=d.$$p||m,r=this;return d.$$p=null,n===m?Le(r,"enum_for",["filter_map"],function s(){var i=s.$$s==null?this:s.$$s;return i.$enumerator_size()},{$$s:r}):Le(Le(r,"map",[],n.$to_proc()),"select",[],"itself".$to_proc())}),Ie(N,"$find_all",function d(){var n=d.$$p||m,r=this;if(d.$$p=null,n===m)return Le(r,"enum_for",["find_all"],function i(){var $=i.$$s==null?this:i.$$s;return $.$enumerator_size()},{$$s:r});var s=[];return r.$each.$$p=function(){var i=De.$destructure(arguments),$=Me(n,i);Z($)&&s.push(i)},r.$each(),s}),Ie(N,"$find_index",function d(n){try{var r=Pe("return"),s=d.$$p||m,i=this,$=m;return d.$$p=null,Z(n===void 0&&s===m)?i.$enum_for("find_index"):(n!=null&&s!==m&&i.$warn("warning: given block not used"),$=0,Z(n!=null)?Le(i,"each",[],function(b){var B,pe;return B=ye(arguments),pe=B,We(De.$destructure(pe),n)&&r.$throw($),$+=1},{$$arity:-1,$$ret:r}):Le(i,"each",[],function(b){var B,pe;return B=ye(arguments),pe=B,Z(o.yieldX(s,G(pe)))&&r.$throw($),$+=1},{$$arity:-1,$$ret:r}),m)}catch(h){if(h===r)return h.$v;throw h}},-1),Ie(N,"$first",function(n){try{var r=Pe("return"),s=this,i=m,$=m;return Z(n===void 0)?Le(s,"each",[],function(b){b==null&&(b=m),r.$throw(b)},{$$ret:r}):(i=[],n=Se(n,ae("Integer"),"to_int"),Z(n<0)&&je.$raise(ae("ArgumentError"),"attempt to take negative size"),Z(n==0)?[]:($=0,Le(s,"each",[],function(b){var B,pe;if(B=ye(arguments),pe=B,i.push(De.$destructure(pe)),Z(n<=++$))r.$throw(i);else return m},{$$arity:-1,$$ret:r}),i))}catch(h){if(h===r)return h.$v;throw h}},-1),Ie(N,"$grep",function d(n){var r=d.$$p||m,s=this,i=m;return d.$$p=null,i=[],Le(s,"each",[],function(h){var b,B,pe=m;return b=ye(arguments),B=b,pe=D(B),Z(Le(n,"__send__",["==="].concat(G(pe))))?(r!==m?(Z(Te(B.$length(),1))&&(B=[B]),B=o.yieldX(r,G(B))):Z(_e(B.$length(),1))&&(B=B["$[]"](0)),i.$push(B)):m},-1),i}),Ie(N,"$grep_v",function d(n){var r=d.$$p||m,s=this,i=m;return d.$$p=null,i=[],Le(s,"each",[],function(h){var b,B,pe=m;return b=ye(arguments),B=b,pe=D(B),Z(Le(n,"__send__",["==="].concat(G(pe))))?m:(r!==m?(Z(Te(B.$length(),1))&&(B=[B]),B=o.yieldX(r,G(B))):Z(_e(B.$length(),1))&&(B=B["$[]"](0)),i.$push(B))},-1),i}),Ie(N,"$group_by",function d(){var n=d.$$p||m,r,s=this,i=m,$=m;if(d.$$p=null,n===m)return Le(s,"enum_for",["group_by"],function b(){var B=b.$$s==null?this:b.$$s;return B.$enumerator_size()},{$$s:s});i=$e([],{});var h;return s.$each.$$p=function(){var b=De.$destructure(arguments),B=Me(n,b);(Z($=i["$[]"](B))?$:(r=[B,[]],Le(i,"[]=",r),r[r.length-1]))["$<<"](b)},s.$each(),h!==void 0?h:i}),Ie(N,"$include?",function(n){try{var r=Pe("return"),s=this;return Le(s,"each",[],function($){var h,b;if(h=ye(arguments),b=h,We(De.$destructure(b),n))r.$throw(!0);else return m},{$$arity:-1,$$ret:r}),!1}catch(i){if(i===r)return i.$v;throw i}}),Ie(N,"$inject",function d(n,r){var s=d.$$p||m,i=this;d.$$p=null;var $=n;return s!==m&&r===void 0?i.$each.$$p=function(){var h=De.$destructure(arguments);if($===void 0){$=h;return}h=he(s,[$,h]),$=h}:(r===void 0&&(ae("Symbol")["$==="](n)||je.$raise(ae("TypeError"),""+n.$inspect()+" is not a Symbol"),r=n,$=void 0),i.$each.$$p=function(){var h=De.$destructure(arguments);if($===void 0){$=h;return}$=$.$__send__(r,h)}),i.$each(),$??m},-1),Ie(N,"$lazy",function(){var n=this;return Le(ae(ae("Enumerator"),"Lazy"),"new",[n,n.$enumerator_size()],function(s,i){var $,h;return s==null&&(s=m),$=ye(arguments,1),h=$,Le(s,"yield",G(h))},-2)}),Ie(N,"$enumerator_size",function(){var n=this;return Z(n["$respond_to?"]("size"))?n.$size():m}),Ie(N,"$max",function d(n){var r=d.$$p||m,s=this;if(d.$$p=null,n===void 0||n===m){var i,$;return s.$each.$$p=function(){var h=De.$destructure(arguments);if(i===void 0){i=h;return}r!==m?$=he(r,[h,i]):$=h["$<=>"](i),$===m&&je.$raise(ae("ArgumentError"),"comparison failed"),$>0&&(i=h)},s.$each(),i===void 0?m:i}return n=Se(n,ae("Integer"),"to_int"),Le(s,"sort",[],r.$to_proc()).$reverse().$first(n)},-1),Ie(N,"$max_by",function d(n){var r=d.$$p||m,s=this;if(d.$$p=null,n==null&&(n=m),!Z(r))return Le(s,"enum_for",["max_by",n],function h(){var b=h.$$s==null?this:h.$$s;return b.$enumerator_size()},{$$s:s});if(!Z(n["$nil?"]()))return Le(s,"sort_by",[],r.$to_proc()).$reverse().$take(n);var i,$;return s.$each.$$p=function(){var h=De.$destructure(arguments),b=Me(r,h);if(i===void 0){i=h,$=b;return}b["$<=>"]($)>0&&(i=h,$=b)},s.$each(),i===void 0?m:i},-1),Ie(N,"$min",function d(n){var r=d.$$p||m,s=this;if(d.$$p=null,n==null&&(n=m),!Z(n["$nil?"]()))return r!==m?Le(s,"sort",[],function(h,b){return h==null&&(h=m),b==null&&(b=m),o.yieldX(r,[h,b])}).$take(n):s.$sort().$take(n);var i;return r!==m?s.$each.$$p=function(){var $=De.$destructure(arguments);if(i===void 0){i=$;return}var h=r($,i);h===m&&je.$raise(ae("ArgumentError"),"comparison failed"),h<0&&(i=$)}:s.$each.$$p=function(){var $=De.$destructure(arguments);if(i===void 0){i=$;return}De.$compare($,i)<0&&(i=$)},s.$each(),i===void 0?m:i},-1),Ie(N,"$min_by",function d(n){var r=d.$$p||m,s=this;if(d.$$p=null,n==null&&(n=m),!Z(r))return Le(s,"enum_for",["min_by",n],function h(){var b=h.$$s==null?this:h.$$s;return b.$enumerator_size()},{$$s:s});if(!Z(n["$nil?"]()))return Le(s,"sort_by",[],r.$to_proc()).$take(n);var i,$;return s.$each.$$p=function(){var h=De.$destructure(arguments),b=Me(r,h);if(i===void 0){i=h,$=b;return}b["$<=>"]($)<0&&(i=h,$=b)},s.$each(),i===void 0?m:i},-1),Ie(N,"$minmax",function d(){var n=d.$$p||m,r=this,s=m;d.$$p=null,n=Z(s=n)?s:Le(je,"proc",[],function(B,pe){return B==null&&(B=m),pe==null&&(pe=m),B["$<=>"](pe)});var i=m,$=m,h=!0;return r.$each.$$p=function(){var b=De.$destructure(arguments);if(h)i=$=b,h=!1;else{var B=n.$call(i,b);B===m?je.$raise(ae("ArgumentError"),"comparison failed"):B>0&&(i=b);var pe=n.$call($,b);pe===m?je.$raise(ae("ArgumentError"),"comparison failed"):pe<0&&($=b)}},r.$each(),[i,$]}),Ie(N,"$minmax_by",function d(){var n=d.$$p||m,r=this;if(d.$$p=null,!Z(n))return Le(r,"enum_for",["minmax_by"],function b(){var B=b.$$s==null?this:b.$$s;return B.$enumerator_size()},{$$s:r});var s=m,i=m,$,h;return r.$each.$$p=function(){var b=De.$destructure(arguments),B=Me(n,b);($===void 0||B["$<=>"]($)<0)&&(s=b,$=B),(h===void 0||B["$<=>"](h)>0)&&(i=b,h=B)},r.$each(),[s,i]}),Ie(N,"$none?",function d(n){try{var r=Pe("return"),s=d.$$p||m,i=this;return d.$$p=null,Z(n!==void 0)?Le(i,"each",[],function(h){var b,B,pe=m;if(b=ye(arguments),B=b,pe=D(B),Z(Le(n,"public_send",["==="].concat(G(pe)))))r.$throw(!1);else return m},{$$arity:-1,$$ret:r}):s!==m?Le(i,"each",[],function(h){var b,B;if(b=ye(arguments),B=b,Z(o.yieldX(s,G(B))))r.$throw(!1);else return m},{$$arity:-1,$$ret:r}):Le(i,"each",[],function(h){var b,B,pe=m;if(b=ye(arguments),B=b,pe=De.$destructure(B),Z(pe))r.$throw(!1);else return m},{$$arity:-1,$$ret:r}),!0}catch($){if($===r)return $.$v;throw $}},-1),Ie(N,"$one?",function d(n){try{var r=Pe("return"),s=d.$$p||m,i=this,$=m;return d.$$p=null,$=0,Z(n!==void 0)?Le(i,"each",[],function(b){var B,pe,Oe=m;if(B=ye(arguments),pe=B,Oe=D(pe),Z(Le(n,"public_send",["==="].concat(G(Oe)))))if($=Fe($,1),Z(Te($,1)))r.$throw(!1);else return m;else return m},{$$arity:-1,$$ret:r}):s!==m?Le(i,"each",[],function(b){var B,pe;if(B=ye(arguments),pe=B,!Z(o.yieldX(s,G(pe))))return m;if($=Fe($,1),Z(Te($,1)))r.$throw(!1);else return m},{$$arity:-1,$$ret:r}):Le(i,"each",[],function(b){var B,pe;if(B=ye(arguments),pe=B,!Z(De.$destructure(pe)))return m;if($=Fe($,1),Z(Te($,1)))r.$throw(!1);else return m},{$$arity:-1,$$ret:r}),$["$=="](1)}catch(h){if(h===r)return h.$v;throw h}},-1),Ie(N,"$partition",function d(){var n=d.$$p||m,r=this;if(d.$$p=null,n===m)return Le(r,"enum_for",["partition"],function h(){var b=h.$$s==null?this:h.$$s;return b.$enumerator_size()},{$$s:r});var s=[],i=[],$;return r.$each.$$p=function(){var h=De.$destructure(arguments),b=Me(n,h);Z(b)?s.push(h):i.push(h)},r.$each(),[s,i]}),Ie(N,"$reject",function d(){var n=d.$$p||m,r=this;if(d.$$p=null,n===m)return Le(r,"enum_for",["reject"],function i(){var $=i.$$s==null?this:i.$$s;return $.$enumerator_size()},{$$s:r});var s=[];return r.$each.$$p=function(){var i=De.$destructure(arguments),$=Me(n,i);Z($)||s.push(i)},r.$each(),s}),Ie(N,"$reverse_each",function d(){var n=d.$$p||m,r=this;if(d.$$p=null,n===m)return Le(r,"enum_for",["reverse_each"],function $(){var h=$.$$s==null?this:$.$$s;return h.$enumerator_size()},{$$s:r});var s=[];r.$each.$$p=function(){s.push(arguments)},r.$each();for(var i=s.length-1;i>=0;i--)he(n,s[i]);return s}),Ie(N,"$slice_before",function d(n){var r=d.$$p||m,s=this;return d.$$p=null,Z(n===void 0&&r===m)&&je.$raise(ae("ArgumentError"),"both pattern and block are given"),Z(n!==void 0&&r!==m||arguments.length>1)&&je.$raise(ae("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),Le(ae("Enumerator"),"new",[],function i($){var h=i.$$s==null?this:i.$$s;$==null&&($=m);var b=[];r!==m?n===void 0?h.$each.$$p=function(){var B=De.$destructure(arguments),pe=Me(r,B);Z(pe)&&b.length>0&&($["$<<"](b),b=[]),b.push(B)}:h.$each.$$p=function(){var B=De.$destructure(arguments),pe=r(B,n.$dup());Z(pe)&&b.length>0&&($["$<<"](b),b=[]),b.push(B)}:h.$each.$$p=function(){var B=De.$destructure(arguments),pe=n["$==="](B);Z(pe)&&b.length>0&&($["$<<"](b),b=[]),b.push(B)},h.$each(),b.length>0&&$["$<<"](b)},{$$s:s})},-1),Ie(N,"$slice_after",function d(n){var r=d.$$p||m,s=this;return d.$$p=null,Z(n===void 0&&r===m)&&je.$raise(ae("ArgumentError"),"both pattern and block are given"),Z(n!==void 0&&r!==m||arguments.length>1)&&je.$raise(ae("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),Z(n!==void 0)&&(r=Le(je,"proc",[],function($){return $==null&&($=m),n["$==="]($)})),Le(ae("Enumerator"),"new",[],function i($){var h=i.$$s==null?this:i.$$s;$==null&&($=m);var b;h.$each.$$p=function(){var B=De.$destructure(arguments),pe=Me(r,B);b==null&&(b=[]),Z(pe)?(b.push(B),$.$yield(b),b=null):b.push(B)},h.$each(),b!=null&&$.$yield(b)},{$$s:s})},-1),Ie(N,"$slice_when",function d(){var n=d.$$p||m,r=this;return d.$$p=null,n===m&&je.$raise(ae("ArgumentError"),"wrong number of arguments (0 for 1)"),Le(ae("Enumerator"),"new",[],function s(i){var $=s.$$s==null?this:s.$$s;i==null&&(i=m);var h=m,b=m;$.$each_cons.$$p=function(){var B=De.$destructure(arguments),pe=B[0],Oe=B[1],ot=he(n,[pe,Oe]);b=Oe,h===m&&(h=[]),Z(ot)?(h.push(pe),i.$yield(h),h=[]):h.push(pe)},$.$each_cons(2),h!==m&&(h.push(b),i.$yield(h))},{$$s:r})}),Ie(N,"$sort",function d(){var n=d.$$p||m,r=this,s=m;return d.$$p=null,s=r.$to_a(),n===m&&(n=Ee(function($,h){return $==null&&($=m),h==null&&(h=m),$["$<=>"](h)})),Le(s,"sort",[],n.$to_proc())}),Ie(N,"$sort_by",function d(){var n=d.$$p||m,r=this,s=m;return d.$$p=null,n===m?Le(r,"enum_for",["sort_by"],function i(){var $=i.$$s==null?this:i.$$s;return $.$enumerator_size()},{$$s:r}):(s=Le(r,"map",[],function(){var $=m;return $=De.$destructure(arguments),[o.yield1(n,$),$]}),Le(s,"sort!",[],function($,h){return $==null&&($=m),h==null&&(h=m),$[0]["$<=>"](h[0])}),Le(s,"map!",[],function($){return $==null&&($=m),$[1]}))}),Ie(N,"$sum",function d(n){var r=d.$$p||m,s=this,i=m,$=m;return d.$$p=null,n==null&&(n=0),i=n,$=0,Le(s,"each",[],function(b){var B,pe,Oe=m,ot=m,lt=m;return B=ye(arguments),pe=B,Oe=r!==m?o.yieldX(r,G(pe)):De.$destructure(pe),te([ae(ae("Float"),"INFINITY"),ae(ae("Float"),"INFINITY")["$-@"]()]["$include?"](Oe))&&Z(Oe["$respond_to?"]("-"))?(ot=xe(Oe,$),lt=Fe(i,ot),$=xe(xe(lt,i),ot),i=lt):i=Fe(i,Oe)},-1),i},-1),Ie(N,"$take",function(n){var r=this;return r.$first(n)}),Ie(N,"$take_while",function d(){try{var n=Pe("return"),r=d.$$p||m,s=this,i=m;return d.$$p=null,Z(r)?(i=[],Le(s,"each",[],function(h){var b,B,pe=m;return b=ye(arguments),B=b,pe=De.$destructure(B),Z(o.yield1(r,pe))||n.$throw(i),i.push(pe)},{$$arity:-1,$$ret:n})):s.$enum_for("take_while")}catch($){if($===n)return $.$v;throw $}}),Ie(N,"$uniq",function d(){var n=d.$$p||m,r=this,s=m;return d.$$p=null,s=$e([],{}),Le(r,"each",[],function($){var h,b,B,pe=m,Oe=m;return h=ye(arguments),b=h,pe=De.$destructure(b),Oe=n!==m?o.yield1(n,pe):pe,Z(s["$key?"](Oe))?m:(B=[Oe,pe],Le(s,"[]=",B),B[B.length-1])},-1),s.$values()}),Ie(N,"$tally",function(n){var r=this,s=m;return n&&n!==m&&Ze(n),s=Le(Le(r,"group_by",[],"itself".$to_proc()),"transform_values",[],"count".$to_proc()),Z(n)?(Le(s,"each",[],function($,h){var b;return $==null&&($=m),h==null&&(h=m),b=[$,Fe(n.$fetch($,0),h)],Le(n,"[]=",b),b[b.length-1]}),n):s},-1),Ie(N,"$to_h",function d(n){var r=d.$$p||m,s,i,$=this;if(d.$$p=null,s=ye(arguments),i=s,r!==m)return Le(Le($,"map",[],r.$to_proc()),"to_h",G(i));var h=$e([],{});return $.$each.$$p=function(){var b=De.$destructure(arguments),B=De["$coerce_to?"](b,ae("Array"),"to_ary"),pe,Oe;B.$$is_array||je.$raise(ae("TypeError"),"wrong element type "+B.$class()+" (expected array)"),B.length!==2&&je.$raise(ae("ArgumentError"),"wrong array length (expected 2, was "+B.$length()+")"),pe=B[0],Oe=B[1],o.hash_put(h,pe,Oe)},$.$each.apply($,i),h},-1),Ie(N,"$to_set",function d(n,r){var s=d.$$p||m,i,$,h,b=this;return d.$$p=null,i=ye(arguments),i.length>0&&($=i.shift()),$==null&&($=re("Set")),h=i,Le($,"new",[b].concat(G(h)),s.$to_proc())},-1),Ie(N,"$zip",function d(n){var r=d.$$p||m,s,i,$=this;return d.$$p=null,s=ye(arguments),i=s,Le($.$to_a(),"zip",G(i))},-1),me(N,"find","detect"),me(N,"filter","find_all"),me(N,"flat_map","collect_concat"),me(N,"map","collect"),me(N,"member?","include?"),me(N,"reduce","inject"),me(N,"select","find_all"),me(N,"to_a","entries")}("::",X)};Opal.modules["corelib/enumerator/arithmetic_sequence"]=function(o){var Z=o.klass,Se=o.truthy,Me=o.to_a,he=o.eqeq,Ze=o.Kernel,Re=o.def,Le=o.rb_gt,ye=o.rb_lt,G=o.rb_le,De=o.rb_ge,Pe=o.rb_plus,Ie=o.rb_minus,je=o.eqeqeq,Ge=o.not,Te=o.rb_times,se=o.rb_divide,qe=o.alias,We=[],Fe=o.nil,xe=o.$$$;return o.add_stubs("is_a?,==,raise,respond_to?,class,attr_reader,begin,end,exclude_end?,>,step,<,<=,>=,-@,_lesser_than_end?,<<,+,-,===,%,_greater_than_begin?,reverse,!,include?,*,to_i,abs,/,hash,inspect"),function(fe,_e,$e){var Ee=Z(fe,_e,"Enumerator"),te=[Ee].concat($e);return function(me,X,m){var ae=Z(me,X,"ArithmeticSequence"),q=[ae].concat(m),J=o.$r(q),N=ae.$$prototype;N.step_arg2=N.receiver_num=N.step_arg1=N.step=N.range=N.topfx=N.bypfx=N.creation_method=N.skipped_arg=Fe,o.prop(ae.$$prototype,"$$is_arithmetic_seq",!0);var ze=1/0;return Re(ae,"$initialize",function(D,d,n){var r,s=this,i=Fe;return n==null&&(n="step"),s.creation_method=n,Se(D["$is_a?"](xe("Array")))?(r=[].concat(Me(D)),s.step_arg1=r[0]==null?Fe:r[0],s.step_arg2=r[1]==null?Fe:r[1],s.topfx=r[2]==null?Fe:r[2],s.bypfx=r[3]==null?Fe:r[3],s.receiver_num=d,s.step=1,s.range=Se(s.step_arg2)?(s.step=s.step_arg2,o.Range.$new(s.receiver_num,s.step_arg1,!1)):Se(s.step_arg1)?o.Range.$new(s.receiver_num,s.step_arg1,!1):o.Range.$new(s.receiver_num,Fe,!1)):(Se(d)||(s.skipped_arg=!0),r=[D,Se(i=d)?i:1],s.range=r[0],s.step=r[1]),s.object=s,he(s.step,0)&&Ze.$raise(J("ArgumentError"),"step can't be 0"),Se(s.step["$respond_to?"]("to_int"))?Fe:Ze.$raise(J("ArgumentError"),"no implicit conversion of "+s.step.$class()+" into Integer")},-2),ae.$attr_reader("step"),Re(ae,"$begin",function(){var D=this;return D.range.$begin()}),Re(ae,"$end",function(){var D=this;return D.range.$end()}),Re(ae,"$exclude_end?",function(){var D=this;return D.range["$exclude_end?"]()}),Re(ae,"$_lesser_than_end?",function(D){var d=this,n=Fe,r=Fe;return n=Se(r=d.$end())?r:ze,Se(Le(d.$step(),0))?Se(d["$exclude_end?"]())?ye(D,n):G(D,n):Se(d["$exclude_end?"]())?Le(D,n):De(D,n)}),Re(ae,"$_greater_than_begin?",function(D){var d=this,n=Fe,r=Fe;return n=Se(r=d.$begin())?r:ze["$-@"](),Se(Le(d.$step(),0))?Le(D,n):ye(D,n)}),Re(ae,"$first",function(D){var d=this,n=Fe,r=Fe,s=Fe;if(n=Se(r=d.$begin())?r:ze["$-@"](),!Se(D))return Se(d["$_lesser_than_end?"](n))?n:Fe;for(s=[];Se(Se(r=d["$_lesser_than_end?"](n))?Le(D,0):r);)s["$<<"](n),n=Pe(n,d.$step()),D=Ie(D,1);return s},-1),Re(ae,"$each",function re(){var D=re.$$p||Fe,d=this,n=Fe,r=Fe;if(re.$$p=null,D===Fe)return d;for(je(Fe,n=d.$begin())&&Ze.$raise(J("TypeError"),"nil can't be coerced into Integer"),r=Se(n=d.$begin())?n:ze["$-@"]();Se(d["$_lesser_than_end?"](r));)o.yield1(D,r),r=Pe(r,d.$step());return d}),Re(ae,"$last",function(D){var d=this,n=Fe,r=Fe,s=Fe;if(je(ze,n=d.$end())||je(ze["$-@"](),n)?Ze.$raise(xe("FloatDomainError"),d.$end()):je(Fe,n)&&Ze.$raise(xe("RangeError"),"cannot get the last element of endless arithmetic sequence"),r=Ie(d.$end(),Ie(d.$end(),d.$begin())["$%"](d.$step())),Se(d["$_lesser_than_end?"](r))||(r=Ie(r,d.$step())),!Se(D))return Se(d["$_greater_than_begin?"](r))?r:Fe;for(s=[];Se(Se(n=d["$_greater_than_begin?"](r))?Le(D,0):n);)s["$<<"](r),r=Ie(r,d.$step()),D=Ie(D,1);return s.$reverse()},-1),Re(ae,"$size",function(){var D=this,d=Fe,n=Fe;return d=Se(Le(D.$step(),0))?1:-1,Ge(D["$_lesser_than_end?"](D.$begin()))?0:Se([ze["$-@"](),ze]["$include?"](D.$step()))?1:Se([Te(ze["$-@"](),d),Fe]["$include?"](D.$begin()))||Se([Te(ze,d),Fe]["$include?"](D.$end()))?ze:(n=Ie(D.$end(),Ie(D.$end(),D.$begin())["$%"](D.$step())),Se(D["$_lesser_than_end?"](n))||(n=Ie(n,D.$step())),Pe(se(Ie(n,D.$begin()),D.$step()).$abs().$to_i(),1))}),Re(ae,"$==",function(D){var d=this,n=Fe,r=Fe,s=Fe,i=Fe;return Se(n=Se(r=Se(s=Se(i=d.$class()["$=="](D.$class()))?d.$begin()["$=="](D.$begin()):i)?d.$end()["$=="](D.$end()):s)?d.$step()["$=="](D.$step()):r)?d["$exclude_end?"]()["$=="](D["$exclude_end?"]()):n}),Re(ae,"$hash",function(){var D=this;return[D.$begin(),D.$end(),D.$step(),D["$exclude_end?"]()].$hash()}),Re(ae,"$inspect",function(){var D=this,d=Fe;return Se(D.receiver_num)?(d=Se(D.step_arg2)?"("+D.topfx+D.step_arg1.$inspect()+", "+D.bypfx+D.step_arg2.$inspect()+")":Se(D.step_arg1)?"("+D.topfx+D.step_arg1.$inspect()+")":Fe,"("+D.receiver_num.$inspect()+"."+D.creation_method+d+")"):(d=Se(D.skipped_arg)?Fe:"("+D.step+")","(("+D.range.$inspect()+")."+D.creation_method+d+")")}),qe(ae,"===","=="),qe(ae,"eql?","==")}(Ee,Ee,te)}("::",null,We)};Opal.modules["corelib/enumerator/chain"]=function(o){var Z=o.deny_frozen_access,Se=o.klass,Me=o.slice,he=o.def,Ze=o.send,Re=o.to_a,Le=o.truthy,ye=o.rb_plus,G=o.thrower,De=o.nil,Pe=o.$$$;return o.add_stubs("to_enum,size,each,<<,to_proc,include?,+,reverse_each,respond_to?,rewind,inspect"),function(Ie,je){var Ge=Se(Ie,je,"Enumerator");return function(Te,se){var qe=Se(Te,se,"Chain"),We=qe.$$prototype;return We.enums=We.iterated=De,he(qe,"$initialize",function(xe){var fe,_e,$e=this;return fe=Me(arguments),_e=fe,Z($e),$e.enums=_e,$e.iterated=[],$e.object=$e},-1),he(qe,"$each",function Fe(xe){var fe=Fe.$$p||De,_e,$e,Ee=this;return Fe.$$p=null,_e=Me(arguments),$e=_e,fe===De?Ze(Ee,"to_enum",["each"].concat(Re($e)),function te(){var me=te.$$s==null?this:te.$$s;return me.$size()},{$$s:Ee}):(Ze(Ee.enums,"each",[],function te(me){var X=te.$$s==null?this:te.$$s;return X.iterated==null&&(X.iterated=De),me==null&&(me=De),X.iterated["$<<"](me),Ze(me,"each",Re($e),fe.$to_proc())},{$$s:Ee}),Ee)},-1),he(qe,"$size",function(xe){try{var fe=G("return"),_e,$e,Ee=this,te=De;return _e=Me(arguments),$e=_e,te=0,Ze(Ee.enums,"each",[],function(X){var m=De;return X==null&&(X=De),m=Ze(X,"size",Re($e)),Le([De,Pe(Pe("Float"),"INFINITY")]["$include?"](m))&&fe.$throw(m),te=ye(te,m)},{$$ret:fe}),te}catch(me){if(me===fe)return me.$v;throw me}},-1),he(qe,"$rewind",function(){var xe=this;return Ze(xe.iterated,"reverse_each",[],function(_e){return _e==null&&(_e=De),Le(_e["$respond_to?"]("rewind"))?_e.$rewind():De}),xe.iterated=[],xe}),he(qe,"$inspect",function(){var xe=this;return"#<Enumerator::Chain: "+xe.enums.$inspect()+">"})}(Ge,Ge)}("::",null)};Opal.modules["corelib/enumerator/generator"]=function(o){var Z=o.deny_frozen_access,Se=o.klass,Me=o.truthy,he=o.Kernel,Ze=o.def,Re=o.slice,Le=o.send,ye=[],G=o.nil,De=o.$$$;return o.add_stubs("include,raise,new,to_proc"),function(Pe,Ie,je){var Ge=Se(Pe,Ie,"Enumerator"),Te=[Ge].concat(je);return function(se,qe,We){var Fe=Se(se,qe,"Generator"),xe=[Fe].concat(We),fe=o.$r(xe),_e=Fe.$$prototype;return _e.block=G,Fe.$include(De("Enumerable")),Ze(Fe,"$initialize",function $e(){var Ee=$e.$$p||G,te=this;return $e.$$p=null,Z(te),Me(Ee)||he.$raise(De("LocalJumpError"),"no block given"),te.block=Ee}),Ze(Fe,"$each",function $e(Ee){var te=$e.$$p||G,me,X,m=this,ae=G;$e.$$p=null,me=Re(arguments),X=me,ae=Le(fe("Yielder"),"new",[],te.$to_proc());try{X.unshift(ae),o.yieldX(m.block,X)}catch(q){if(q&&q.$thrower_type=="breaker")return q.$v;throw q}return m},-1)}(Te[0],null,Te)}(ye[0],null,ye)};Opal.modules["corelib/enumerator/lazy"]=function(o){var Z=o.truthy,Se=o.coerce_to,Me=o.yield1,he=o.yieldX,Ze=o.deny_frozen_access,Re=o.klass,Le=o.slice,ye=o.send2,G=o.find_super,De=o.to_a,Pe=o.defs,Ie=o.Kernel,je=o.send,Ge=o.def,Te=o.return_self,se=o.Opal,qe=o.rb_lt,We=o.eqeqeq,Fe=o.rb_plus,xe=o.alias,fe=[],_e=o.nil,$e=o.$$$;return o.add_stubs("raise,each,new,enumerator_size,yield,respond_to?,try_convert,<,===,+,for,class,to_proc,destructure,inspect,to_a,find_all,collect_concat,collect,enum_for"),function(Ee,te,me){var X=Re(Ee,te,"Enumerator"),m=[X].concat(me);return function(ae,q,J){var N=Re(ae,q,"Lazy"),ze=[N].concat(J),re=o.$r(ze),D=N.$$prototype;return D.enumerator=_e,Re(N,$e("Exception"),"StopLazyError"),Pe(N,"$for",function d(n,r){var s,i,$=d.$$p||_e,h=this,b=_e;return d.$$p=null,s=Le(arguments,1),i=s,b=ye(h,G(h,"for",d,!1,!0),"for",[n].concat(De(i)),$),b.enumerator=n,b},-2),Ge(N,"$initialize",function d(n,r){var s=d.$$p||_e,i=this;return d.$$p=null,r==null&&(r=_e),Ze(i),s===_e&&Ie.$raise($e("ArgumentError"),"tried to call lazy new without a block"),i.enumerator=n,ye(i,G(i,"initialize",d,!1,!0),"initialize",[r],function(h,b){var B,pe;h==null&&(h=_e),B=Le(arguments,1),pe=B;try{return je(n,"each",De(pe),function(ot){var lt,pt;lt=Le(arguments),pt=lt,pt.unshift(h),he(s,pt)},-1)}catch(Oe){if(o.rescue(Oe,[re("StopLazyError")]))try{return _e}finally{o.pop_exception()}else throw Oe}},-2)},-2),Ge(N,"$lazy",Te),Ge(N,"$collect",function d(){var n=d.$$p||_e,r=this;return d.$$p=null,Z(n)||Ie.$raise($e("ArgumentError"),"tried to call lazy map without a block"),je(re("Lazy"),"new",[r,r.$enumerator_size()],function(i,$){var h,b;i==null&&(i=_e),h=Le(arguments,1),b=h;var B=he(n,b);i.$yield(B)},-2)}),Ge(N,"$collect_concat",function d(){var n=d.$$p||_e,r=this;return d.$$p=null,Z(n)||Ie.$raise($e("ArgumentError"),"tried to call lazy map without a block"),je(re("Lazy"),"new",[r,_e],function(i,$){var h,b;i==null&&(i=_e),h=Le(arguments,1),b=h;var B=he(n,b);if(B["$respond_to?"]("force")&&B["$respond_to?"]("each"))je(B,"each",[],function(ot){return ot==null&&(ot=_e),i.$yield(ot)});else{var pe=se.$try_convert(B,$e("Array"),"to_ary");pe===_e?i.$yield(B):je(B,"each",[],function(ot){return ot==null&&(ot=_e),i.$yield(ot)})}},-2)}),Ge(N,"$drop",function(n){var r=this,s=_e,i=_e,$=_e;return n=Se(n,$e("Integer"),"to_int"),Z(qe(n,0))&&Ie.$raise($e("ArgumentError"),"attempt to drop negative size"),s=r.$enumerator_size(),i=We($e("Integer"),s)&&Z(qe(n,s))?n:s,$=0,je(re("Lazy"),"new",[r,i],function(b,B){var pe,Oe;return b==null&&(b=_e),pe=Le(arguments,1),Oe=pe,Z(qe($,n))?$=Fe($,1):je(b,"yield",De(Oe))},-2)}),Ge(N,"$drop_while",function d(){var n=d.$$p||_e,r=this,s=_e;return d.$$p=null,Z(n)||Ie.$raise($e("ArgumentError"),"tried to call lazy drop_while without a block"),s=!0,je(re("Lazy"),"new",[r,_e],function($,h){var b,B;if($==null&&($=_e),b=Le(arguments,1),B=b,Z(s)){var pe=he(n,B);Z(pe)||(s=!1,je($,"yield",De(B)))}else return je($,"yield",De(B))},-2)}),Ge(N,"$enum_for",function d(n,r){var s=d.$$p||_e,i,$,h,b=this;return d.$$p=null,i=Le(arguments),i.length>0&&($=i.shift()),$==null&&($="each"),h=i,je(b.$class(),"for",[b,$].concat(De(h)),s.$to_proc())},-1),Ge(N,"$find_all",function d(){var n=d.$$p||_e,r=this;return d.$$p=null,Z(n)||Ie.$raise($e("ArgumentError"),"tried to call lazy select without a block"),je(re("Lazy"),"new",[r,_e],function(i,$){var h,b;i==null&&(i=_e),h=Le(arguments,1),b=h;var B=he(n,b);Z(B)&&je(i,"yield",De(b))},-2)}),Ge(N,"$grep",function d(n){var r=d.$$p||_e,s=this;return d.$$p=null,Z(r)?je(re("Lazy"),"new",[s,_e],function($,h){var b,B;$==null&&($=_e),b=Le(arguments,1),B=b;var pe=se.$destructure(B),Oe=n["$==="](pe);Z(Oe)&&(Oe=Me(r,pe),$.$yield(Me(r,pe)))},-2):je(re("Lazy"),"new",[s,_e],function($,h){var b,B;$==null&&($=_e),b=Le(arguments,1),B=b;var pe=se.$destructure(B),Oe=n["$==="](pe);Z(Oe)&&$.$yield(pe)},-2)}),Ge(N,"$reject",function d(){var n=d.$$p||_e,r=this;return d.$$p=null,Z(n)||Ie.$raise($e("ArgumentError"),"tried to call lazy reject without a block"),je(re("Lazy"),"new",[r,_e],function(i,$){var h,b;i==null&&(i=_e),h=Le(arguments,1),b=h;var B=he(n,b);Z(B)||je(i,"yield",De(b))},-2)}),Ge(N,"$take",function(n){var r=this,s=_e,i=_e,$=_e;return n=Se(n,$e("Integer"),"to_int"),Z(qe(n,0))&&Ie.$raise($e("ArgumentError"),"attempt to take negative size"),s=r.$enumerator_size(),i=We($e("Integer"),s)&&Z(qe(n,s))?n:s,$=0,je(re("Lazy"),"new",[r,i],function(b,B){var pe,Oe;return b==null&&(b=_e),pe=Le(arguments,1),Oe=pe,Z(qe($,n))?(je(b,"yield",De(Oe)),$=Fe($,1)):Ie.$raise(re("StopLazyError"))},-2)}),Ge(N,"$take_while",function d(){var n=d.$$p||_e,r=this;return d.$$p=null,Z(n)||Ie.$raise($e("ArgumentError"),"tried to call lazy take_while without a block"),je(re("Lazy"),"new",[r,_e],function(i,$){var h,b;i==null&&(i=_e),h=Le(arguments,1),b=h;var B=he(n,b);Z(B)?je(i,"yield",De(b)):Ie.$raise(re("StopLazyError"))},-2)}),Ge(N,"$inspect",function(){var n=this;return"#<"+n.$class()+": "+n.enumerator.$inspect()+">"}),xe(N,"force","to_a"),xe(N,"filter","find_all"),xe(N,"flat_map","collect_concat"),xe(N,"map","collect"),xe(N,"select","find_all"),xe(N,"to_enum","enum_for")}(X,X,m)}("::",null,fe)};Opal.modules["corelib/enumerator/yielder"]=function(o){var Z=o.klass,Se=o.def,Me=o.slice,he=o.send,Ze=o.to_a,Re=[],Le=o.nil;return o.add_stubs("yield,proc"),function(ye,G,De){var Pe=Z(ye,G,"Enumerator"),Ie=[Pe].concat(De);return function(je,Ge){var Te=Z(je,Ge,"Yielder"),se=Te.$$prototype;return se.block=Le,Se(Te,"$initialize",function qe(){var We=qe.$$p||Le,Fe=this;return qe.$$p=null,Fe.block=We,Fe}),Se(Te,"$yield",function(We){var Fe,xe,fe=this;Fe=Me(arguments),xe=Fe;var _e=o.yieldX(fe.block,xe);if(_e&&_e.$thrower_type=="break")throw _e;return _e},-1),Se(Te,"$<<",function(We){var Fe=this;return Fe.$yield(We),Fe}),Se(Te,"$to_proc",function(){var We=this;return he(We,"proc",[],function Fe(xe){var fe,_e,$e=Fe.$$s==null?this:Fe.$$s;return fe=Me(arguments),_e=fe,he($e,"yield",Ze(_e))},{$$arity:-1,$$s:We})})}(Ie[0],null)}(Re[0],null,Re)};Opal.modules["corelib/enumerator"]=function(o){var Z=o.slice,Se=o.coerce_to,Me=o.deny_frozen_access,he=o.klass,Ze=o.defs,Re=o.truthy,Le=o.send,ye=o.not,G=o.def,De=o.rb_plus,Pe=o.to_a,Ie=o.Opal,je=o.send2,Ge=o.find_super,Te=o.rb_ge,se=o.Kernel,qe=o.rb_le,We=o.alias,Fe=o.top,xe=[],fe=o.nil,_e=o.$$$;return o.add_stubs("require,include,allocate,new,to_proc,!,respond_to?,empty?,nil?,+,class,__send__,call,enum_for,size,destructure,map,>=,length,raise,[],peek_values,<=,next_values,inspect,any?,each_with_object,autoload"),Fe.$require("corelib/enumerable"),function($e,Ee,te){var me=he($e,Ee,"Enumerator"),X=[me].concat(te),m=o.$r(X),ae=me.$$prototype;return ae.size=ae.args=ae.object=ae.method=ae.values=ae.cursor=fe,me.$include(_e("Enumerable")),me.$$prototype.$$is_enumerator=!0,Ze(me,"$for",function q(J,N,ze){var re=q.$$p||fe,D,d,n,r=this;q.$$p=null,D=Z(arguments,1),D.length>0&&(d=D.shift()),d==null&&(d="each"),n=D;var s=r.$allocate();return s.object=J,s.size=re,s.method=d,s.args=n,s.cursor=0,s},-2),G(me,"$initialize",function q(J){var N=q.$$p||fe,ze,re,D=this;return q.$$p=null,ze=Z(arguments),re=ze,Me(D),D.cursor=0,Re(N)?(D.object=Le(m("Generator"),"new",[],N.$to_proc()),D.method="each",D.args=[],D.size=arguments[0]||fe,Re(D.size)&&ye(D.size["$respond_to?"]("call"))?D.size=Se(D.size,_e("Integer"),"to_int"):fe):(D.object=arguments[0],D.method=arguments[1]||"each",D.args=Z(arguments,2),D.size=fe)},-1),G(me,"$each",function q(J){var N=q.$$p||fe,ze,re,D=this;return q.$$p=null,ze=Z(arguments),re=ze,Re(N["$nil?"]())&&Re(re["$empty?"]())?D:(re=De(D.args,re),Re(N["$nil?"]())?Le(D.$class(),"new",[D.object,D.method].concat(Pe(re))):Le(D.object,"__send__",[D.method].concat(Pe(re)),N.$to_proc()))},-1),G(me,"$size",function(){var J=this;return Re(J.size["$respond_to?"]("call"))?Le(J.size,"call",Pe(J.args)):J.size}),G(me,"$with_index",function q(J){var N=q.$$p||fe,ze=this;if(q.$$p=null,J==null&&(J=0),J=Re(J)?Se(J,_e("Integer"),"to_int"):0,!Re(N))return Le(ze,"enum_for",["with_index",J],function d(){var n=d.$$s==null?this:d.$$s;return n.$size()},{$$s:ze});var re,D=J;return ze.$each.$$p=function(){var d=Ie.$destructure(arguments),n=N(d,D);return D++,n},ze.$each()},-1),G(me,"$each_with_index",function q(){var J=q.$$p||fe,N=this;return q.$$p=null,J===fe?Le(N,"enum_for",["each_with_index"],function ze(){var re=ze.$$s==null?this:ze.$$s;return re.$size()},{$$s:N}):(je(N,Ge(N,"each_with_index",q,!1,!0),"each_with_index",[],J),N.object)}),G(me,"$rewind",function(){var J=this;return J.cursor=0,J}),G(me,"$peek_values",function(){var J=this,N=fe;return J.values=Re(N=J.values)?N:Le(J,"map",[],function(re){var D,d;return D=Z(arguments),d=D,d},-1),Re(Te(J.cursor,J.values.$length()))&&se.$raise(_e("StopIteration"),"iteration reached an end"),J.values["$[]"](J.cursor)}),G(me,"$peek",function(){var J=this,N=fe;return N=J.$peek_values(),Re(qe(N.$length(),1))?N["$[]"](0):N}),G(me,"$next_values",function(){var J=this,N=fe;return N=J.$peek_values(),J.cursor=De(J.cursor,1),N}),G(me,"$next",function(){var J=this,N=fe;return N=J.$next_values(),Re(qe(N.$length(),1))?N["$[]"](0):N}),G(me,"$feed",function(J){var N=this;return N.$raise(m("NotImplementedError"),"Opal doesn't support Enumerator#feed")}),G(me,"$+",function(J){var N=this;return _e(_e("Enumerator"),"Chain").$new(N,J)}),G(me,"$inspect",function(){var J=this,N=fe;return N="#<"+J.$class()+": "+J.object.$inspect()+":"+J.method,Re(J.args["$any?"]())&&(N=De(N,"("+J.args.$inspect()["$[]"](_e("Range").$new(1,-2))+")")),De(N,">")}),We(me,"with_object","each_with_object"),me.$autoload("ArithmeticSequence","corelib/enumerator/arithmetic_sequence"),me.$autoload("Chain","corelib/enumerator/chain"),me.$autoload("Generator","corelib/enumerator/generator"),me.$autoload("Lazy","corelib/enumerator/lazy"),me.$autoload("Yielder","corelib/enumerator/yielder")}("::",null,xe)};Opal.modules["corelib/numeric"]=function(o){var Z=o.klass,Se=o.truthy,Me=o.Kernel,he=o.def,Ze=o.to_ary,Re=o.return_self,Le=o.rb_minus,ye=o.rb_times,G=o.rb_lt,De=o.eqeq,Pe=o.rb_divide,Ie=o.return_val,je=o.Opal,Ge=o.slice,Te=o.extract_kwargs,se=o.ensure_kwargs,qe=o.not,We=o.send,Fe=o.rb_ge,xe=o.rb_le,fe=o.rb_plus,_e=o.rb_gt,$e=o.alias,Ee=o.top,te=o.nil,me=o.$$$;return o.add_stubs("require,include,instance_of?,class,Float,respond_to?,coerce,__send__,raise,equal?,-,*,div,<,-@,ceil,to_f,denominator,to_r,==,floor,/,%,Complex,zero?,numerator,abs,arg,coerce_to!,round,<=>,compare,is_a?,!,new,enum_for,to_proc,negative?,>=,<=,+,to_i,truncate,>,angle,conj,imag,rect"),Ee.$require("corelib/comparable"),function(X,m){var ae=Z(X,m,"Numeric");return ae.$include(me("Comparable")),he(ae,"$coerce",function(J){var N=this;return Se(J["$instance_of?"](N.$class()))?[J,N]:[Me.$Float(J),Me.$Float(N)]}),he(ae,"$__coerced__",function(J,N){var ze,re,D=this,d=te,n=te;if(Se(N["$respond_to?"]("coerce")))return re=N.$coerce(D),ze=Ze(re),d=ze[0]==null?te:ze[0],n=ze[1]==null?te:ze[1],d.$__send__(J,n);switch(J){case"+":case"-":case"*":case"/":case"%":case"&":case"|":case"^":case"**":return Me.$raise(me("TypeError"),""+N.$class()+" can't be coerced into Numeric");case">":case">=":case"<":case"<=":case"<=>":return Me.$raise(me("ArgumentError"),"comparison of "+D.$class()+" with "+N.$class()+" failed");default:return te}}),he(ae,"$<=>",function(J){var N=this;return Se(N["$equal?"](J))?0:te}),he(ae,"$+@",Re),he(ae,"$-@",function(){var J=this;return Le(0,J)}),he(ae,"$%",function(J){var N=this;return Le(N,ye(J,N.$div(J)))}),he(ae,"$abs",function(){var J=this;return G(J,0)?J["$-@"]():J}),he(ae,"$abs2",function(){var J=this;return ye(J,J)}),he(ae,"$angle",function(){var J=this;return G(J,0)?me(me("Math"),"PI"):0}),he(ae,"$ceil",function(J){var N=this;return J==null&&(J=0),N.$to_f().$ceil(J)},-1),he(ae,"$conj",Re),he(ae,"$denominator",function(){var J=this;return J.$to_r().$denominator()}),he(ae,"$div",function(J){var N=this;return De(J,0)&&Me.$raise(me("ZeroDivisionError"),"divided by o"),Pe(N,J).$floor()}),he(ae,"$divmod",function(J){var N=this;return[N.$div(J),N["$%"](J)]}),he(ae,"$fdiv",function(J){var N=this;return Pe(N.$to_f(),J)}),he(ae,"$floor",function(J){var N=this;return J==null&&(J=0),N.$to_f().$floor(J)},-1),he(ae,"$i",function(){var J=this;return Me.$Complex(0,J)}),he(ae,"$imag",Ie(0)),he(ae,"$integer?",Ie(!1)),he(ae,"$nonzero?",function(){var J=this;return Se(J["$zero?"]())?te:J}),he(ae,"$numerator",function(){var J=this;return J.$to_r().$numerator()}),he(ae,"$polar",function(){var J=this;return[J.$abs(),J.$arg()]}),he(ae,"$quo",function(J){var N=this;return Pe(je["$coerce_to!"](N,me("Rational"),"to_r"),J)}),he(ae,"$real",Re),he(ae,"$real?",Ie(!0)),he(ae,"$rect",function(){var J=this;return[J,0]}),he(ae,"$round",function(J){var N=this;return N.$to_f().$round(J)},-1),he(ae,"$step",function q(J,N,ze){var re=q.$$p||te,D,d,n,r,s,i,$=this,h=te;q.$$p=null,D=Ge(arguments),d=Te(D),d=se(d),D.length>0&&(n=D.shift()),D.length>0&&(r=D.shift()),s=d.$$smap.to,i=d.$$smap.by,n!==void 0&&s!==void 0&&Me.$raise(me("ArgumentError"),"to is given twice"),r!==void 0&&i!==void 0&&Me.$raise(me("ArgumentError"),"step is given twice"),s!==void 0&&(n=s),i!==void 0&&(r=i),n===void 0&&(n=te);function b(){r===te&&Me.$raise(me("TypeError"),"step must be numeric"),r!=null&&r["$=="](0)&&Me.$raise(me("ArgumentError"),"step can't be 0"),(r===te||r==null)&&(r=1);var vt=r["$<=>"](0);vt===te&&Me.$raise(me("ArgumentError"),"0 can't be coerced into "+r.$class()),(n===te||n==null)&&(n=vt>0?me(me("Float"),"INFINITY"):me(me("Float"),"INFINITY")["$-@"]()),je.$compare($,n)}function B(){if(r>0&&$>n||r<0&&$<n)return 0;if(r===1/0||r===-1/0)return 1;var vt=Math.abs,gt=Math.floor,tt=(vt($)+vt(n)+vt(n-$))/vt(r)*me(me("Float"),"EPSILON");return tt===1/0||tt===-1/0?0:(tt>.5&&(tt=.5),gt((n-$)/r+tt)+1)}function pe(){if(b(),r===0)return 1/0;if(r%1!==0)return B();if(r>0&&$>n||r<0&&$<n)return 0;var vt=Math.ceil,gt=Math.abs,tt=gt($-n)+1,le=gt(r);return vt(tt/le)}if(re===te)return(qe(n)||Se(n["$is_a?"](me("Numeric"))))&&(qe(r)||Se(r["$is_a?"](me("Numeric"))))?me(me("Enumerator"),"ArithmeticSequence").$new([n,r,Se(s)?"to: ":te,Se(i)?"by: ":te],$):We($,"enum_for",["step",n,r],pe.$to_proc());b();var Oe=r["$negative?"](),ot=r["$=="](0)||n===1/0&&!Oe||n===-1/0&&Oe;if($.$$is_number&&r.$$is_number&&n.$$is_number)if($%1===0&&(ot||n%1===0)&&r%1===0){var lt=$;if(ot)for(;;lt+=r)re(lt);else if(Oe)for(;lt>=n;lt+=r)re(lt);else for(;lt<=n;lt+=r)re(lt);return $}else{var pt=$.$to_f().valueOf();r=r.$to_f().valueOf(),n=n.$to_f().valueOf();var dt=B();if(!isFinite(r))dt!==0&&re(pt);else if(r===0)for(;;)re(pt);else for(var bt=0;bt<dt;bt++){var ht=bt*r+$;(r>=0?n<ht:n>ht)&&(ht=n),re(ht)}return $}for(h=$;Se(Oe?Fe(h,n):xe(h,n));)o.yield1(re,h),h=fe(h,r)},-1),he(ae,"$to_c",function(){var J=this;return Me.$Complex(J,0)}),he(ae,"$to_int",function(){var J=this;return J.$to_i()}),he(ae,"$truncate",function(J){var N=this;return J==null&&(J=0),N.$to_f().$truncate(J)},-1),he(ae,"$zero?",function(){var J=this;return J["$=="](0)}),he(ae,"$positive?",function(){var J=this;return _e(J,0)}),he(ae,"$negative?",function(){var J=this;return G(J,0)}),he(ae,"$dup",Re),he(ae,"$clone",function(J){var N,ze=this;return J=se(J),N=J.$$smap.freeze,N==null&&(N=!0),ze},-1),he(ae,"$finite?",Ie(!0)),he(ae,"$infinite?",Ie(te)),$e(ae,"arg","angle"),$e(ae,"conjugate","conj"),$e(ae,"imaginary","imag"),$e(ae,"magnitude","abs"),$e(ae,"modulo","%"),$e(ae,"phase","arg"),$e(ae,"rectangular","rect")}("::",null)};Opal.modules["corelib/array"]=function(o){var Z=o.truthy,Se=o.falsy,Me=o.hash_ids,he=o.yield1,Ze=o.hash_get,Re=o.hash_put,Le=o.hash_delete,ye=o.coerce_to,G=o.respond_to,De=o.deny_frozen_access,Pe=o.freeze,Ie=o.klass,je=o.slice,Ge=o.defs,Te=o.Kernel,se=o.def,qe=o.Opal,We=o.eqeqeq,Fe=o.hash2,xe=o.send2,fe=o.find_super,_e=o.send,$e=o.rb_gt,Ee=o.rb_times,te=o.eqeq,me=o.rb_minus,X=o.to_a,m=o.to_ary,ae=o.gvars,q=o.rb_ge,J=o.assign_ivar,N=o.rb_lt,ze=o.return_self,re=o.neqeq,D=o.alias,d=o.top,n=[],r=o.nil,s=o.$$$;return o.add_stubs("require,include,to_a,warn,raise,replace,respond_to?,to_ary,coerce_to?,===,join,to_str,hash,<=>,==,object_id,inspect,enum_for,class,bsearch_index,to_proc,nil?,coerce_to!,>,*,enumerator_size,empty?,size,map,equal?,dup,each,reduce,-,[],dig,eql?,length,exclude_end?,flatten,frozen?,__id__,&,!,intersection,to_s,new,item,max,min,>=,**,delete_if,reverse,rotate,rand,at,keep_if,shuffle!,<,sort,sort_by,!=,times,[]=,<<,uniq,|,values,is_a?,end,begin,upto,reject,push,select,select!,collect,collect!,unshift,pristine,singleton_class"),d.$require("corelib/enumerable"),d.$require("corelib/numeric"),function(i,$,h){var b=Ie(i,$,"Array"),B=[b].concat(h),pe=o.$r(B);b.$include(s("Enumerable")),o.prop(b.$$prototype,"$$is_array",!0);function Oe(tt){for(var le=tt[0],be=1,Ne=tt.length;be<Ne;be++)tt[be-1]=tt[be];return tt.pop(),le}function ot(tt,le){return le.$$name===o.Array?tt:le.$allocate().$replace(tt.$to_a())}function lt(tt,le,be){for(var Ne,f=null,k=new Array(tt.length),V=0,de=0,Be=tt.length;V<Be;V++){if(!f)try{Ne=he(be,tt[V])}catch($t){f=$t}(f||le(Ne))&&(k[de]=tt[V],de+=1)}if(de!==V&&(tt.splice.apply(tt,[0,k.length].concat(k)),tt.splice(de,k.length)),f)throw f}Ge(b,"$[]",function(le){var be,Ne,f=this;return be=je(arguments),Ne=be,ot(Ne,f)},-1),se(b,"$initialize",function tt(le,be){var Ne=tt.$$p||r,f=this;if(tt.$$p=null,le==null&&(le=r),be==null&&(be=r),De(f),be!==r&&Ne!==r&&Te.$warn("warning: block supersedes default value argument"),le>s(s("Integer"),"MAX")&&Te.$raise(s("ArgumentError"),"array size too big"),arguments.length>2&&Te.$raise(s("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),arguments.length===0)return f.splice(0,f.length),f;if(arguments.length===1){if(le.$$is_array)return f.$replace(le.$to_a()),f;if(le["$respond_to?"]("to_ary"))return f.$replace(le.$to_ary()),f}le=ye(le,s("Integer"),"to_int"),le<0&&Te.$raise(s("ArgumentError"),"negative array size"),f.splice(0,f.length);var k,V;if(Ne===r)for(k=0;k<le;k++)f.push(be);else for(k=0,V;k<le;k++)V=Ne(k),f[k]=V;return f},-1),Ge(b,"$try_convert",function(le){return qe["$coerce_to?"](le,s("Array"),"to_ary")}),se(b,"$&",function(le){var be=this;le=We(s("Array"),le)?le.$to_a():ye(le,s("Array"),"to_ary").$to_a();var Ne=[],f=Fe([],{}),k,V,de;for(k=0,V=le.length;k<V;k++)Re(f,le[k],!0);for(k=0,V=be.length;k<V;k++)de=be[k],Le(f,de)!==void 0&&Ne.push(de);return Ne}),se(b,"$|",function(le){var be=this;le=We(s("Array"),le)?le.$to_a():ye(le,s("Array"),"to_ary").$to_a();var Ne=Fe([],{}),f,k,V;for(f=0,k=be.length;f<k;f++)Re(Ne,be[f],!0);for(f=0,k=le.length;f<k;f++)Re(Ne,le[f],!0);return Ne.$keys()}),se(b,"$*",function(le){var be=this;if(Z(le["$respond_to?"]("to_str")))return be.$join(le.$to_str());le=ye(le,s("Integer"),"to_int"),Z(le<0)&&Te.$raise(s("ArgumentError"),"negative argument");for(var Ne=[],f=be.$to_a(),k=0;k<le;k++)Ne=Ne.concat(f);return Ne}),se(b,"$+",function(le){var be=this;return le=We(s("Array"),le)?le.$to_a():ye(le,s("Array"),"to_ary").$to_a(),be.concat(le)}),se(b,"$-",function(le){var be=this;if(le=We(s("Array"),le)?le.$to_a():ye(le,s("Array"),"to_ary").$to_a(),Z(be.length===0))return[];if(Z(le.length===0))return be.slice();var Ne=[],f=Fe([],{}),k,V,de;for(k=0,V=le.length;k<V;k++)Re(f,le[k],!0);for(k=0,V=be.length;k<V;k++)de=be[k],Ze(f,de)===void 0&&Ne.push(de);return Ne}),se(b,"$<<",function(le){var be=this;return De(be),be.push(le),be}),se(b,"$<=>",function(le){var be=this;if(We(s("Array"),le))le=le.$to_a();else if(Z(le["$respond_to?"]("to_ary")))le=le.$to_ary().$to_a();else return r;if(be.$hash()===le.$hash())return 0;for(var Ne=Math.min(be.length,le.length),f=0;f<Ne;f++){var k=be[f]["$<=>"](le[f]);if(k!==0)return k}return be.length["$<=>"](le.length)}),se(b,"$==",function(le){var be=this,Ne={};function f(k,V){var de,Be,$t,e;if(k===V)return!0;if(!V.$$is_array)return G(V,"$to_ary")?V["$=="](k):!1;if(k.$$constructor!==Array&&(k=k.$to_a()),V.$$constructor!==Array&&(V=V.$to_a()),k.length!==V.length)return!1;for(Ne[k.$object_id()]=!0,de=0,Be=k.length;de<Be;de++)if($t=k[de],e=V[de],$t.$$is_array){if(e.$$is_array&&e.length!==$t.length||!Ne.hasOwnProperty($t.$object_id())&&!f($t,e))return!1}else if(!$t["$=="](e))return!1;return!0}return f(be,le)});function pt(tt,le){var be=tt.length,Ne,f,k,V;return Ne=le.excl,f=le.begin===r?0:ye(le.begin,o.Integer,"to_int"),k=le.end===r?-1:ye(le.end,o.Integer,"to_int"),f<0&&(f+=be,f<0)||(le.excl_rev&&le.begin!==r&&(f+=1),f>be)?r:k<0&&(k+=be,k<0)?[]:((!Ne||le.end===r)&&(k+=1),V=tt.slice(f,k),V)}function dt(tt,le){var be,Ne=[],f=0,k;for(le.step<0?(k={begin:le.range.end,end:le.range.begin,excl:!1,excl_rev:le.range.excl},be=pt(tt,k).$reverse()):be=pt(tt,le.range);f<be.length;)Ne.push(be[f]),f+=Math.abs(le.step);return Ne}function bt(tt,le,be){var Ne=tt.length,f,k,V,de;return le=ye(le,o.Integer,"to_int"),le<0&&(le+=Ne,le<0)?r:be===void 0?le>=Ne||le<0?r:tt[le]:(be=ye(be,o.Integer,"to_int"),be<0||le>Ne||le<0?r:(de=tt.slice(le,le+be),de))}se(b,"$[]",function(le,be){var Ne=this;return le.$$is_range?pt(Ne,le):le.$$is_arithmetic_seq?dt(Ne,le):bt(Ne,le,be)},-2),se(b,"$[]=",function(le,be,Ne){var f=this,k=r,V=r;De(f),k=r;var de,Be=f.length;if(le.$$is_range){be.$$is_array?k=be.$to_a():be["$respond_to?"]("to_ary")?k=be.$to_ary().$to_a():k=[be];var $t=le.excl,e=le.begin===r?0:ye(le.begin,o.Integer,"to_int"),H=le.end===r?-1:ye(le.end,o.Integer,"to_int");if(e<0&&(e+=Be,e<0&&Te.$raise(s("RangeError"),""+le.$inspect()+" out of range")),H<0&&(H+=Be),(!$t||le.end===r)&&(H+=1),e>Be)for(de=Be;de<e;de++)f[de]=r;return H<0?f.splice.apply(f,[e,0].concat(k)):f.splice.apply(f,[e,H-e].concat(k)),be}else{Ne===void 0?V=1:(V=be,be=Ne,be.$$is_array?k=be.$to_a():be["$respond_to?"]("to_ary")?k=be.$to_ary().$to_a():k=[be]);var P;if(le=ye(le,s("Integer"),"to_int"),V=ye(V,s("Integer"),"to_int"),le<0&&(P=le,le+=Be,le<0&&Te.$raise(s("IndexError"),"index "+P+" too small for array; minimum "+-f.length)),V<0&&Te.$raise(s("IndexError"),"negative length ("+V+")"),le>Be)for(de=Be;de<le;de++)f[de]=r;return Ne===void 0?f[le]=be:f.splice.apply(f,[le,V].concat(k)),be}},-3),se(b,"$any?",function tt(le){var be=tt.$$p||r,Ne=this;return tt.$$p=null,Ne.length===0?!1:xe(Ne,fe(Ne,"any?",tt,!1,!0),"any?",[le],be)},-1),se(b,"$assoc",function(le){for(var be=this,Ne=0,f=be.length,k;Ne<f;Ne++)if(k=be[Ne],k.length&&k[0]["$=="](le))return k;return r}),se(b,"$at",function(le){var be=this;return le=ye(le,s("Integer"),"to_int"),le<0&&(le+=be.length),le<0||le>=be.length?r:be[le]}),se(b,"$bsearch_index",function tt(){var le=tt.$$p||r,be=this;if(tt.$$p=null,le===r)return be.$enum_for("bsearch_index");for(var Ne=0,f=be.length,k,V,de,Be=!1,$t=r;Ne<f;){if(k=Ne+Math.floor((f-Ne)/2),V=be[k],de=he(le,V),de===!0)$t=k,Be=!0;else if(de===!1||de===r)Be=!1;else if(de.$$is_number){if(de===0)return k;Be=de<0}else Te.$raise(s("TypeError"),"wrong argument type "+de.$class()+" (must be numeric, true, false or nil)");Be?f=k:Ne=k+1}return $t}),se(b,"$bsearch",function tt(){var le=tt.$$p||r,be=this,Ne=r;return tt.$$p=null,le===r?be.$enum_for("bsearch"):(Ne=_e(be,"bsearch_index",[],le.$to_proc()),Ne!=null&&Ne.$$is_number?be[Ne]:Ne)}),se(b,"$cycle",function tt(le){var be=tt.$$p||r,Ne=this;if(tt.$$p=null,le==null&&(le=r),be===r)return _e(Ne,"enum_for",["cycle",le],function de(){var Be=de.$$s==null?this:de.$$s;return Z(le["$nil?"]())?s(s("Float"),"INFINITY"):(le=qe["$coerce_to!"](le,s("Integer"),"to_int"),Z($e(le,0))?Ee(Be.$enumerator_size(),le):0)},{$$s:Ne});if(Z(Ne["$empty?"]())||te(le,0))return r;var f,k,V;if(le===r)for(;;)for(f=0,k=Ne.length;f<k;f++)V=he(be,Ne[f]);else{if(le=qe["$coerce_to!"](le,s("Integer"),"to_int"),le<=0)return Ne;for(;le>0;){for(f=0,k=Ne.length;f<k;f++)V=he(be,Ne[f]);le--}}return Ne},-1),se(b,"$clear",function(){var le=this;return De(le),le.splice(0,le.length),le}),se(b,"$count",function tt(le){var be=tt.$$p||r,Ne=this;return tt.$$p=null,Z(le!==void 0)||Z(be)?xe(Ne,fe(Ne,"count",tt,!1,!0),"count",[le],be):Ne.$size()},-1),se(b,"$initialize_copy",function(le){var be=this;return be.$replace(le)}),se(b,"$collect",function tt(){var le=tt.$$p||r,be=this;if(tt.$$p=null,le===r)return _e(be,"enum_for",["collect"],function de(){var Be=de.$$s==null?this:de.$$s;return Be.$size()},{$$s:be});for(var Ne=[],f=0,k=be.length;f<k;f++){var V=he(le,be[f]);Ne.push(V)}return Ne}),se(b,"$collect!",function tt(){var le=tt.$$p||r,be=this;if(tt.$$p=null,le===r)return _e(be,"enum_for",["collect!"],function V(){var de=V.$$s==null?this:V.$$s;return de.$size()},{$$s:be});De(be);for(var Ne=0,f=be.length;Ne<f;Ne++){var k=he(le,be[Ne]);be[Ne]=k}return be});function ht(tt,le){return tt===le||le===0?1:le>0&&tt>le?ht(tt-1,le-1)+ht(tt-1,le):0}se(b,"$combination",function tt(le){var be=tt.$$p||r,Ne=this,f=r;if(tt.$$p=null,f=qe["$coerce_to!"](le,s("Integer"),"to_int"),be===r)return _e(Ne,"enum_for",["combination",f],function P(){var C=P.$$s==null?this:P.$$s;return ht(C.length,f)},{$$s:Ne});var k,V,de,Be,$t,e,H;if(f===0)o.yield1(be,[]);else if(f===1)for(k=0,V=Ne.length;k<V;k++)o.yield1(be,[Ne[k]]);else if(f===Ne.length)o.yield1(be,Ne.slice());else if(f>=0&&f<Ne.length){for(de=[],k=0;k<=f+1;k++)de.push(0);for(Be=[],$t=0,e=!1,de[0]=-1;!e;){for(Be[$t]=Ne[de[$t+1]];$t<f-1;)$t++,H=de[$t+1]=de[$t]+1,Be[$t]=Ne[H];o.yield1(be,Be.slice()),$t++;do e=$t===0,de[$t]++,$t--;while(de[$t+1]+f===Ne.length+$t+1)}}return Ne}),se(b,"$repeated_combination",function tt(le){var be=tt.$$p||r,Ne=this,f=r;if(tt.$$p=null,f=qe["$coerce_to!"](le,s("Integer"),"to_int"),be===r)return _e(Ne,"enum_for",["repeated_combination",f],function V(){var de=V.$$s==null?this:V.$$s;return ht(de.length+f-1,f)},{$$s:Ne});function k(V,de,Be,$t){if(Be.length==V){var e=Be.slice();o.yield1(be,e);return}for(var H=de;H<$t.length;H++)Be.push($t[H]),k(V,H,Be,$t),Be.pop()}return f>=0&&k(f,0,[],Ne),Ne}),se(b,"$compact",function(){for(var le=this,be=[],Ne=0,f=le.length,k;Ne<f;Ne++)(k=le[Ne])!==r&&be.push(k);return be}),se(b,"$compact!",function(){var le=this;De(le);for(var be=le.length,Ne=0,f=le.length;Ne<f;Ne++)le[Ne]===r&&(le.splice(Ne,1),f--,Ne--);return le.length===be?r:le}),se(b,"$concat",function(le){var be,Ne,f=this;return be=je(arguments),Ne=be,De(f),Ne=_e(Ne,"map",[],function k(V){var de=k.$$s==null?this:k.$$s;return V==null&&(V=r),V=We(s("Array"),V)?V.$to_a():ye(V,s("Array"),"to_ary").$to_a(),Z(V["$equal?"](de))&&(V=V.$dup()),V},{$$s:f}),_e(Ne,"each",[],function k(V){var de=k.$$s==null?this:k.$$s;V==null&&(V=r);for(var Be=0,$t=V.length;Be<$t;Be++)de.push(V[Be])},{$$s:f}),f},-1),se(b,"$delete",function tt(le){var be=tt.$$p||r,Ne=this;tt.$$p=null;for(var f=Ne.length,k=0,V=f;k<V;k++)Ne[k]["$=="](le)&&(De(Ne),Ne.splice(k,1),V--,k--);return Ne.length===f?be!==r?o.yieldX(be,[]):r:le}),se(b,"$delete_at",function(le){var be=this;if(De(be),le=ye(le,s("Integer"),"to_int"),le<0&&(le+=be.length),le<0||le>=be.length)return r;var Ne=be[le];return be.splice(le,1),Ne}),se(b,"$delete_if",function tt(){var le=tt.$$p||r,be=this;return tt.$$p=null,le===r?_e(be,"enum_for",["delete_if"],function Ne(){var f=Ne.$$s==null?this:Ne.$$s;return f.$size()},{$$s:be}):(De(be),lt(be,Se,le),be)}),se(b,"$difference",function(le){var be,Ne,f=this;return be=je(arguments),Ne=be,_e(Ne,"reduce",[f.$to_a().$dup()],function(V,de){return V==null&&(V=r),de==null&&(de=r),me(V,de)})},-1),se(b,"$dig",function(le,be){var Ne,f,k=this,V=r;return Ne=je(arguments,1),f=Ne,V=k["$[]"](le),V===r||f.length===0?V:(Z(V["$respond_to?"]("dig"))||Te.$raise(s("TypeError"),""+V.$class()+" does not have #dig method"),_e(V,"dig",X(f)))},-2),se(b,"$drop",function(le){var be=this;return le=ye(le,s("Integer"),"to_int"),le<0&&Te.$raise(s("ArgumentError")),be.slice(le)}),se(b,"$dup",function tt(){var le=tt.$$p||r,be=this;return tt.$$p=null,be.$$class===o.Array&&be.$$class.$allocate.$$pristine&&be.$copy_instance_variables.$$pristine&&be.$initialize_dup.$$pristine?be.slice(0):xe(be,fe(be,"dup",tt,!1,!0),"dup",[],le)}),se(b,"$each",function tt(){var le=tt.$$p||r,be=this;if(tt.$$p=null,le===r)return _e(be,"enum_for",["each"],function V(){var de=V.$$s==null?this:V.$$s;return de.$size()},{$$s:be});for(var Ne=0,f=be.length;Ne<f;Ne++)var k=he(le,be[Ne]);return be}),se(b,"$each_index",function tt(){var le=tt.$$p||r,be=this;if(tt.$$p=null,le===r)return _e(be,"enum_for",["each_index"],function V(){var de=V.$$s==null?this:V.$$s;return de.$size()},{$$s:be});for(var Ne=0,f=be.length;Ne<f;Ne++)var k=he(le,Ne);return be}),se(b,"$empty?",function(){var le=this;return le.length===0}),se(b,"$eql?",function(le){var be=this,Ne={};function f(k,V){var de,Be,$t,e;if(!V.$$is_array||(V=V.$to_a(),k.length!==V.length))return!1;for(Ne[k.$object_id()]=!0,de=0,Be=k.length;de<Be;de++)if($t=k[de],e=V[de],$t.$$is_array){if(e.$$is_array&&e.length!==$t.length||!Ne.hasOwnProperty($t.$object_id())&&!f($t,e))return!1}else if(!$t["$eql?"](e))return!1;return!0}return f(be,le)}),se(b,"$fetch",function tt(le,be){var Ne=tt.$$p||r,f=this;tt.$$p=null;var k=le;if(le=ye(le,s("Integer"),"to_int"),le<0&&(le+=f.length),le>=0&&le<f.length)return f[le];if(Ne!==r&&be!=null&&f.$warn("warning: block supersedes default value argument"),Ne!==r)return Ne(k);if(be!=null)return be;f.length===0?Te.$raise(s("IndexError"),"index "+k+" outside of array bounds: 0...0"):Te.$raise(s("IndexError"),"index "+k+" outside of array bounds: -"+f.length+"..."+f.length)},-2),se(b,"$fill",function tt(le){var be=tt.$$p||r,Ne,f,k,V,de=this,Be=r,$t=r,e=r,H=r,P=r;tt.$$p=null,Ne=je(arguments),f=Ne,De(de);var C,K,c;if(Z(be)?(Z(f.length>2)&&Te.$raise(s("ArgumentError"),"wrong number of arguments ("+f.$length()+" for 0..2)"),V=f,k=m(V),Be=k[0]==null?r:k[0],$t=k[1]==null?r:k[1]):(Z(f.length==0)?Te.$raise(s("ArgumentError"),"wrong number of arguments (0 for 1..3)"):Z(f.length>3)&&Te.$raise(s("ArgumentError"),"wrong number of arguments ("+f.$length()+" for 1..3)"),V=f,k=m(V),e=k[0]==null?r:k[0],Be=k[1]==null?r:k[1],$t=k[2]==null?r:k[2]),We(s("Range"),Be)){if(Z($t)&&Te.$raise(s("TypeError"),"length invalid with range"),H=Be.begin===r?0:ye(Be.begin,s("Integer"),"to_int"),Z(H<0)&&(H+=this.length),Z(H<0)&&Te.$raise(s("RangeError"),""+Be.$inspect()+" out of range"),P=Be.end===r?-1:ye(Be.end,s("Integer"),"to_int"),Z(P<0)&&(P+=this.length),Z(Be["$exclude_end?"]())||(P+=1),Z(P<=H))return de}else if(Z(Be))if(H=ye(Be,s("Integer"),"to_int"),Z(H<0)&&(H+=this.length),Z(H<0)&&(H=0),Z($t)){if(P=ye($t,s("Integer"),"to_int"),Z(P==0))return de;P+=H}else P=this.length;else H=0,P=this.length;if(Z(H>this.length))for(C=this.length;C<P;C++)de[C]=r;if(Z(P>this.length)&&(this.length=P),Z(be))for(K=this.length;H<P;H++)c=be(H),de[H]=c;else for(K=this.length;H<P;H++)de[H]=e;return de},-1),se(b,"$first",function(le){var be=this;return le==null?be.length===0?r:be[0]:(le=ye(le,s("Integer"),"to_int"),le<0&&Te.$raise(s("ArgumentError"),"negative array size"),be.slice(0,le))},-1),se(b,"$flatten",function(le){var be=this;function Ne(f,k){var V=[],de,Be,$t,e;for(f=f.$to_a(),de=0,Be=f.length;de<Be;de++){if($t=f[de],!G($t,"$to_ary",!0)){V.push($t);continue}if(e=$t.$to_ary(),e===r){V.push($t);continue}switch(e.$$is_array||Te.$raise(s("TypeError")),e===be&&Te.$raise(s("ArgumentError")),k){case void 0:V=V.concat(Ne(e));break;case 0:V.push(e);break;default:V.push.apply(V,Ne(e,k-1))}}return V}return le!==void 0&&(le=ye(le,s("Integer"),"to_int")),Ne(be,le)},-1),se(b,"$flatten!",function(le){var be=this;De(be);var Ne=be.$flatten(le);if(be.length==Ne.length){for(var f=0,k=be.length;f<k&&be[f]===Ne[f];f++);if(f==k)return r}return be.$replace(Ne),be},-1),se(b,"$freeze",function(){var le=this;return Z(le["$frozen?"]())?le:Pe(le)}),se(b,"$hash",function(){var le=this,be=Me===void 0,Ne=["A"],f=le.$object_id(),k,V,de;try{if(be&&(Me=Object.create(null)),Me[f])return"self";for(de in Me)if(k=Me[de],le["$eql?"](k))return"self";for(Me[f]=le,V=0;V<le.length;V++)k=le[V],Ne.push(k.$hash());return Ne.join(",")}finally{be&&(Me=void 0)}}),se(b,"$include?",function(le){for(var be=this,Ne=0,f=be.length;Ne<f;Ne++)if(be[Ne]["$=="](le))return!0;return!1}),se(b,"$index",function tt(le){var be=tt.$$p||r,Ne=this;tt.$$p=null;var f,k,V;if(le!=null&&be!==r&&Ne.$warn("warning: given block not used"),le!=null){for(f=0,k=Ne.length;f<k;f++)if(Ne[f]["$=="](le))return f}else if(be!==r){for(f=0,k=Ne.length;f<k;f++)if(V=be(Ne[f]),V!==!1&&V!==r)return f}else return Ne.$enum_for("index");return r},-1),se(b,"$insert",function(le,be){var Ne,f,k=this;if(Ne=je(arguments,1),f=Ne,De(k),le=ye(le,s("Integer"),"to_int"),f.length>0){if(le<0&&(le+=k.length+1,le<0&&Te.$raise(s("IndexError"),""+le+" is out of bounds")),le>k.length)for(var V=k.length;V<le;V++)k.push(r);k.splice.apply(k,[le,0].concat(f))}return k},-2);var vt=[];se(b,"$inspect",function(){var le=this,be=[],Ne=le.$__id__(),f=!0;return function(){try{if(vt.indexOf(Ne)!==-1)return f=!1,"[...]";vt.push(Ne);for(var k=0,V=le.length;k<V;k++){var de=le["$[]"](k);be.push(pe("Opal").$inspect(de))}return"["+be.join(", ")+"]"}finally{f&&vt.pop()}}()}),se(b,"$intersection",function(le){var be,Ne,f=this;return be=je(arguments),Ne=be,_e(Ne,"reduce",[f.$to_a().$dup()],function(V,de){return V==null&&(V=r),de==null&&(de=r),V["$&"](de)})},-1),se(b,"$intersect?",function(le){var be=this;return be.$intersection(le)["$empty?"]()["$!"]()}),se(b,"$join",function(le){var be=this;if(ae[","]==null&&(ae[","]=r),le==null&&(le=r),Z(be.length===0))return"";Z(le===r)&&(le=ae[","]);var Ne=[],f,k,V,de;for(f=0,k=be.length;f<k;f++){if(V=be[f],G(V,"$to_str")&&(de=V.$to_str(),de!==r)){Ne.push(de.$to_s());continue}if(G(V,"$to_ary")&&(de=V.$to_ary(),de===be&&Te.$raise(s("ArgumentError")),de!==r)){Ne.push(de.$join(le));continue}if(G(V,"$to_s")&&(de=V.$to_s(),de!==r)){Ne.push(de);continue}Te.$raise(s("NoMethodError").$new(""+pe("Opal").$inspect(be.$item())+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return le===r?Ne.join(""):Ne.join(qe["$coerce_to!"](le,s("String"),"to_str").$to_s())},-1),se(b,"$keep_if",function tt(){var le=tt.$$p||r,be=this;return tt.$$p=null,le===r?_e(be,"enum_for",["keep_if"],function Ne(){var f=Ne.$$s==null?this:Ne.$$s;return f.$size()},{$$s:be}):(De(be),lt(be,Z,le),be)}),se(b,"$last",function(le){var be=this;return le==null?be.length===0?r:be[be.length-1]:(le=ye(le,s("Integer"),"to_int"),le<0&&Te.$raise(s("ArgumentError"),"negative array size"),le>be.length&&(le=be.length),be.slice(be.length-le,be.length))},-1),se(b,"$length",function(){var le=this;return le.length}),se(b,"$max",function tt(le){var be=tt.$$p||r,Ne=this;return tt.$$p=null,_e(Ne.$each(),"max",[le],be.$to_proc())},-1),se(b,"$min",function tt(){var le=tt.$$p||r,be=this;return tt.$$p=null,_e(be.$each(),"min",[],le.$to_proc())});function gt(tt,le){for(var be=le>=0?1:0;le;)be*=tt,tt--,le--;return be}return se(b,"$permutation",function tt(le){var be=tt.$$p||r,Ne=this,f=r,k=r;if(tt.$$p=null,be===r)return _e(Ne,"enum_for",["permutation",le],function e(){var H=e.$$s==null?this:e.$$s;return gt(H.length,le===void 0?H.length:le)},{$$s:Ne});var V,de,Be;if(le===void 0?le=Ne.length:le=ye(le,s("Integer"),"to_int"),!(le<0||Ne.length<le))if(le===0)o.yield1(be,[]);else if(le===1)for(var $t=0;$t<Ne.length;$t++)o.yield1(be,[Ne[$t]]);else f=pe("Array").$new(le),k=pe("Array").$new(Ne.length,!1),V=function(e,H,P,C,K){Ne=this;for(var c=0;c<Ne.length;c++)if(C["$[]"](c)["$!"]())if(H[P]=c,P<e-1)C[c]=!0,V.call(Ne,e,H,P+1,C,K),C[c]=!1;else{Be=[];for(var R=0;R<H.length;R++)Be.push(Ne[H[R]]);he(K,Be)}},be!==r?(de=Ne.slice(),V.call(de,le,f,0,k,be)):V.call(Ne,le,f,0,k,be);return Ne},-1),se(b,"$repeated_permutation",function tt(le){var be=tt.$$p||r,Ne=this,f=r;if(tt.$$p=null,f=qe["$coerce_to!"](le,s("Integer"),"to_int"),be===r)return _e(Ne,"enum_for",["repeated_permutation",f],function V(){var de=V.$$s==null?this:V.$$s;return Z(q(f,0))?de.$size()["$**"](f):0},{$$s:Ne});function k(V,de,Be){if(de.length==V){var $t=de.slice();o.yield1(be,$t);return}for(var e=0;e<Be.length;e++)de.push(Be[e]),k(V,de,Be),de.pop()}return k(f,[],Ne.slice()),Ne}),se(b,"$pop",function(le){var be=this;return De(be),Z(le===void 0)?Z(be.length===0)?r:be.pop():(le=ye(le,s("Integer"),"to_int"),Z(le<0)&&Te.$raise(s("ArgumentError"),"negative array size"),Z(be.length===0)?[]:Z(le===1)?[be.pop()]:Z(le>be.length)?be.splice(0,be.length):be.splice(be.length-le,be.length))},-1),se(b,"$product",function tt(le){var be=tt.$$p||r,Ne,f,k=this;tt.$$p=null,Ne=je(arguments),f=Ne;var V=be!==r?null:[],de=f.length+1,Be=new Array(de),$t=new Array(de),e=new Array(de),H,P,C,K,c=1;for(e[0]=k,H=1;H<de;H++)e[H]=ye(f[H-1],s("Array"),"to_ary");for(H=0;H<de;H++){if(K=e[H].length,K===0)return V||k;c*=K,c>2147483647&&Te.$raise(s("RangeError"),"too big to product"),$t[H]=K,Be[H]=0}e:for(;;){for(C=[],H=0;H<de;H++)C.push(e[H][Be[H]]);for(V?V.push(C):o.yield1(be,C),P=de-1,Be[P]++;Be[P]===$t[P];){if(Be[P]=0,--P<0)break e;Be[P]++}}return V||k},-1),se(b,"$push",function(le){var be,Ne,f=this;be=je(arguments),Ne=be,De(f);for(var k=0,V=Ne.length;k<V;k++)f.push(Ne[k]);return f},-1),se(b,"$rassoc",function(le){for(var be=this,Ne=0,f=be.length,k;Ne<f;Ne++)if(k=be[Ne],k.length&&k[1]!==void 0&&k[1]["$=="](le))return k;return r}),se(b,"$reject",function tt(){var le=tt.$$p||r,be=this;if(tt.$$p=null,le===r)return _e(be,"enum_for",["reject"],function de(){var Be=de.$$s==null?this:de.$$s;return Be.$size()},{$$s:be});for(var Ne=[],f=0,k=be.length,V;f<k;f++)V=le(be[f]),(V===!1||V===r)&&Ne.push(be[f]);return Ne}),se(b,"$reject!",function tt(){var le=tt.$$p||r,be=this,Ne=r;return tt.$$p=null,le===r?_e(be,"enum_for",["reject!"],function f(){var k=f.$$s==null?this:f.$$s;return k.$size()},{$$s:be}):(De(be),Ne=be.$length(),_e(be,"delete_if",[],le.$to_proc()),te(be.$length(),Ne)?r:be)}),se(b,"$replace",function(le){var be=this;return De(be),le=We(s("Array"),le)?le.$to_a():ye(le,s("Array"),"to_ary").$to_a(),be.splice(0,be.length),be.push.apply(be,le),be}),se(b,"$reverse",function(){var le=this;return le.slice(0).reverse()}),se(b,"$reverse!",function(){var le=this;return De(le),le.reverse()}),se(b,"$reverse_each",function tt(){var le=tt.$$p||r,be=this;return tt.$$p=null,le===r?_e(be,"enum_for",["reverse_each"],function Ne(){var f=Ne.$$s==null?this:Ne.$$s;return f.$size()},{$$s:be}):(_e(be.$reverse(),"each",[],le.$to_proc()),be)}),se(b,"$rindex",function tt(le){var be=tt.$$p||r,Ne=this;tt.$$p=null;var f,k;if(le!=null&&be!==r&&Ne.$warn("warning: given block not used"),le!=null){for(f=Ne.length-1;f>=0&&!(f>=Ne.length);f--)if(Ne[f]["$=="](le))return f}else if(be!==r){for(f=Ne.length-1;f>=0&&!(f>=Ne.length);f--)if(k=be(Ne[f]),k!==!1&&k!==r)return f}else if(le==null)return Ne.$enum_for("rindex");return r},-1),se(b,"$rotate",function(le){var be=this;le==null&&(le=1);var Ne,f,k,V;return le=ye(le,s("Integer"),"to_int"),be.length===1?be.slice():be.length===0?[]:(Ne=be.slice(),f=le%Ne.length,k=Ne.slice(f),V=Ne.slice(0,f),k.concat(V))},-1),se(b,"$rotate!",function(le){var be=this,Ne=r;return le==null&&(le=1),De(be),be.length===0||be.length===1?be:(le=ye(le,s("Integer"),"to_int"),Ne=be.$rotate(le),be.$replace(Ne))},-1),function(tt,le){var be=Ie(tt,le,"SampleRandom"),Ne=be.$$prototype;return Ne.rng=r,se(be,"$initialize",J("rng")),se(be,"$rand",function(k){var V=this,de=r;return de=ye(V.rng.$rand(k),s("Integer"),"to_int"),Z(de<0)&&Te.$raise(s("RangeError"),"random value must be >= 0"),Z(de<k)||Te.$raise(s("RangeError"),"random value must be less than Array size"),de})}(b,null),se(b,"$sample",function(le,be){var Ne=this,f=r,k=r;if(Z(le===void 0))return Ne.$at(Te.$rand(Ne.length));if(Z(be===void 0)?Z(f=qe["$coerce_to?"](le,s("Hash"),"to_hash"))?(be=f,le=r):(be=r,le=ye(le,s("Integer"),"to_int")):(le=ye(le,s("Integer"),"to_int"),be=ye(be,s("Hash"),"to_hash")),Z(le)&&Z(le<0)&&Te.$raise(s("ArgumentError"),"count must be greater than 0"),Z(be)&&(k=be["$[]"]("random")),k=Z(k)&&Z(k["$respond_to?"]("rand"))?pe("SampleRandom").$new(k):Te,!Z(le))return Ne[k.$rand(Ne.length)];var V,de,Be,$t,e,H,P,C;switch(le>Ne.length&&(le=Ne.length),le){case 0:return[];case 1:return[Ne[k.$rand(Ne.length)]];case 2:return $t=k.$rand(Ne.length),e=k.$rand(Ne.length-1),$t<=e&&e++,[Ne[$t],Ne[e]];break;default:if(Ne.length/le>3){for(V=!1,de=0,Be=pe("Array").$new(le),$t=1,Be[0]=k.$rand(Ne.length);$t<le;){for(H=k.$rand(Ne.length),e=0;e<$t;){for(;H===Be[e];){if(de++,de>100){V=!0;break}H=k.$rand(Ne.length)}if(V)break;e++}if(V)break;Be[$t]=H,$t++}if(!V){for($t=0;$t<le;)Be[$t]=Ne[Be[$t]],$t++;return Be}}Be=Ne.slice();for(var K=0;K<le;K++)P=k.$rand(Ne.length-K)+K,C=Be[K],Be[K]=Be[P],Be[P]=C;return le===Ne.length?Be:Be["$[]"](0,le)}},-1),se(b,"$select",function tt(){var le=tt.$$p||r,be=this;if(tt.$$p=null,le===r)return _e(be,"enum_for",["select"],function Be(){var $t=Be.$$s==null?this:Be.$$s;return $t.$size()},{$$s:be});for(var Ne=[],f=0,k=be.length,V,de;f<k;f++)V=be[f],de=he(le,V),Z(de)&&Ne.push(V);return Ne}),se(b,"$select!",function tt(){var le=tt.$$p||r,be=this;if(tt.$$p=null,le===r)return _e(be,"enum_for",["select!"],function f(){var k=f.$$s==null?this:f.$$s;return k.$size()},{$$s:be});De(be);var Ne=be.length;return _e(be,"keep_if",[],le.$to_proc()),be.length===Ne?r:be}),se(b,"$shift",function(le){var be=this;return De(be),Z(le===void 0)?Z(be.length===0)?r:Oe(be):(le=ye(le,s("Integer"),"to_int"),Z(le<0)&&Te.$raise(s("ArgumentError"),"negative array size"),Z(be.length===0)?[]:be.splice(0,le))},-1),se(b,"$shuffle",function(le){var be=this;return be.$dup().$to_a()["$shuffle!"](le)},-1),se(b,"$shuffle!",function(le){var be=this;De(be);var Ne,f=be.length,k,V;for(le!==void 0&&(le=qe["$coerce_to?"](le,s("Hash"),"to_hash"),le!==r&&(le=le["$[]"]("random"),le!==r&&le["$respond_to?"]("rand")&&(Ne=le)));f;)Ne?(k=Ne.$rand(f).$to_int(),k<0&&Te.$raise(s("RangeError"),"random number too small "+k),k>=f&&Te.$raise(s("RangeError"),"random number too big "+k)):k=be.$rand(f),V=be[--f],be[f]=be[k],be[k]=V;return be},-1),se(b,"$slice!",function(le,be){var Ne=this,f=r,k=r,V=r,de=r,Be=r;if(De(Ne),f=r,Z(be===void 0))if(We(s("Range"),le)){k=le,f=Ne["$[]"](k),V=k.begin===r?0:ye(k.begin,s("Integer"),"to_int"),de=k.end===r?-1:ye(k.end,s("Integer"),"to_int"),V<0&&(V+=Ne.length),de<0?de+=Ne.length:de>=Ne.length&&(de=Ne.length-1,k.excl&&(de+=1));var $t=de-V;k.excl&&k.end!==r?de-=1:$t+=1,V<Ne.length&&V>=0&&de<Ne.length&&de>=0&&$t>0&&Ne.splice(V,$t)}else{if(Be=ye(le,s("Integer"),"to_int"),Be<0&&(Be+=Ne.length),Be<0||Be>=Ne.length)return r;f=Ne[Be],Be===0?Ne.shift():Ne.splice(Be,1)}else{if(Be=ye(le,s("Integer"),"to_int"),be=ye(be,s("Integer"),"to_int"),be<0)return r;var e=Be+be;f=Ne["$[]"](Be,be),Be<0&&(Be+=Ne.length),Be+be>Ne.length&&(be=Ne.length-Be),Be<Ne.length&&Be>=0&&Ne.splice(Be,be)}return f},-2),se(b,"$sort",function tt(){var le=tt.$$p||r,be=this;return tt.$$p=null,Z(be.length>1)?(le===r&&(le=function(Ne,f){return Ne["$<=>"](f)}),be.slice().sort(function(Ne,f){var k=le(Ne,f);return k===r&&Te.$raise(s("ArgumentError"),"comparison of "+Ne.$inspect()+" with "+f.$inspect()+" failed"),$e(k,0)?1:N(k,0)?-1:0})):be}),se(b,"$sort!",function tt(){var le=tt.$$p||r,be=this;tt.$$p=null,De(be);var Ne;le!==r?Ne=_e(be.slice(),"sort",[],le.$to_proc()):Ne=be.slice().$sort(),be.length=0;for(var f=0,k=Ne.length;f<k;f++)be.push(Ne[f]);return be}),se(b,"$sort_by!",function tt(){var le=tt.$$p||r,be=this;return tt.$$p=null,le===r?_e(be,"enum_for",["sort_by!"],function Ne(){var f=Ne.$$s==null?this:Ne.$$s;return f.$size()},{$$s:be}):(De(be),be.$replace(_e(be,"sort_by",[],le.$to_proc())))}),se(b,"$take",function(le){var be=this;return le<0&&Te.$raise(s("ArgumentError")),be.slice(0,le)}),se(b,"$take_while",function tt(){var le=tt.$$p||r,be=this;tt.$$p=null;for(var Ne=[],f=0,k=be.length,V,de;f<k;f++){if(V=be[f],de=le(V),de===!1||de===r)return Ne;Ne.push(V)}return Ne}),se(b,"$to_a",function(){var le=this;return le.$$class===o.Array?le:o.Array.$new(le)}),se(b,"$to_ary",ze),se(b,"$to_h",function tt(){var le=tt.$$p||r,be=this,Ne=r;tt.$$p=null,Ne=be,le!==r&&(Ne=_e(Ne,"map",[],le.$to_proc()));var f,k=Ne.length,V,de,Be,$t=Fe([],{});for(f=0;f<k;f++)V=qe["$coerce_to?"](Ne[f],s("Array"),"to_ary"),V.$$is_array||Te.$raise(s("TypeError"),"wrong element type "+V.$class()+" at "+f+" (expected array)"),V.length!==2&&Te.$raise(s("ArgumentError"),"wrong array length at "+f+" (expected 2, was "+V.$length()+")"),de=V[0],Be=V[1],Re($t,de,Be);return $t}),se(b,"$transpose",function(){var le=this,be=r,Ne=r;return Z(le["$empty?"]())?[]:(be=[],Ne=r,_e(le,"each",[],function(k){var V=r;return k==null&&(k=r),k=We(s("Array"),k)?k.$to_a():ye(k,s("Array"),"to_ary").$to_a(),Ne=Z(V=Ne)?V:k.length,re(k.length,Ne)&&Te.$raise(s("IndexError"),"element size differs ("+k.length+" should be "+Ne+")"),_e(k.length,"times",[],function(Be){var $t,e=r;return Be==null&&(Be=r),e=Z(V=be["$[]"](Be))?V:($t=[Be,[]],_e(be,"[]=",$t),$t[$t.length-1]),e["$<<"](k.$at(Be))})}),be)}),se(b,"$union",function(le){var be,Ne,f=this;return be=je(arguments),Ne=be,_e(Ne,"reduce",[f.$uniq()],function(V,de){return V==null&&(V=r),de==null&&(de=r),V["$|"](de)})},-1),se(b,"$uniq",function tt(){var le=tt.$$p||r,be=this;tt.$$p=null;var Ne=Fe([],{}),f,k,V,de;if(le===r)for(f=0,k=be.length;f<k;f++)V=be[f],Ze(Ne,V)===void 0&&Re(Ne,V,V);else for(f=0,k=be.length;f<k;f++)V=be[f],de=he(le,V),Ze(Ne,de)===void 0&&Re(Ne,de,V);return Ne.$values()}),se(b,"$uniq!",function tt(){var le=tt.$$p||r,be=this;tt.$$p=null,De(be);var Ne=be.length,f=Fe([],{}),k,V,de,Be;for(k=0,V=Ne;k<V;k++){if(de=be[k],Be=le===r?de:he(le,de),Ze(f,Be)===void 0){Re(f,Be,de);continue}be.splice(k,1),V--,k--}return be.length===Ne?r:be}),se(b,"$unshift",function(le){var be,Ne,f=this;be=je(arguments),Ne=be,De(f);var k=f.length,V=Ne.length;if(V==0)return f;for(var de=k-V,Be=0;Be<V;Be++)f.push(f[de+Be]);for(var $t=k-1;$t-V>=0;)f[$t]=f[$t-V],$t--;for(var e=0;e<V;e++)f[e]=Ne[e];return f},-1),se(b,"$values_at",function(le){var be,Ne,f=this,k=r;return be=je(arguments),Ne=be,k=[],_e(Ne,"each",[],function V(de){var Be=V.$$s==null?this:V.$$s,$t=r,e=r,H=r;return de==null&&(de=r),Z(de["$is_a?"](s("Range")))?($t=de.$end()===r?-1:ye(de.$end(),s("Integer"),"to_int"),e=de.$begin()===r?0:ye(de.$begin(),s("Integer"),"to_int"),e<0?(e=e+Be.length,r):($t<0&&($t=$t+Be.length),de["$exclude_end?"]()&&de.$end()!==r&&$t--,$t<e?r:_e(e,"upto",[$t],function P(C){var K=P.$$s==null?this:P.$$s;return C==null&&(C=r),k["$<<"](K.$at(C))},{$$s:Be}))):(H=ye(de,s("Integer"),"to_int"),k["$<<"](Be.$at(H)))},{$$s:f}),k},-1),se(b,"$zip",function tt(le){var be=tt.$$p||r,Ne,f,k=this,V=r;tt.$$p=null,Ne=je(arguments),f=Ne;var de=[],Be=k.length,$t,e,H,P,C;for(P=0,C=f.length;P<C;P++)if(e=f[P],!e.$$is_array){if(e.$$is_range||e.$$is_enumerator){f[P]=e.$take(Be);continue}f[P]=(Z(V=qe["$coerce_to?"](e,s("Array"),"to_ary"))?V:qe["$coerce_to!"](e,s("Enumerator"),"to_enum","each")).$to_a()}for(H=0;H<Be;H++){for($t=[k[H]],P=0,C=f.length;P<C;P++)e=f[P][H],e==null&&(e=r),$t[P+1]=e;de[H]=$t}if(be!==r){for(H=0;H<Be;H++)o.yield1(be,de[H]);return r}return de},-1),Ge(b,"$inherited",function(le){le.$$prototype.$to_a=function(){return this.slice(0,this.length)}}),se(b,"$instance_variables",function tt(){var le=tt.$$p||r,be=this;return tt.$$p=null,_e(xe(be,fe(be,"instance_variables",tt,!1,!0),"instance_variables",[],le),"reject",[],function(f){var k=r;return f==null&&(f=r),Z(k=/^@\d+$/.test(f))?k:f["$=="]("@length")})}),se(b,"$pack",function(le){var be,Ne;return be=je(arguments),Ne=be,Te.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},-1),D(b,"append","push"),D(b,"filter","select"),D(b,"filter!","select!"),D(b,"map","collect"),D(b,"map!","collect!"),D(b,"prepend","unshift"),D(b,"size","length"),D(b,"slice","[]"),D(b,"to_s","inspect"),qe.$pristine(b.$singleton_class(),"allocate"),qe.$pristine(b,"copy_instance_variables","initialize_dup")}("::",Array,n)};Opal.modules["corelib/hash"]=function(o){var Z=o.yield1,Se=o.hash,Me=o.hash_init,he=o.hash_get,Ze=o.hash_put,Re=o.hash_delete,Le=o.deny_frozen_access,ye=o.freeze,G=o.klass,De=o.slice,Pe=o.Opal,Ie=o.Kernel,je=o.defs,Ge=o.def,Te=o.send,se=o.rb_ge,qe=o.rb_gt,We=o.hash2,Fe=o.truthy,xe=o.to_a,fe=o.return_self,_e=o.alias,$e=o.top,Ee=[],te=o.nil,me=o.$$$;return o.add_stubs("require,include,coerce_to?,[],merge!,allocate,raise,coerce_to!,each,fetch,>=,>,==,compare_by_identity,lambda?,abs,arity,enum_for,size,respond_to?,class,dig,except!,dup,delete,new,inspect,map,to_proc,flatten,frozen?,eql?,default,default_proc,default_proc=,default=,to_h,proc,clone,select,select!,has_key?,indexes,index,length,[]=,has_value?"),$e.$require("corelib/enumerable"),function(X,m,ae){var q=G(X,m,"Hash"),J=[q].concat(ae),N=o.$r(J);q.$include(me("Enumerable")),q.$$prototype.$$is_hash=!0,je(q,"$[]",function(D){var d,n,r=this;d=De(arguments),n=d;var s,i=n.length,$;if(i===1){if(s=Pe["$coerce_to?"](n["$[]"](0),me("Hash"),"to_hash"),s!==te)return r.$allocate()["$merge!"](s);for(n=Pe["$coerce_to?"](n["$[]"](0),me("Array"),"to_ary"),n===te&&Ie.$raise(me("ArgumentError"),"odd number of arguments for Hash"),i=n.length,s=r.$allocate(),$=0;$<i;$++)if(n[$].$$is_array)switch(n[$].length){case 1:s.$store(n[$][0],te);break;case 2:s.$store(n[$][0],n[$][1]);break;default:Ie.$raise(me("ArgumentError"),"invalid number of elements ("+n[$].length+" for 1..2)")}return s}for(i%2!==0&&Ie.$raise(me("ArgumentError"),"odd number of arguments for Hash"),s=r.$allocate(),$=0;$<i;$+=2)s.$store(n[$],n[$+1]);return s},-1),je(q,"$allocate",function(){var D=this,d=new D.$$constructor;return Me(d),d.$$none=te,d.$$proc=te,d}),je(q,"$try_convert",function(D){return Pe["$coerce_to?"](D,me("Hash"),"to_hash")}),Ge(q,"$initialize",function re(D){var d=re.$$p||te,n=this;return re.$$p=null,Le(n),D!==void 0&&d!==te&&Ie.$raise(me("ArgumentError"),"wrong number of arguments (1 for 0)"),n.$$none=D===void 0?te:D,n.$$proc=d,n},-1),Ge(q,"$==",function(D){var d=this;if(d===D)return!0;if(!D.$$is_hash||d.$$keys.length!==D.$$keys.length)return!1;for(var n=0,r=d.$$keys,s=r.length,i,$,h;n<s;n++)if(i=r[n],i.$$is_string?($=d.$$smap[i],h=D.$$smap[i]):($=i.value,h=he(D,i.key)),h===void 0||!$["$eql?"](h))return!1;return!0}),Ge(q,"$>=",function(D){var d=this,n=te;return D=Pe["$coerce_to!"](D,me("Hash"),"to_hash"),d.$$keys.length<D.$$keys.length?!1:(n=!0,Te(D,"each",[],function r(s,i){var $=r.$$s==null?this:r.$$s,h=te;if(s==null&&(s=te),i==null&&(i=te),h=$.$fetch(s,null),h==null||h!==i){n=!1;return}},{$$s:d}),n)}),Ge(q,"$>",function(D){var d=this;return D=Pe["$coerce_to!"](D,me("Hash"),"to_hash"),d.$$keys.length<=D.$$keys.length?!1:se(d,D)}),Ge(q,"$<",function(D){var d=this;return D=Pe["$coerce_to!"](D,me("Hash"),"to_hash"),qe(D,d)}),Ge(q,"$<=",function(D){var d=this;return D=Pe["$coerce_to!"](D,me("Hash"),"to_hash"),se(D,d)}),Ge(q,"$[]",function(D){var d=this,n=he(d,D);return n!==void 0?n:d.$default(D)}),Ge(q,"$[]=",function(D,d){var n=this;return Le(n),Ze(n,D,d),d}),Ge(q,"$assoc",function(D){for(var d=this,n=0,r=d.$$keys,s=r.length,i;n<s;n++)if(i=r[n],i.$$is_string){if(i["$=="](D))return[i,d.$$smap[i]]}else if(i.key["$=="](D))return[i.key,i.value];return te}),Ge(q,"$clear",function(){var D=this;return Le(D),Me(D),D}),Ge(q,"$clone",function(){var D=this,d=new D.$$class;return Me(d),o.hash_clone(D,d),d}),Ge(q,"$compact",function(){for(var D=this,d=Se(),n=0,r=D.$$keys,s=r.length,i,$,h;n<s;n++)i=r[n],i.$$is_string?$=D.$$smap[i]:($=i.value,i=i.key),$!==te&&Ze(d,i,$);return d}),Ge(q,"$compact!",function(){var D=this;Le(D);for(var d=!1,n=0,r=D.$$keys,s=r.length,i,$,h;n<s;n++)i=r[n],i.$$is_string?$=D.$$smap[i]:($=i.value,i=i.key),$===te&&Re(D,i)!==void 0&&(d=!0,s--,n--);return d?D:te}),Ge(q,"$compare_by_identity",function(){var D=this;Le(D);var d,n,r,s=D.$$keys,i;if(D.$$by_identity)return D;if(D.$$keys.length===0)return D.$$by_identity=!0,D;for(i=We([],{}).$compare_by_identity(),d=0,n=s.length;d<n;d++)r=s[d],r.$$is_string||(r=r.key),Ze(i,r,he(D,r));return D.$$by_identity=!0,D.$$map=i.$$map,D.$$smap=i.$$smap,D}),Ge(q,"$compare_by_identity?",function(){var D=this;return D.$$by_identity===!0}),Ge(q,"$default",function(D){var d=this;return D!==void 0&&d.$$proc!==te&&d.$$proc!==void 0?d.$$proc.$call(d,D):d.$$none===void 0?te:d.$$none},-1),Ge(q,"$default=",function(D){var d=this;return Le(d),d.$$proc=te,d.$$none=D,D}),Ge(q,"$default_proc",function(){var D=this;return D.$$proc!==void 0?D.$$proc:te}),Ge(q,"$default_proc=",function(D){var d=this;Le(d);var n=D;return n!==te&&(n=Pe["$coerce_to!"](n,me("Proc"),"to_proc"),n["$lambda?"]()&&n.$arity().$abs()!==2&&Ie.$raise(me("TypeError"),"default_proc takes two arguments")),d.$$none=te,d.$$proc=n,D}),Ge(q,"$delete",function re(D){var d=re.$$p||te,n=this;re.$$p=null,Le(n);var r=Re(n,D);return r!==void 0?r:d!==te?o.yield1(d,D):te}),Ge(q,"$delete_if",function re(){var D=re.$$p||te,d=this;if(re.$$p=null,!Fe(D))return Te(d,"enum_for",["delete_if"],function b(){var B=b.$$s==null?this:b.$$s;return B.$size()},{$$s:d});Le(d);for(var n=0,r=d.$$keys,s=r.length,i,$,h;n<s;n++)i=r[n],i.$$is_string?$=d.$$smap[i]:($=i.value,i=i.key),h=D(i,$),h!==!1&&h!==te&&Re(d,i)!==void 0&&(s--,n--);return d}),Ge(q,"$dig",function(D,d){var n,r,s=this,i=te;return n=De(arguments,1),r=n,i=s["$[]"](D),i===te||r.length===0?i:(Fe(i["$respond_to?"]("dig"))||Ie.$raise(me("TypeError"),""+i.$class()+" does not have #dig method"),Te(i,"dig",xe(r)))},-2),Ge(q,"$each",function re(){var D=re.$$p||te,d=this;if(re.$$p=null,!Fe(D))return Te(d,"enum_for",["each"],function h(){var b=h.$$s==null?this:h.$$s;return b.$size()},{$$s:d});for(var n=0,r=d.$$keys.slice(),s=r.length,i,$;n<s;n++)i=r[n],i.$$is_string?$=d.$$smap[i]:($=i.value,i=i.key),Z(D,[i,$]);return d}),Ge(q,"$each_key",function re(){var D=re.$$p||te,d=this;if(re.$$p=null,!Fe(D))return Te(d,"enum_for",["each_key"],function $(){var h=$.$$s==null?this:$.$$s;return h.$size()},{$$s:d});for(var n=0,r=d.$$keys.slice(),s=r.length,i;n<s;n++)i=r[n],D(i.$$is_string?i:i.key);return d}),Ge(q,"$each_value",function re(){var D=re.$$p||te,d=this;if(re.$$p=null,!Fe(D))return Te(d,"enum_for",["each_value"],function $(){var h=$.$$s==null?this:$.$$s;return h.$size()},{$$s:d});for(var n=0,r=d.$$keys.slice(),s=r.length,i;n<s;n++)i=r[n],D(i.$$is_string?d.$$smap[i]:i.value);return d}),Ge(q,"$empty?",function(){var D=this;return D.$$keys.length===0}),Ge(q,"$except",function(D){var d,n,r=this;return d=De(arguments),n=d,Te(r.$dup(),"except!",xe(n))},-1),Ge(q,"$except!",function(D){var d,n,r=this;return d=De(arguments),n=d,Te(n,"each",[],function s(i){var $=s.$$s==null?this:s.$$s;return i==null&&(i=te),$.$delete(i)},{$$s:r}),r},-1),Ge(q,"$fetch",function re(D,d){var n=re.$$p||te,r=this;re.$$p=null;var s=he(r,D);return s!==void 0?s:n!==te?n(D):d!==void 0?d:Ie.$raise(me("KeyError").$new("key not found: "+D.$inspect(),We(["key","receiver"],{key:D,receiver:r})))},-2),Ge(q,"$fetch_values",function re(D){var d=re.$$p||te,n,r,s=this;return re.$$p=null,n=De(arguments),r=n,Te(r,"map",[],function i($){var h=i.$$s==null?this:i.$$s;return $==null&&($=te),Te(h,"fetch",[$],d.$to_proc())},{$$s:s})},-1),Ge(q,"$flatten",function(D){var d=this;D==null&&(D=1),D=Pe["$coerce_to!"](D,me("Integer"),"to_int");for(var n=[],r=0,s=d.$$keys,i=s.length,$,h;r<i;r++){if($=s[r],$.$$is_string?h=d.$$smap[$]:(h=$.value,$=$.key),n.push($),h.$$is_array){if(D===1){n.push(h);continue}n=n.concat(h.$flatten(D-2));continue}n.push(h)}return n},-1),Ge(q,"$freeze",function(){var D=this;return Fe(D["$frozen?"]())?D:ye(D)}),Ge(q,"$has_key?",function(D){var d=this;return he(d,D)!==void 0}),Ge(q,"$has_value?",function(D){for(var d=this,n=0,r=d.$$keys,s=r.length,i;n<s;n++)if(i=r[n],(i.$$is_string?d.$$smap[i]:i.value)["$=="](D))return!0;return!1}),Ge(q,"$hash",function(){var D=this,d=o.hash_ids===void 0,n=D.$object_id(),r=["Hash"],s,i;try{if(d&&(o.hash_ids=Object.create(null)),o[n])return"self";for(s in o.hash_ids)if(i=o.hash_ids[s],D["$eql?"](i))return"self";o.hash_ids[n]=D;for(var $=0,h=D.$$keys,b=h.length;$<b;$++)s=h[$],s.$$is_string?r.push([s,D.$$smap[s].$hash()]):r.push([s.key_hash,s.value.$hash()]);return r.sort().join()}finally{d&&(o.hash_ids=void 0)}}),Ge(q,"$index",function(D){for(var d=this,n=0,r=d.$$keys,s=r.length,i,$;n<s;n++)if(i=r[n],i.$$is_string?$=d.$$smap[i]:($=i.value,i=i.key),$["$=="](D))return i;return te}),Ge(q,"$indexes",function(D){var d,n,r=this;d=De(arguments),n=d;for(var s=[],i=0,$=n.length,h,b;i<$;i++){if(h=n[i],b=he(r,h),b===void 0){s.push(r.$default());continue}s.push(b)}return s},-1);var ze;return Ge(q,"$inspect",function(){var D=this,d=ze===void 0,n=D.$object_id(),r=[];return function(){try{if(d&&(ze={}),ze.hasOwnProperty(n))return"{...}";ze[n]=!0;for(var s=0,i=D.$$keys,$=i.length,h,b;s<$;s++)h=i[s],h.$$is_string?b=D.$$smap[h]:(b=h.value,h=h.key),h=N("Opal").$inspect(h),b=N("Opal").$inspect(b),r.push(h+"=>"+b);return"{"+r.join(", ")+"}"}finally{d&&(ze=void 0)}}()}),Ge(q,"$invert",function(){for(var D=this,d=Se(),n=0,r=D.$$keys,s=r.length,i,$;n<s;n++)i=r[n],i.$$is_string?$=D.$$smap[i]:($=i.value,i=i.key),Ze(d,$,i);return d}),Ge(q,"$keep_if",function re(){var D=re.$$p||te,d=this;if(re.$$p=null,!Fe(D))return Te(d,"enum_for",["keep_if"],function b(){var B=b.$$s==null?this:b.$$s;return B.$size()},{$$s:d});Le(d);for(var n=0,r=d.$$keys,s=r.length,i,$,h;n<s;n++)i=r[n],i.$$is_string?$=d.$$smap[i]:($=i.value,i=i.key),h=D(i,$),(h===!1||h===te)&&Re(d,i)!==void 0&&(s--,n--);return d}),Ge(q,"$keys",function(){for(var D=this,d=[],n=0,r=D.$$keys,s=r.length,i;n<s;n++)i=r[n],i.$$is_string?d.push(i):d.push(i.key);return d}),Ge(q,"$length",function(){var D=this;return D.$$keys.length}),Ge(q,"$merge",function re(D){var d=re.$$p||te,n,r,s=this;return re.$$p=null,n=De(arguments),r=n,Te(s.$dup(),"merge!",xe(r),d.$to_proc())},-1),Ge(q,"$merge!",function re(D){var d=re.$$p||te,n,r,s=this;re.$$p=null,n=De(arguments),r=n,Le(s);var i,$,h,b,B,pe,Oe,ot;for(i=0;i<r.length;++i)if(h=Pe["$coerce_to!"](r[i],me("Hash"),"to_hash"),b=h.$$keys,B=b.length,d===te)for($=0;$<B;$++)pe=b[$],pe.$$is_string?ot=h.$$smap[pe]:(ot=pe.value,pe=pe.key),Ze(s,pe,ot);else for($=0;$<B;$++){if(pe=b[$],pe.$$is_string?ot=h.$$smap[pe]:(ot=pe.value,pe=pe.key),Oe=he(s,pe),Oe===void 0){Ze(s,pe,ot);continue}Ze(s,pe,d(pe,Oe,ot))}return s},-1),Ge(q,"$rassoc",function(D){for(var d=this,n=0,r=d.$$keys,s=r.length,i,$;n<s;n++)if(i=r[n],i.$$is_string?$=d.$$smap[i]:($=i.value,i=i.key),$["$=="](D))return[i,$];return te}),Ge(q,"$rehash",function(){var D=this;return Le(D),o.hash_rehash(D),D}),Ge(q,"$reject",function re(){var D=re.$$p||te,d=this;if(re.$$p=null,!Fe(D))return Te(d,"enum_for",["reject"],function B(){var pe=B.$$s==null?this:B.$$s;return pe.$size()},{$$s:d});for(var n=Se(),r=0,s=d.$$keys,i=s.length,$,h,b;r<i;r++)$=s[r],$.$$is_string?h=d.$$smap[$]:(h=$.value,$=$.key),b=D($,h),(b===!1||b===te)&&Ze(n,$,h);return n}),Ge(q,"$reject!",function re(){var D=re.$$p||te,d=this;if(re.$$p=null,!Fe(D))return Te(d,"enum_for",["reject!"],function B(){var pe=B.$$s==null?this:B.$$s;return pe.$size()},{$$s:d});Le(d);for(var n=!1,r=0,s=d.$$keys,i=s.length,$,h,b;r<i;r++)$=s[r],$.$$is_string?h=d.$$smap[$]:(h=$.value,$=$.key),b=D($,h),b!==!1&&b!==te&&Re(d,$)!==void 0&&(n=!0,i--,r--);return n?d:te}),Ge(q,"$replace",function(D){var d=this;Le(d),D=Pe["$coerce_to!"](D,me("Hash"),"to_hash"),Me(d);for(var n=0,r=D.$$keys,s=r.length,i,$,h;n<s;n++)i=r[n],i.$$is_string?h=D.$$smap[i]:(h=i.value,i=i.key),Ze(d,i,h);return Fe(D.$default_proc())?d["$default_proc="](D.$default_proc()):d["$default="](D.$default()),d}),Ge(q,"$select",function re(){var D=re.$$p||te,d=this;if(re.$$p=null,!Fe(D))return Te(d,"enum_for",["select"],function B(){var pe=B.$$s==null?this:B.$$s;return pe.$size()},{$$s:d});for(var n=Se(),r=0,s=d.$$keys,i=s.length,$,h,b;r<i;r++)$=s[r],$.$$is_string?h=d.$$smap[$]:(h=$.value,$=$.key),b=D($,h),b!==!1&&b!==te&&Ze(n,$,h);return n}),Ge(q,"$select!",function re(){var D=re.$$p||te,d=this;if(re.$$p=null,!Fe(D))return Te(d,"enum_for",["select!"],function B(){var pe=B.$$s==null?this:B.$$s;return pe.$size()},{$$s:d});Le(d);for(var n=te,r=0,s=d.$$keys,i=s.length,$,h,b;r<i;r++)$=s[r],$.$$is_string?h=d.$$smap[$]:(h=$.value,$=$.key),b=D($,h),(b===!1||b===te)&&(Re(d,$)!==void 0&&(i--,r--),n=d);return n}),Ge(q,"$shift",function(){var D=this;Le(D);var d=D.$$keys,n;return d.length>0?(n=d[0],n=n.$$is_string?n:n.key,[n,Re(D,n)]):te}),Ge(q,"$slice",function(D){var d,n,r=this;d=De(arguments),n=d;for(var s=Se(),i=0,$=n.length;i<$;i++){var h=n[i],b=he(r,h);b!==void 0&&Ze(s,h,b)}return s},-1),Ge(q,"$to_a",function(){for(var D=this,d=[],n=0,r=D.$$keys,s=r.length,i,$;n<s;n++)i=r[n],i.$$is_string?$=D.$$smap[i]:($=i.value,i=i.key),d.push([i,$]);return d}),Ge(q,"$to_h",function re(){var D=re.$$p||te,d=this;if(re.$$p=null,D!==te)return Te(d,"map",[],D.$to_proc()).$to_h();if(d.$$class===o.Hash)return d;var n=new o.Hash;return Me(n),o.hash_clone(d,n),n}),Ge(q,"$to_hash",fe),Ge(q,"$to_proc",function(){var D=this;return Te(D,"proc",[],function d(n){var r=d.$$s==null?this:d.$$s;return n==null&&Ie.$raise(me("ArgumentError"),"no key given"),r["$[]"](n)},{$$arity:-1,$$s:D})}),Ge(q,"$transform_keys",function re(){var D=re.$$p||te,d=this;if(re.$$p=null,!Fe(D))return Te(d,"enum_for",["transform_keys"],function b(){var B=b.$$s==null?this:b.$$s;return B.$size()},{$$s:d});for(var n=Se(),r=0,s=d.$$keys,i=s.length,$,h;r<i;r++)$=s[r],$.$$is_string?h=d.$$smap[$]:(h=$.value,$=$.key),$=Z(D,$),Ze(n,$,h);return n}),Ge(q,"$transform_keys!",function re(){var D=re.$$p||te,d=this;if(re.$$p=null,!Fe(D))return Te(d,"enum_for",["transform_keys!"],function b(){var B=b.$$s==null?this:b.$$s;return B.$size()},{$$s:d});Le(d);var n=o.slice(d.$$keys),r,s=n.length,i,$,h;for(r=0;r<s;r++)i=n[r],i.$$is_string?$=d.$$smap[i]:($=i.value,i=i.key),h=Z(D,i),Re(d,i),Ze(d,h,$);return d}),Ge(q,"$transform_values",function re(){var D=re.$$p||te,d=this;if(re.$$p=null,!Fe(D))return Te(d,"enum_for",["transform_values"],function b(){var B=b.$$s==null?this:b.$$s;return B.$size()},{$$s:d});for(var n=Se(),r=0,s=d.$$keys,i=s.length,$,h;r<i;r++)$=s[r],$.$$is_string?h=d.$$smap[$]:(h=$.value,$=$.key),h=Z(D,h),Ze(n,$,h);return n}),Ge(q,"$transform_values!",function re(){var D=re.$$p||te,d=this;if(re.$$p=null,!Fe(D))return Te(d,"enum_for",["transform_values!"],function h(){var b=h.$$s==null?this:h.$$s;return b.$size()},{$$s:d});Le(d);for(var n=0,r=d.$$keys,s=r.length,i,$;n<s;n++)i=r[n],i.$$is_string?$=d.$$smap[i]:($=i.value,i=i.key),$=Z(D,$),Ze(d,i,$);return d}),Ge(q,"$values",function(){for(var D=this,d=[],n=0,r=D.$$keys,s=r.length,i;n<s;n++)i=r[n],i.$$is_string?d.push(D.$$smap[i]):d.push(i.value);return d}),_e(q,"dup","clone"),_e(q,"each_pair","each"),_e(q,"eql?","=="),_e(q,"filter","select"),_e(q,"filter!","select!"),_e(q,"include?","has_key?"),_e(q,"indices","indexes"),_e(q,"key","index"),_e(q,"key?","has_key?"),_e(q,"member?","has_key?"),_e(q,"size","length"),_e(q,"store","[]="),_e(q,"to_s","inspect"),_e(q,"update","merge!"),_e(q,"value?","has_value?"),_e(q,"values_at","indexes")}("::",null,Ee)};Opal.modules["corelib/number"]=function(o){var Z=o.klass,Se=o.Opal,Me=o.Kernel,he=o.def,Ze=o.eqeqeq,Re=o.truthy,Le=o.rb_gt,ye=o.not,G=o.rb_lt,De=o.alias,Pe=o.send2,Ie=o.find_super,je=o.send,Ge=o.rb_plus,Te=o.rb_minus,se=o.eqeq,qe=o.return_self,We=o.rb_divide,Fe=o.to_ary,xe=o.rb_times,fe=o.rb_le,_e=o.rb_ge,$e=o.return_val,Ee=o.const_set,te=o.top,me=[],X=o.nil,m=o.$$$;return o.add_stubs("require,bridge,raise,name,class,Float,respond_to?,coerce_to!,__coerced__,===,>,!,**,new,<,to_f,==,nan?,infinite?,enum_for,+,-,gcd,lcm,%,/,frexp,to_i,ldexp,rationalize,*,<<,to_r,truncate,-@,size,<=,>=,inspect,angle,to_s,is_a?,abs,__id__,next,coerce_to?"),te.$require("corelib/numeric"),function(ae,q,J){var N=Z(ae,q,"Number"),ze=[N].concat(J);Se.$bridge(Number,N),o.prop(N.$$prototype,"$$is_number",!0),N.$$is_number_class=!0,function(s,i){return he(s,"$allocate",function(){var h=this;return Me.$raise(m("TypeError"),"allocator undefined for "+h.$name())}),o.udef(s,"$new"),X}(o.get_singleton_class(N),ze),he(N,"$coerce",function(i){var $=this;if(i===X)Me.$raise(m("TypeError"),"can't convert "+i.$class()+" into Float");else{if(i.$$is_string)return[Me.$Float(i),$];if(i["$respond_to?"]("to_f"))return[Se["$coerce_to!"](i,m("Float"),"to_f"),$];if(i.$$is_number)return[i,$];Me.$raise(m("TypeError"),"can't convert "+i.$class()+" into Float")}}),he(N,"$__id__",function(){var i=this;return i*2+1}),he(N,"$+",function(i){var $=this;return i.$$is_number?$+i:$.$__coerced__("+",i)}),he(N,"$-",function(i){var $=this;return i.$$is_number?$-i:$.$__coerced__("-",i)}),he(N,"$*",function(i){var $=this;return i.$$is_number?$*i:$.$__coerced__("*",i)}),he(N,"$/",function(i){var $=this;return i.$$is_number?$/i:$.$__coerced__("/",i)}),he(N,"$%",function(i){var $=this;if(i.$$is_number){if(i==-1/0)return i;if(i==0)Me.$raise(m("ZeroDivisionError"),"divided by 0");else return i<0||$<0?($%i+i)%i:$%i}else return $.$__coerced__("%",i)}),he(N,"$&",function(i){var $=this;return i.$$is_number?$&i:$.$__coerced__("&",i)}),he(N,"$|",function(i){var $=this;return i.$$is_number?$|i:$.$__coerced__("|",i)}),he(N,"$^",function(i){var $=this;return i.$$is_number?$^i:$.$__coerced__("^",i)}),he(N,"$<",function(i){var $=this;return i.$$is_number?$<i:$.$__coerced__("<",i)}),he(N,"$<=",function(i){var $=this;return i.$$is_number?$<=i:$.$__coerced__("<=",i)}),he(N,"$>",function(i){var $=this;return i.$$is_number?$>i:$.$__coerced__(">",i)}),he(N,"$>=",function(i){var $=this;return i.$$is_number?$>=i:$.$__coerced__(">=",i)});var re=function(s,i){return i.$$is_number?isNaN(s)||isNaN(i)?X:s>i?1:s<i?-1:0:s.$__coerced__("<=>",i)};he(N,"$<=>",function(i){var $=this;try{return re($,i)}catch(h){if(o.rescue(h,[m("ArgumentError")]))try{return X}finally{o.pop_exception()}else throw h}}),he(N,"$<<",function(i){var $=this;return i=Se["$coerce_to!"](i,m("Integer"),"to_int"),i>0?$<<i:$>>-i}),he(N,"$>>",function(i){var $=this;return i=Se["$coerce_to!"](i,m("Integer"),"to_int"),i>0?$>>i:$<<-i}),he(N,"$[]",function(i){var $=this;return i=Se["$coerce_to!"](i,m("Integer"),"to_int"),i<0?0:i>=32?$<0?1:0:$>>i&1}),he(N,"$+@",function(){var i=this;return+i}),he(N,"$-@",function(){var i=this;return-i}),he(N,"$~",function(){var i=this;return~i}),he(N,"$**",function(i){var $=this;return Ze(m("Integer"),i)?ye(m("Integer")["$==="]($))||Re(Le(i,0))?Math.pow($,i):m("Rational").$new($,1)["$**"](i):G($,0)&&(Ze(m("Float"),i)||Ze(m("Rational"),i))?m("Complex").$new($,0)["$**"](i.$to_f()):Re(i.$$is_number!=null)?Math.pow($,i):$.$__coerced__("**",i)}),he(N,"$==",function(i){var $=this;return i.$$is_number?$.valueOf()===i.valueOf():i["$respond_to?"]("==")?i["$=="]($):!1}),De(N,"===","=="),he(N,"$abs",function(){var i=this;return Math.abs(i)}),he(N,"$abs2",function(){var i=this;return Math.abs(i*i)}),he(N,"$allbits?",function(i){var $=this;return i=Se["$coerce_to!"](i,m("Integer"),"to_int"),($&i)==i}),he(N,"$anybits?",function(i){var $=this;return i=Se["$coerce_to!"](i,m("Integer"),"to_int"),($&i)!==0}),he(N,"$angle",function(){var i=this;return Re(i["$nan?"]())?i:i==0?1/i>0?0:Math.PI:i<0?Math.PI:0}),he(N,"$bit_length",function(){var i=this;if(Ze(m("Integer"),i)||Me.$raise(m("NoMethodError").$new("undefined method `bit_length` for "+i+":Float","bit_length")),i===0||i===-1)return 0;for(var $=0,h=i<0?~i:i;h!=0;)$+=1,h>>>=1;return $}),he(N,"$ceil",function(i){var $=this;i==null&&(i=0);var h=$.$to_f();if(h%1===0&&i>=0)return h;var b=Math.pow(10,i),B=Math.ceil(h*b)/b;return h%1===0&&(B=Math.round(B)),B},-1),he(N,"$chr",function(i){var $=this;return o.enc(String.fromCharCode($),i||"BINARY")},-1),he(N,"$denominator",function s(){var i=s.$$p||X,$=this;return s.$$p=null,Re($["$nan?"]())||Re($["$infinite?"]())?1:Pe($,Ie($,"denominator",s,!1,!0),"denominator",[],i)}),he(N,"$downto",function s(i){var $=s.$$p||X,h=this;if(s.$$p=null,$===X)return je(h,"enum_for",["downto",i],function B(){var pe=B.$$s==null?this:B.$$s;return Ze(m("Numeric"),i)||Me.$raise(m("ArgumentError"),"comparison of "+pe.$class()+" with "+i.$class()+" failed"),Re(Le(i,pe))?0:Ge(Te(pe,i),1)},{$$s:h});i.$$is_number||Me.$raise(m("ArgumentError"),"comparison of "+h.$class()+" with "+i.$class()+" failed");for(var b=h;b>=i;b--)$(b);return h}),he(N,"$equal?",function(i){var $=this,h=X;return Re(h=$["$=="](i))?h:isNaN($)&&isNaN(i)}),he(N,"$even?",function(){var i=this;return i%2===0}),he(N,"$floor",function(i){var $=this;i==null&&(i=0);var h=$.$to_f();if(h%1===0&&i>=0)return h;var b=Math.pow(10,i),B=Math.floor(h*b)/b;return h%1===0&&(B=Math.round(B)),B},-1),he(N,"$gcd",function(i){var $=this;Ze(m("Integer"),i)||Me.$raise(m("TypeError"),"not an integer");for(var h=Math.abs($),b=Math.abs(i);h>0;){var B=h;h=b%h,b=B}return b}),he(N,"$gcdlcm",function(i){var $=this;return[$.$gcd(i),$.$lcm(i)]}),he(N,"$integer?",function(){var i=this;return i%1===0}),he(N,"$is_a?",function s(i){var $=s.$$p||X,h=this;return s.$$p=null,se(i,m("Integer"))&&Ze(m("Integer"),h)||se(i,m("Integer"))&&Ze(m("Integer"),h)||se(i,m("Float"))&&Ze(m("Float"),h)?!0:Pe(h,Ie(h,"is_a?",s,!1,!0),"is_a?",[i],$)}),he(N,"$instance_of?",function s(i){var $=s.$$p||X,h=this;return s.$$p=null,se(i,m("Integer"))&&Ze(m("Integer"),h)||se(i,m("Integer"))&&Ze(m("Integer"),h)||se(i,m("Float"))&&Ze(m("Float"),h)?!0:Pe(h,Ie(h,"instance_of?",s,!1,!0),"instance_of?",[i],$)}),he(N,"$lcm",function(i){var $=this;return Ze(m("Integer"),i)||Me.$raise(m("TypeError"),"not an integer"),$==0||i==0?0:Math.abs($*i/$.$gcd(i))}),he(N,"$next",function(){var i=this;return i+1}),he(N,"$nobits?",function(i){var $=this;return i=Se["$coerce_to!"](i,m("Integer"),"to_int"),($&i)==0}),he(N,"$nonzero?",function(){var i=this;return i==0?X:i}),he(N,"$numerator",function s(){var i=s.$$p||X,$=this;return s.$$p=null,Re($["$nan?"]())||Re($["$infinite?"]())?$:Pe($,Ie($,"numerator",s,!1,!0),"numerator",[],i)}),he(N,"$odd?",function(){var i=this;return i%2!==0}),he(N,"$ord",qe),he(N,"$pow",function(i,$){var h=this;return h==0&&Me.$raise(m("ZeroDivisionError"),"divided by 0"),$===void 0?h["$**"](i):(m("Integer")["$==="](i)||Me.$raise(m("TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),i<0&&Me.$raise(m("TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),m("Integer")["$==="]($)||Me.$raise(m("TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),$===0&&Me.$raise(m("ZeroDivisionError"),"divided by 0"),h["$**"](i)["$%"]($))},-2),he(N,"$pred",function(){var i=this;return i-1}),he(N,"$quo",function s(i){var $=s.$$p||X,h=this;return s.$$p=null,Ze(m("Integer"),h)?Pe(h,Ie(h,"quo",s,!1,!0),"quo",[i],$):We(h,i)}),he(N,"$rationalize",function(i){var $,h,b=this,B=X,pe=X;return arguments.length>1&&Me.$raise(m("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),Ze(m("Integer"),b)?m("Rational").$new(b,1):Re(b["$infinite?"]())?Me.$raise(m("FloatDomainError"),"Infinity"):Re(b["$nan?"]())?Me.$raise(m("FloatDomainError"),"NaN"):Re(i==null)?(h=m("Math").$frexp(b),$=Fe(h),B=$[0]==null?X:$[0],pe=$[1]==null?X:$[1],B=m("Math").$ldexp(B,m(m("Float"),"MANT_DIG")).$to_i(),pe=Te(pe,m(m("Float"),"MANT_DIG")),m("Rational").$new(xe(2,B),1["$<<"](Te(1,pe))).$rationalize(m("Rational").$new(1,1["$<<"](Te(1,pe))))):b.$to_r().$rationalize(i)},-1),he(N,"$remainder",function(i){var $=this;return Te($,xe(i,We($,i).$truncate()))}),he(N,"$round",function(i){var $,h,b=this,B=X,pe=X;if(Ze(m("Integer"),b)){if(Re(i==null)||(Ze(m("Float"),i)&&Re(i["$infinite?"]())&&Me.$raise(m("RangeError"),"Infinity"),i=Se["$coerce_to!"](i,m("Integer"),"to_int"),Re(G(i,m(m("Integer"),"MIN")))&&Me.$raise(m("RangeError"),"out of bounds"),Re(i>=0)))return b;if(i=i["$-@"](),.415241*i-.125>b.$size())return 0;var Oe=Math.pow(10,i),ot=Math.floor((Math.abs(b)+Oe/2)/Oe)*Oe;return b<0?-ot:ot}else{if(Re(b["$nan?"]())&&Re(i==null)&&Me.$raise(m("FloatDomainError"),"NaN"),i=Se["$coerce_to!"](i||0,m("Integer"),"to_int"),Re(fe(i,0)))Re(b["$nan?"]())?Me.$raise(m("RangeError"),"NaN"):Re(b["$infinite?"]())&&Me.$raise(m("FloatDomainError"),"Infinity");else{if(se(i,0))return Math.round(b);if(Re(b["$nan?"]())||Re(b["$infinite?"]()))return b}return h=m("Math").$frexp(b),$=Fe(h),B=$[0]==null?X:$[0],pe=$[1]==null?X:$[1],Re(_e(i,Te(Ge(m(m("Float"),"DIG"),2),Re(Le(pe,0))?We(pe,4):Te(We(pe,3),1))))?b:Re(G(i,(Re(Le(pe,0))?Ge(We(pe,3),1):We(pe,4))["$-@"]()))?0:Math.round(b*Math.pow(10,i))/Math.pow(10,i)}},-1),he(N,"$times",function s(){var i=s.$$p||X,$=this;if(s.$$p=null,!Re(i))return je($,"enum_for",["times"],function b(){var B=b.$$s==null?this:b.$$s;return B},{$$s:$});for(var h=0;h<$;h++)i(h);return $}),he(N,"$to_f",qe),he(N,"$to_i",function(){var i=this;return i<0?Math.ceil(i):Math.floor(i)}),he(N,"$to_r",function(){var i,$,h=this,b=X,B=X;return Ze(m("Integer"),h)?m("Rational").$new(h,1):($=m("Math").$frexp(h),i=Fe($),b=i[0]==null?X:i[0],B=i[1]==null?X:i[1],b=m("Math").$ldexp(b,m(m("Float"),"MANT_DIG")).$to_i(),B=Te(B,m(m("Float"),"MANT_DIG")),xe(b,m(m("Float"),"RADIX")["$**"](B)).$to_r())}),he(N,"$to_s",function(i){var $=this;return i==null&&(i=10),i=Se["$coerce_to!"](i,m("Integer"),"to_int"),(Re(G(i,2))||Re(Le(i,36)))&&Me.$raise(m("ArgumentError"),"invalid radix "+i),se($,0)&&Re(1/$===-1/0)?"-0.0":$.toString(i)},-1),he(N,"$truncate",function(i){var $=this;i==null&&(i=0);var h=$.$to_f();if(h%1===0&&i>=0)return h;var b=Math.pow(10,i),B=parseInt(h*b,10)/b;return h%1===0&&(B=Math.round(B)),B},-1),he(N,"$digits",function(i){var $=this;i==null&&(i=10),G($,0)&&Me.$raise(m(m("Math"),"DomainError"),"out of domain"),i=Se["$coerce_to!"](i,m("Integer"),"to_int"),Re(G(i,2))&&Me.$raise(m("ArgumentError"),"invalid radix "+i),$!=parseInt($)&&Me.$raise(m("NoMethodError"),"undefined method `digits' for "+$.$inspect());var h=$,b=[];if($==0)return[0];for(;h!=0;)b.push(h%i),h=parseInt(h/i,10);return b},-1),he(N,"$divmod",function s(i){var $=s.$$p||X,h=this;return s.$$p=null,Re(h["$nan?"]())||Re(i["$nan?"]())?Me.$raise(m("FloatDomainError"),"NaN"):Re(h["$infinite?"]())?Me.$raise(m("FloatDomainError"),"Infinity"):Pe(h,Ie(h,"divmod",s,!1,!0),"divmod",[i],$)}),he(N,"$upto",function s(i){var $=s.$$p||X,h=this;if(s.$$p=null,$===X)return je(h,"enum_for",["upto",i],function B(){var pe=B.$$s==null?this:B.$$s;return Ze(m("Numeric"),i)||Me.$raise(m("ArgumentError"),"comparison of "+pe.$class()+" with "+i.$class()+" failed"),Re(G(i,pe))?0:Ge(Te(i,pe),1)},{$$s:h});i.$$is_number||Me.$raise(m("ArgumentError"),"comparison of "+h.$class()+" with "+i.$class()+" failed");for(var b=h;b<=i;b++)$(b);return h}),he(N,"$zero?",function(){var i=this;return i==0}),he(N,"$size",$e(4)),he(N,"$nan?",function(){var i=this;return isNaN(i)}),he(N,"$finite?",function(){var i=this;return i!=1/0&&i!=-1/0&&!isNaN(i)}),he(N,"$infinite?",function(){var i=this;return i==1/0?1:i==-1/0?-1:X}),he(N,"$positive?",function(){var i=this;return i!=0&&(i==1/0||1/i>0)}),he(N,"$negative?",function(){var i=this;return i==-1/0||1/i<0});function D(s){var i=new Uint8Array(8);return new DataView(i.buffer).setFloat64(0,s,!0),i}function d(s){return new DataView(s.buffer).getFloat64(0,!0)}function n(s){for(var i=D(s),$=0;$<i.length;$++)if(i[$]===255)i[$]=0;else{i[$]++;break}return d(i)}function r(s){for(var i=D(s),$=0;$<i.length;$++)if(i[$]===0)i[$]=255;else{i[$]--;break}return d(i)}return he(N,"$next_float",function(){var i=this;return se(i,m(m("Float"),"INFINITY"))?m(m("Float"),"INFINITY"):Re(i["$nan?"]())?m(m("Float"),"NAN"):_e(i,0)?n(Math.abs(i)):r(i)}),he(N,"$prev_float",function(){var i=this;return se(i,m(m("Float"),"INFINITY")["$-@"]())?m(m("Float"),"INFINITY")["$-@"]():Re(i["$nan?"]())?m(m("Float"),"NAN"):Le(i,0)?r(i):-n(Math.abs(i))}),De(N,"arg","angle"),De(N,"eql?","=="),De(N,"fdiv","/"),De(N,"inspect","to_s"),De(N,"kind_of?","is_a?"),De(N,"magnitude","abs"),De(N,"modulo","%"),De(N,"object_id","__id__"),De(N,"phase","angle"),De(N,"succ","next"),De(N,"to_int","to_i")}("::",m("Numeric"),me),Ee("::","Fixnum",m("Number")),function(ae,q,J){var N=Z(ae,q,"Integer"),ze=[N].concat(J);return N.$$is_number_class=!0,N.$$is_integer_class=!0,function(re,D){var d=[re].concat(D),n=o.$r(d);return he(re,"$allocate",function(){var s=this;return Me.$raise(m("TypeError"),"allocator undefined for "+s.$name())}),o.udef(re,"$new"),he(re,"$sqrt",function(s){return s=Se["$coerce_to!"](s,m("Integer"),"to_int"),s<0&&Me.$raise(m(m("Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt(s),10)}),he(re,"$try_convert",function(s){var i=this;return n("Opal")["$coerce_to?"](s,i,"to_int")})}(o.get_singleton_class(N),ze),Ee(N,"MAX",Math.pow(2,30)-1),Ee(N,"MIN",-Math.pow(2,30))}("::",m("Numeric"),me),function(ae,q,J){var N=Z(ae,q,"Float"),ze=[N].concat(J);return N.$$is_number_class=!0,function(re,D){return he(re,"$allocate",function(){var n=this;return Me.$raise(m("TypeError"),"allocator undefined for "+n.$name())}),o.udef(re,"$new"),he(re,"$===",function(n){return!!n.$$is_number})}(o.get_singleton_class(N),ze),Ee(N,"INFINITY",1/0),Ee(N,"MAX",Number.MAX_VALUE),Ee(N,"MIN",Number.MIN_VALUE),Ee(N,"NAN",NaN),Ee(N,"DIG",15),Ee(N,"MANT_DIG",53),Ee(N,"RADIX",2),Ee(N,"EPSILON",Number.EPSILON||2220446049250313e-31)}("::",m("Numeric"),me)};Opal.modules["corelib/range"]=function(o){var Z=o.klass,Se=o.truthy,Me=o.Kernel,he=o.def,Ze=o.not,Re=o.send2,Le=o.find_super,ye=o.rb_lt,G=o.rb_le,De=o.send,Pe=o.eqeq,Ie=o.eqeqeq,je=o.return_ivar,Ge=o.rb_gt,Te=o.rb_minus,se=o.Opal,qe=o.rb_divide,We=o.rb_plus,Fe=o.rb_times,xe=o.rb_ge,fe=o.thrower,_e=o.alias,$e=o.top,Ee=[],te=o.nil,me=o.$$$;return o.add_stubs("require,include,attr_reader,raise,nil?,<=>,include?,!,<,<=,enum_for,size,upto,to_proc,respond_to?,class,succ,==,===,exclude_end?,eql?,begin,end,last,to_a,>,-@,-,to_i,coerce_to!,ceil,/,is_a?,new,loop,+,*,>=,each_with_index,%,step,bsearch,inspect,[],hash,cover?"),$e.$require("corelib/enumerable"),function(X,m,ae){var q=Z(X,m,"Range"),J=[q].concat(ae),N=o.$r(J),ze=q.$$prototype;ze.begin=ze.end=ze.excl=te,q.$include(me("Enumerable")),q.$$prototype.$$is_range=!0,q.$attr_reader("begin","end"),he(q,"$initialize",function(d,n,r){var s=this;return r==null&&(r=!1),Se(s.begin)&&Me.$raise(me("NameError"),"'initialize' called twice"),Se(d["$<=>"](n))||Se(d["$nil?"]())||Se(n["$nil?"]())||Me.$raise(me("ArgumentError"),"bad value for range"),s.begin=d,s.end=n,s.excl=r},-3),he(q,"$===",function(d){var n=this;return n["$include?"](d)});function re(D){return D.begin===te||D.end===te||D.begin===-1/0||D.end===1/0||D.begin===1/0||D.end===-1/0}return he(q,"$count",function D(){var d=D.$$p||te,n=this;return D.$$p=null,Ze(d!==te)&&Se(re(n))?me(me("Float"),"INFINITY"):Re(n,Le(n,"count",D,!1,!0),"count",[],d)}),he(q,"$to_a",function D(){var d=D.$$p||te,n=this;return D.$$p=null,Se(re(n))&&Me.$raise(me("TypeError"),"cannot convert endless range to an array"),Re(n,Le(n,"to_a",D,!1,!0),"to_a",[],d)}),he(q,"$cover?",function(d){var n=this,r=te,s=te,i=te,$=te,h=te;return r=Se(s=Se(i=Se($=n.begin["$nil?"]())?-1:$)?i:n.begin["$<=>"](d))&&s,h=Se(s=Se(i=Se($=n.end["$nil?"]())?-1:$)?i:d["$<=>"](n.end))&&s,Se(s=Se(i=Se(n.excl)?Se($=h)?ye(h,0):$:Se($=h)?G(h,0):$)?r:i)?G(r,0):s}),he(q,"$each",function D(){var d=D.$$p||te,n=this,r=te,s=te,i=te;if(D.$$p=null,d===te)return De(n,"enum_for",["each"],function b(){var B=b.$$s==null?this:b.$$s;return B.$size()},{$$s:n});var $,h;if(n.begin.$$is_number&&n.end.$$is_number){for((n.begin%1!==0||n.end%1!==0)&&Me.$raise(me("TypeError"),"can't iterate from Float"),$=n.begin,h=n.end+(Se(n.excl)?0:1);$<h;$++)d($);return n}if(n.begin.$$is_string&&n.end.$$is_string)return De(n.begin,"upto",[n.end,n.excl],d.$to_proc()),n;for(r=n.begin,s=n.end,Se(r["$respond_to?"]("succ"))||Me.$raise(me("TypeError"),"can't iterate from "+r.$class());Se(Se(i=n.end["$nil?"]())?i:ye(r["$<=>"](s),0));)o.yield1(d,r),r=r.$succ();return Ze(n.excl)&&Pe(r,s)&&o.yield1(d,r),n}),he(q,"$eql?",function(d){var n=this,r=te,s=te;return Ie(me("Range"),d)?Se(r=Se(s=n.excl["$==="](d["$exclude_end?"]()))?n.begin["$eql?"](d.$begin()):s)?n.end["$eql?"](d.$end()):r:!1}),he(q,"$exclude_end?",je("excl")),he(q,"$first",function D(d){var n=D.$$p||te,r=this;return D.$$p=null,Se(r.begin["$nil?"]())&&Me.$raise(me("RangeError"),"cannot get the minimum of beginless range"),Se(d==null)?r.begin:Re(r,Le(r,"first",D,!1,!0),"first",[d],n)},-1),he(q,"$last",function(d){var n=this;return Se(n.end["$nil?"]())&&Me.$raise(me("RangeError"),"cannot get the maximum of endless range"),Se(d==null)?n.end:n.$to_a().$last(d)},-1),he(q,"$max",function D(){var d=D.$$p||te,n=this;return D.$$p=null,Se(n.end["$nil?"]())?Me.$raise(me("RangeError"),"cannot get the maximum of endless range"):d!==te?Re(n,Le(n,"max",D,!1,!0),"max",[],d):Ze(n.begin["$nil?"]())&&(Se(Ge(n.begin,n.end))||Se(n.excl)&&Pe(n.begin,n.end))?te:n.excl?n.end-1:n.end}),he(q,"$min",function D(){var d=D.$$p||te,n=this;return D.$$p=null,Se(n.begin["$nil?"]())?Me.$raise(me("RangeError"),"cannot get the minimum of beginless range"):d!==te?Re(n,Le(n,"min",D,!1,!0),"min",[],d):Ze(n.end["$nil?"]())&&(Se(Ge(n.begin,n.end))||Se(n.excl)&&Pe(n.begin,n.end))?te:n.begin}),he(q,"$size",function(){var d=this,n=te,r=te,s=te;return n=me(me("Float"),"INFINITY"),Pe(d.begin,n)&&Ze(d.end["$nil?"]())||Pe(d.end,n["$-@"]())&&Ze(d.begin["$nil?"]())?0:Se(re(d))?n:Ie(me("Numeric"),d.begin)&&Ie(me("Numeric"),d.end)?(r=d.begin,s=d.end,Se(d.excl)&&(s=Te(s,1)),Se(ye(s,r))?0:(Math.abs(s-r)+1).$to_i()):te}),he(q,"$step",function D(d){var n=D.$$p||te,r=this,s=te,i=te;D.$$p=null;function $(){d==null?d=1:d.$$is_number||(d=se["$coerce_to!"](d,me("Integer"),"to_int")),d<0?Me.$raise(me("ArgumentError"),"step can't be negative"):d===0&&Me.$raise(me("ArgumentError"),"step can't be 0")}function h(){if(!r.begin["$respond_to?"]("succ")||r.begin.$$is_string&&r.end.$$is_string)return te;if(d%1===0)return qe(r.$size(),d).$ceil();var b=r.begin,B=r.end,pe=Math.abs,Oe=Math.floor,ot=(pe(b)+pe(B)+pe(B-b))/pe(d)*me(me("Float"),"EPSILON"),lt;return ot>.5&&(ot=.5),r.excl?(lt=Oe((B-b)/d-ot),lt*d+b<B&&lt++):lt=Oe((B-b)/d+ot)+1,lt}return n===te?(Se(r.begin["$is_a?"](N("Numeric")))||Se(r.begin["$nil?"]()))&&(Se(r.end["$is_a?"](N("Numeric")))||Se(r.end["$nil?"]()))&&Ze(Se(s=r.begin["$nil?"]())?r.end["$nil?"]():s)?me(me("Enumerator"),"ArithmeticSequence").$new(r,d,"step"):De(r,"enum_for",["step",d],function(){return $(),h()}):($(),Se(r.begin.$$is_number&&r.end.$$is_number)?(i=0,function(){try{var b=fe("break");return De(r,"loop",[],function B(){var pe=B.$$s==null?this:B.$$s,Oe=te;return pe.begin==null&&(pe.begin=te),pe.excl==null&&(pe.excl=te),pe.end==null&&(pe.end=te),Oe=We(pe.begin,Fe(i,d)),Se(pe.excl)?Se(xe(Oe,pe.end))&&b.$throw():Se(Ge(Oe,pe.end))&&b.$throw(),o.yield1(n,Oe),i=We(i,1)},{$$s:r})}catch(B){if(B===b)return B.$v;throw B}}()):(r.begin.$$is_string&&r.end.$$is_string&&d%1!==0&&Me.$raise(me("TypeError"),"no implicit conversion to float from string"),De(r,"each_with_index",[],function(B,pe){return B==null&&(B=te),pe==null&&(pe=te),Pe(pe["$%"](d),0)?o.yield1(n,B):te})),r)},-1),he(q,"$%",function(d){var n=this;return Se(n.begin["$is_a?"](N("Numeric")))&&Se(n.end["$is_a?"](N("Numeric")))?me(me("Enumerator"),"ArithmeticSequence").$new(n,d,"%"):n.$step(d)}),he(q,"$bsearch",function D(){var d=D.$$p||te,n=this;return D.$$p=null,d===te?n.$enum_for("bsearch"):(Se(re(n)&&(n.begin.$$is_number||n.end.$$is_number))&&Me.$raise(me("NotImplementedError"),"Can't #bsearch an infinite range"),Se(n.begin.$$is_number&&n.end.$$is_number)||Me.$raise(me("TypeError"),"can't do binary search for "+n.begin.$class()),De(n.$to_a(),"bsearch",[],d.$to_proc()))}),he(q,"$to_s",function(){var d=this,n=te;return""+(Se(n=d.begin)?n:"")+(Se(d.excl)?"...":"..")+(Se(n=d.end)?n:"")}),he(q,"$inspect",function(){var d=this,n=te;return""+(Se(n=d.begin)?d.begin.$inspect():n)+(Se(d.excl)?"...":"..")+(Se(n=d.end)?d.end.$inspect():n)}),he(q,"$marshal_load",function(d){var n=this;return n.begin=d["$[]"]("begin"),n.end=d["$[]"]("end"),n.excl=d["$[]"]("excl")}),he(q,"$hash",function(){var d=this;return[d.begin,d.end,d.excl].$hash()}),_e(q,"==","eql?"),_e(q,"include?","cover?"),_e(q,"member?","cover?")}("::",null,Ee)};Opal.modules["corelib/proc"]=function(o){var Z=o.slice,Se=o.klass,Me=o.truthy,he=o.Kernel,Ze=o.defs,Re=o.def,Le=o.send,ye=o.to_a,G=o.return_self,De=o.ensure_kwargs,Pe=o.Opal,Ie=o.alias,je=o.nil,Ge=o.$$$;return o.add_stubs("raise,proc,call,to_proc,new,source_location,coerce_to!,dup"),function(Te,se){var qe=Se(Te,se,"Proc");return o.prop(qe.$$prototype,"$$is_proc",!0),o.prop(qe.$$prototype,"$$is_lambda",!1),Ze(qe,"$new",function We(){var Fe=We.$$p||je;return We.$$p=null,Me(Fe)||he.$raise(Ge("ArgumentError"),"tried to create a Proc object without a block"),Fe}),Re(qe,"$call",function We(Fe){var xe=We.$$p||je,fe,_e,$e=this;We.$$p=null,fe=Z(arguments),_e=fe,xe!==je&&($e.$$p=xe);var Ee,te=$e.$$brk,me=$e.$$ret;if(te||me&&$e.$$is_lambda)try{$e.$$is_lambda?Ee=$e.apply(null,_e):Ee=o.yieldX($e,_e)}catch(X){if(X===te)return X.$v;if($e.$$is_lambda&&X===me)return X.$v;throw X}else $e.$$is_lambda?Ee=$e.apply(null,_e):Ee=o.yieldX($e,_e);return Ee},-1),Re(qe,"$>>",function We(Fe){var xe=We.$$p||je,fe=this;return We.$$p=null,Le(he,"proc",[],function _e($e){var Ee=_e.$$p||je,te,me,X=_e.$$s==null?this:_e.$$s,m=je;return _e.$$p=null,te=Z(arguments),me=te,m=Le(X,"call",ye(me),Ee.$to_proc()),Fe.$call(m)},{$$arity:-1,$$s:fe})}),Re(qe,"$<<",function We(Fe){var xe=We.$$p||je,fe=this;return We.$$p=null,Le(he,"proc",[],function _e($e){var Ee=_e.$$p||je,te,me,X=_e.$$s==null?this:_e.$$s,m=je;return _e.$$p=null,te=Z(arguments),me=te,m=Le(Fe,"call",ye(me),Ee.$to_proc()),X.$call(m)},{$$arity:-1,$$s:fe})}),Re(qe,"$to_proc",G),Re(qe,"$lambda?",function(){var Fe=this;return!!Fe.$$is_lambda}),Re(qe,"$arity",function(){var Fe=this;return Fe.$$is_curried?-1:Fe.$$arity!=null?Fe.$$arity:Fe.length}),Re(qe,"$source_location",function(){var Fe=this,xe=je;return Fe.$$is_curried?je:Me(xe=Fe.$$source_location)?xe:je}),Re(qe,"$binding",function(){var Fe,xe=this;return xe.$$is_curried&&he.$raise(Ge("ArgumentError"),"Can't create Binding"),Me((Fe=Ge("::","Binding","skip_raise"))?"constant":je)?Ge("Binding").$new(je,[],xe.$$s,xe.$source_location()):je}),Re(qe,"$parameters",function(Fe){var xe,fe=this;if(Fe=De(Fe),xe=Fe.$$smap.lambda,fe.$$is_curried)return[["rest"]];if(fe.$$parameters){if(xe??fe.$$is_lambda)return fe.$$parameters;var _e=[],$e,Ee;for($e=0,Ee=fe.$$parameters.length;$e<Ee;$e++){var te=fe.$$parameters[$e];te[0]==="req"&&(te=["opt",te[1]]),_e.push(te)}return _e}else return[]},-1),Re(qe,"$curry",function(Fe){var xe=this;Fe===void 0?Fe=xe.length:(Fe=Pe["$coerce_to!"](Fe,Ge("Integer"),"to_int"),xe.$$is_lambda&&Fe!==xe.length&&he.$raise(Ge("ArgumentError"),"wrong number of arguments ("+Fe+" for "+xe.length+")"));function fe(){var _e=Z(arguments),$e=_e.length,Ee;return $e>Fe&&xe.$$is_lambda&&!xe.$$is_curried&&he.$raise(Ge("ArgumentError"),"wrong number of arguments ("+$e+" for "+Fe+")"),$e>=Fe?xe.$call.apply(xe,_e):(Ee=function(){return fe.apply(null,_e.concat(Z(arguments)))},Ee.$$is_lambda=xe.$$is_lambda,Ee.$$is_curried=!0,Ee)}return fe.$$is_lambda=xe.$$is_lambda,fe.$$is_curried=!0,fe},-1),Re(qe,"$dup",function(){var Fe=this,xe=Fe.$$original_proc||Fe,fe=function(){return xe.apply(this,arguments)};for(var _e in Fe)Fe.hasOwnProperty(_e)&&(fe[_e]=Fe[_e]);return fe}),Ie(qe,"===","call"),Ie(qe,"clone","dup"),Ie(qe,"yield","call"),Ie(qe,"[]","call")}("::",Function)};Opal.modules["corelib/method"]=function(o){var Z=o.klass,Se=o.def,Me=o.truthy,he=o.slice,Ze=o.alias,Re=o.Kernel,Le=o.send,ye=o.to_a,G=o.nil,De=o.$$$;return o.add_stubs("attr_reader,arity,curry,>>,<<,new,class,join,source_location,call,raise,bind,to_proc"),function(Pe,Ie){var je=Z(Pe,Ie,"Method"),Ge=je.$$prototype;return Ge.method=Ge.receiver=Ge.owner=Ge.name=G,je.$attr_reader("owner","receiver","name"),Se(je,"$initialize",function(se,qe,We,Fe){var xe=this;return xe.receiver=se,xe.owner=qe,xe.name=Fe,xe.method=We}),Se(je,"$arity",function(){var se=this;return se.method.$arity()}),Se(je,"$parameters",function(){var se=this;return se.method.$$parameters}),Se(je,"$source_location",function(){var se=this,qe=G;return Me(qe=se.method.$$source_location)?qe:["(eval)",0]}),Se(je,"$comments",function(){var se=this,qe=G;return Me(qe=se.method.$$comments)?qe:[]}),Se(je,"$call",function Te(se){var qe=Te.$$p||G,We,Fe,xe=this;return Te.$$p=null,We=he(arguments),Fe=We,xe.method.$$p=qe,xe.method.apply(xe.receiver,Fe)},-1),Se(je,"$curry",function(se){var qe=this;return qe.method.$curry(se)},-1),Se(je,"$>>",function(se){var qe=this;return qe.method["$>>"](se)}),Se(je,"$<<",function(se){var qe=this;return qe.method["$<<"](se)}),Se(je,"$unbind",function(){var se=this;return De("UnboundMethod").$new(se.receiver.$class(),se.owner,se.method,se.name)}),Se(je,"$to_proc",function(){var se=this,qe=se.$call.bind(se);return qe.$$unbound=se.method,qe.$$is_lambda=!0,qe.$$arity=se.method.$$arity==null?se.method.length:se.method.$$arity,qe.$$parameters=se.method.$$parameters,qe}),Se(je,"$inspect",function(){var se=this;return"#<"+se.$class()+": "+se.receiver.$class()+"#"+se.name+" (defined in "+se.owner+" in "+se.$source_location().$join(":")+")>"}),Ze(je,"[]","call"),Ze(je,"===","call")}("::",null),function(Pe,Ie){var je=Z(Pe,Ie,"UnboundMethod"),Ge=je.$$prototype;return Ge.method=Ge.owner=Ge.name=Ge.source=G,je.$attr_reader("source","owner","name"),Se(je,"$initialize",function(se,qe,We,Fe){var xe=this;return xe.source=se,xe.owner=qe,xe.method=We,xe.name=Fe}),Se(je,"$arity",function(){var se=this;return se.method.$arity()}),Se(je,"$parameters",function(){var se=this;return se.method.$$parameters}),Se(je,"$source_location",function(){var se=this,qe=G;return Me(qe=se.method.$$source_location)?qe:["(eval)",0]}),Se(je,"$comments",function(){var se=this,qe=G;return Me(qe=se.method.$$comments)?qe:[]}),Se(je,"$bind",function(se){var qe=this;if(qe.owner.$$is_module||o.is_a(se,qe.owner))return De("Method").$new(se,qe.owner,qe.method,qe.name);Re.$raise(De("TypeError"),"can't bind singleton method to a different class (expected "+se+".kind_of?("+qe.owner+" to be true)")}),Se(je,"$bind_call",function Te(se,qe){var We=Te.$$p||G,Fe,xe,fe=this;return Te.$$p=null,Fe=he(arguments,1),xe=Fe,Le(fe.$bind(se),"call",ye(xe),We.$to_proc())},-2),Se(je,"$inspect",function(){var se=this;return"#<"+se.$class()+": "+se.source+"#"+se.name+" (defined in "+se.owner+" in "+se.$source_location().$join(":")+")>"})}("::",null)};Opal.modules["corelib/variables"]=function(o){var Z=o.gvars,Se=o.const_set,Me=o.Object,he=o.hash2,Ze=o.nil;return o.add_stubs("new"),Z["&"]=Z["~"]=Z["`"]=Z["'"]=Ze,Z.LOADED_FEATURES=Z['"']=o.loaded_features,Z.LOAD_PATH=Z[":"]=[],Z["/"]=`
`,Z[","]=Ze,Se("::","ARGV",[]),Se("::","ARGF",Me.$new()),Se("::","ENV",he([],{})),Z.VERBOSE=!1,Z.DEBUG=!1,Z.SAFE=0};Opal.modules["corelib/io"]=function(o){var Z=o.klass,Se=o.const_set,Me=o.not,he=o.truthy,Ze=o.def,Re=o.return_ivar,Le=o.return_val,ye=o.slice,G=o.Kernel,De=o.gvars,Pe=o.send,Ie=o.to_a,je=o.rb_plus,Ge=o.neqeq,Te=o.range,se=o.hash2,qe=o.eqeq,We=o.to_ary,Fe=o.rb_gt,xe=o.assign_ivar_val,fe=o.alias,_e,$e=o.nil,Ee=o.$$$;o.add_stubs("attr_reader,attr_accessor,!,match?,include?,size,write,String,flatten,puts,sysread_noraise,+,!=,[],ord,getc,readchar,raise,gets,==,to_str,length,split,sub,sysread,>,to_a,each_line,enum_for,getbyte,closed_write?,closed_read?,each,eof,new,write_proc=,read_proc="),function(me,X){var m=Z(me,X,"IO"),ae=m.$$prototype;return ae.read_buffer=ae.closed=$e,Se(m,"SEEK_SET",0),Se(m,"SEEK_CUR",1),Se(m,"SEEK_END",2),Se(m,"SEEK_DATA",3),Se(m,"SEEK_HOLE",4),Se(m,"READABLE",1),Se(m,"WRITABLE",4),m.$attr_reader("eof"),m.$attr_accessor("read_proc","sync","tty","write_proc"),Ze(m,"$initialize",function(J,N){var ze=this;return N==null&&(N="r"),ze.fd=J,ze.flags=N,ze.eof=!1,he(N["$include?"]("r"))&&Me(N["$match?"](/[wa+]/))?ze.closed="write":he(N["$match?"](/[wa]/))&&Me(N["$match?"](/[r+]/))?ze.closed="read":$e},-2),Ze(m,"$fileno",Re("fd")),Ze(m,"$tty?",function(){var J=this;return J.tty==!0}),Ze(m,"$write",function(J){var N=this;return N.write_proc(J),J.$size()}),Ze(m,"$flush",Le($e)),Ze(m,"$<<",function(J){var N=this;return N.$write(J),N}),Ze(m,"$print",function(J){var N,ze,re=this;De[","]==null&&(De[","]=$e),N=ye(arguments),ze=N;for(var D=0,d=ze.length;D<d;D++)ze[D]=G.$String(ze[D]);return re.$write(ze.join(De[","])),$e},-1),Ze(m,"$puts",function(J){var N,ze,re=this;N=ye(arguments),ze=N;var D;if(ze.length===0)return re.$write(`
`),$e;for(var d=0,n=ze.length;d<n;d++)if(ze[d].$$is_array){var r=ze[d].$flatten();r.length>0&&Pe(re,"puts",Ie(r))}else ze[d].$$is_string?D=ze[d].valueOf():D=G.$String(ze[d]),D.endsWith(`
`)||(D+=`
`),re.$write(D);return $e},-1),Ze(m,"$getc",function(){var J=this,N=$e,ze=$e,re=$e;J.read_buffer=he(N=J.read_buffer)?N:"",ze="";do if(J.read_buffer=je(J.read_buffer,ze),Ge(J.read_buffer,""))return re=J.read_buffer["$[]"](0),J.read_buffer=J.read_buffer["$[]"](Te(1,-1,!1)),re;while(he(ze=J.$sysread_noraise(1)));return $e}),Ze(m,"$getbyte",function(){var J,N=this;return J=N.$getc(),J===$e||J==null?$e:J.$ord()}),Ze(m,"$readbyte",function(){var J=this;return J.$readchar().$ord()}),Ze(m,"$readchar",function(){var J=this,N=$e;return he(N=J.$getc())?N:G.$raise(Ee("EOFError"),"end of file reached")}),Ze(m,"$readline",function(J){var N,ze,re=this,D=$e;return N=ye(arguments),ze=N,he(D=Pe(re,"gets",Ie(ze)))?D:G.$raise(Ee("EOFError"),"end of file reached")},-1),Ze(m,"$gets",function(J,N,ze){var re,D,d=this,n=$e,r=$e,s=$e,i=$e,$=$e,h=$e;De["/"]==null&&(De["/"]=$e),J==null&&(J=!1),N==null&&(N=$e),ze==null&&(ze=se([],{})),he(J.$$is_number)&&Me(N)&&(re=[!1,J,N],J=re[0],N=re[1],ze=re[2]),he(J.$$is_hash)&&Me(N)&&qe(ze,se([],{}))?(re=[!1,$e,J],J=re[0],N=re[1],ze=re[2]):he(N.$$is_hash)&&qe(ze,se([],{}))&&(re=[J,$e,N],J=re[0],N=re[1],ze=re[2]),n=J,qe(J,!1)&&(J=De["/"]),qe(J,"")&&(J=/\r?\n\r?\n/),J=he(r=J)?r:"",qe(n,"")||(J=J.$to_str()),s=qe(n,"")?2:J.$length(),qe(J," ")&&(J=/ /),d.read_buffer=he(r=d.read_buffer)?r:"",i="",$=$e;do if(d.read_buffer=je(d.read_buffer,i),Ge(J,"")&&he(he(J.$$is_regexp)?d.read_buffer["$match?"](J):d.read_buffer["$include?"](J))){h=d.read_buffer,D=d.read_buffer.$split(J,2),re=We(D),$=re[0]==null?$e:re[0],d.read_buffer=re[1]==null?$e:re[1],Ge($,h)&&($=je($,h["$[]"]($.$length(),s)));break}while(he(i=d.$sysread_noraise(qe(J,"")?65536:1)));return he($)||(re=[he(r=d.read_buffer)?r:"",""],$=re[0],d.read_buffer=re[1],qe($,"")&&($=$e)),he($)&&(he(N)&&($=$["$[]"](o.Range.$new(0,N,!0)),d.read_buffer=je($["$[]"](o.Range.$new(N,-1,!1)),d.read_buffer)),he(ze["$[]"]("chomp"))&&($=$.$sub(/\r?\n$/,"")),qe(n,"")&&($=$.$sub(/^[\r\n]+/,""))),qe(n,!1)&&(De._=$),$},-1),Ze(m,"$sysread",function(J){var N=this,ze=$e;return he(ze=N.read_proc(J))?ze:(N.eof=!0,G.$raise(Ee("EOFError"),"end of file reached"))}),Ze(m,"$sysread_noraise",function(J){var N=this;try{return N.$sysread(J)}catch(ze){if(o.rescue(ze,[Ee("EOFError")]))try{return $e}finally{o.pop_exception()}else throw ze}}),Ze(m,"$readpartial",function(J){var N,ze=this,re=$e,D=$e,d=$e;return ze.read_buffer=he(re=ze.read_buffer)?re:"",D=ze.$sysread(J),N=[je(ze.read_buffer,he(re=D)?re:""),""],d=N[0],ze.read_buffer=N[1],qe(d,"")&&(d=$e),d}),Ze(m,"$read",function(J){var N,ze=this,re=$e,D=$e,d=$e;J==null&&(J=$e),ze.read_buffer=he(re=ze.read_buffer)?re:"",D="",d=$e;do if(ze.read_buffer=je(ze.read_buffer,D),he(J)&&he(Fe(ze.read_buffer.$length(),J)))return N=[ze.read_buffer["$[]"](o.Range.$new(0,J,!0)),ze.read_buffer["$[]"](o.Range.$new(J,-1,!1))],d=N[0],ze.read_buffer=N[1],d;while(he(D=ze.$sysread_noraise(he(re=J)?re:65536)));return N=[ze.read_buffer,""],d=N[0],ze.read_buffer=N[1],d},-1),Ze(m,"$readlines",function(J){var N=this;return De["/"]==null&&(De["/"]=$e),J==null&&(J=De["/"]),N.$each_line(J).$to_a()},-1),Ze(m,"$each",function q(J,N){var ze=q.$$p||$e,re,D,d,n=this,r=$e;if(De["/"]==null&&(De["/"]=$e),q.$$p=null,re=ye(arguments),re.length>0&&(D=re.shift()),D==null&&(D=De["/"]),d=re,ze===$e)return Pe(n,"enum_for",["each",D].concat(Ie(d)));for(;he(r=Pe(n,"gets",[D].concat(Ie(d))));)o.yield1(ze,r);return n},-1),Ze(m,"$each_byte",function q(){var J=q.$$p||$e,N=this,ze=$e;if(q.$$p=null,J===$e)return N.$enum_for("each_byte");for(;he(ze=N.$getbyte());)o.yield1(J,ze);return N}),Ze(m,"$each_char",function q(){var J=q.$$p||$e,N=this,ze=$e;if(q.$$p=null,J===$e)return N.$enum_for("each_char");for(;he(ze=N.$getc());)o.yield1(J,ze);return N}),Ze(m,"$close",xe("closed","both")),Ze(m,"$close_read",function(){var J=this;return qe(J.closed,"write")?J.closed="both":J.closed="read"}),Ze(m,"$close_write",function(){var J=this;return qe(J.closed,"read")?J.closed="both":J.closed="write"}),Ze(m,"$closed?",function(){var J=this;return J.closed["$=="]("both")}),Ze(m,"$closed_read?",function(){var J=this,N=$e;return he(N=J.closed["$=="]("read"))?N:J.closed["$=="]("both")}),Ze(m,"$closed_write?",function(){var J=this,N=$e;return he(N=J.closed["$=="]("write"))?N:J.closed["$=="]("both")}),Ze(m,"$check_writable",function(){var J=this;return he(J["$closed_write?"]())?G.$raise(Ee("IOError"),"not opened for writing"):$e}),Ze(m,"$check_readable",function(){var J=this;return he(J["$closed_read?"]())?G.$raise(Ee("IOError"),"not opened for reading"):$e}),fe(m,"each_line","each"),fe(m,"eof?","eof")}("::",null),Se("::","STDIN",De.stdin=Ee("IO").$new(0,"r")),Se("::","STDOUT",De.stdout=Ee("IO").$new(1,"w")),Se("::","STDERR",De.stderr=Ee("IO").$new(2,"w"));var te=o.global.console;return Ee("STDOUT")["$write_proc="](typeof process=="object"&&typeof process.stdout=="object"?function(me){process.stdout.write(me)}:function(me){te.log(me)}),Ee("STDERR")["$write_proc="](typeof process=="object"&&typeof process.stderr=="object"?function(me){process.stderr.write(me)}:function(me){te.warn(me)}),_e=[function(me){var X=prompt();return X!==null?X+`
`:$e}],Pe(Ee("STDIN"),"read_proc=",_e),_e[_e.length-1]};Opal.modules["opal/regexp_anchors"]=function(o){var Z=o.module,Se=o.const_set,Me=[],he=o.nil,Ze=o.$$$;return o.add_stubs("new"),function(Re,Le){var ye=Z(Re,"Opal"),G=[ye].concat(Le),De=o.$r(G);return Se(ye,"REGEXP_START","^"),Se(ye,"REGEXP_END","$"),Se(ye,"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),Se(ye,"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),Se(ye,"INLINE_IDENTIFIER_REGEXP",De("Regexp").$new("[^"+Ze(ye,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+Ze(ye,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),Se(ye,"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),Se(ye,"CONST_NAME_REGEXP",De("Regexp").$new(""+Ze(ye,"REGEXP_START")+"(::)?[A-Z][^"+Ze(ye,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+Ze(ye,"REGEXP_END")))}(Me[0],Me)};Opal.modules["opal/mini"]=function(o){var Z=o.Object,Se=o.nil;return o.add_stubs("require"),Z.$require("opal/base"),Z.$require("corelib/nil"),Z.$require("corelib/boolean"),Z.$require("corelib/string"),Z.$require("corelib/comparable"),Z.$require("corelib/enumerable"),Z.$require("corelib/enumerator"),Z.$require("corelib/array"),Z.$require("corelib/hash"),Z.$require("corelib/number"),Z.$require("corelib/range"),Z.$require("corelib/proc"),Z.$require("corelib/method"),Z.$require("corelib/regexp"),Z.$require("corelib/variables"),Z.$require("corelib/io"),Z.$require("opal/regexp_anchors")};Opal.modules["corelib/kernel/format"]=function(o){var Z=o.coerce_to,Se=o.module,Me=o.slice,he=o.truthy,Ze=o.eqeq,Re=o.Opal,Le=o.Kernel,ye=o.gvars,G=o.def,De=o.alias,Pe=o.nil,Ie=o.$$$;return o.add_stubs("respond_to?,[],==,length,coerce_to?,nil?,to_a,raise,to_int,fetch,Integer,Float,to_ary,to_str,inspect,to_s,format"),function(je){var Ge=Se(je,"Kernel");return G(Ge,"$format",function(se,qe){var We,Fe,xe=Pe;ye.DEBUG==null&&(ye.DEBUG=Pe),We=Me(arguments,1),Fe=We,Ze(Fe.$length(),1)&&he(Fe["$[]"](0)["$respond_to?"]("to_ary"))&&(xe=Re["$coerce_to?"](Fe["$[]"](0),Ie("Array"),"to_ary"),he(xe["$nil?"]())||(Fe=xe.$to_a()));var fe="",_e=0,$e,Ee,te=se.length,me,X,m,ae,q,J,N,ze,re,D,d,n,r,s=1,i=0,$,h=0,b=1,B=2,pe=4,Oe=8,ot=16,lt=32,pt=64,dt=128;function bt(){$&lt&&Le.$raise(Ie("ArgumentError"),"flag after width"),$&dt&&Le.$raise(Ie("ArgumentError"),"flag after precision")}function ht(){$&lt&&Le.$raise(Ie("ArgumentError"),"width given twice"),$&dt&&Le.$raise(Ie("ArgumentError"),"width after precision")}function vt(f){return f>=Fe.length&&Le.$raise(Ie("ArgumentError"),"too few arguments"),Fe[f]}function gt(){switch(i){case-1:Le.$raise(Ie("ArgumentError"),"unnumbered("+s+") mixed with numbered");case-2:Le.$raise(Ie("ArgumentError"),"unnumbered("+s+") mixed with named")}return i=s++,vt(i-1)}function tt(f){return i>0&&Le.$raise(Ie("ArgumentError"),"numbered("+f+") after unnumbered("+i+")"),i===-2&&Le.$raise(Ie("ArgumentError"),"numbered("+f+") after named"),f<1&&Le.$raise(Ie("ArgumentError"),"invalid index - "+f+"$"),i=-1,vt(f-1)}function le(){return r===void 0?gt():r}function be(f){for(var k,V="";;Ee++){if(Ee===te&&Le.$raise(Ie("ArgumentError"),"malformed format string - %*[0-9]"),se.charCodeAt(Ee)<48||se.charCodeAt(Ee)>57)return Ee--,k=parseInt(V,10)||0,k>2147483647&&Le.$raise(Ie("ArgumentError"),""+f+" too big"),k;V+=se.charAt(Ee)}}function Ne(f){var k,V=be(f);return se.charAt(Ee+1)==="$"?(Ee++,k=tt(V)):k=gt(),k.$to_int()}for(Ee=se.indexOf("%");Ee!==-1;Ee=se.indexOf("%",Ee)){switch(X=void 0,$=h,ae=-1,q=-1,r=void 0,$e=Ee,Ee++,se.charAt(Ee)){case"%":_e=Ee;case"":case`
`:case"\0":Ee++;continue}e:for(;Ee<te;Ee++)switch(se.charAt(Ee)){case" ":bt(),$|=ot;continue e;case"#":bt(),$|=b;continue e;case"+":bt(),$|=pe;continue e;case"-":bt(),$|=B;continue e;case"0":bt(),$|=Oe;continue e;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(J=be("width"),se.charAt(Ee+1)==="$"){if(Ee+2===te){X="%",Ee++;break e}r!==void 0&&Le.$raise(Ie("ArgumentError"),"value given twice - %"+J+"$"),r=tt(J),Ee++}else ht(),$|=lt,ae=J;continue e;case"<":case"{":for(ze=se.charAt(Ee)==="<"?">":"}",N="",Ee++;;Ee++){if(Ee===te&&Le.$raise(Ie("ArgumentError"),"malformed name - unmatched parenthesis"),se.charAt(Ee)===ze){if(i>0&&Le.$raise(Ie("ArgumentError"),"named "+N+" after unnumbered("+i+")"),i===-1&&Le.$raise(Ie("ArgumentError"),"named "+N+" after numbered"),i=-2,(Fe[0]===void 0||!Fe[0].$$is_hash)&&Le.$raise(Ie("ArgumentError"),"one hash required"),r=Fe[0].$fetch(N),ze===">")continue e;if(X=r.toString(),q!==-1&&(X=X.slice(0,q)),$&B)for(;X.length<ae;)X=X+" ";else for(;X.length<ae;)X=" "+X;break e}N+=se.charAt(Ee)}case"*":Ee++,ht(),$|=lt,ae=Ne("width"),ae<0&&($|=B,ae=-ae);continue e;case".":if($&dt&&Le.$raise(Ie("ArgumentError"),"precision given twice"),$|=pt|dt,q=0,Ee++,se.charAt(Ee)==="*"){Ee++,q=Ne("precision"),q<0&&($&=~pt);continue e}q=be("precision");continue e;case"d":case"i":case"u":if(me=Le.$Integer(le()),me>=0){for(X=me.toString();X.length<q;)X="0"+X;if($&B)for(($&pe||$&ot)&&(X=($&pe?"+":" ")+X);X.length<ae;)X=X+" ";else if($&Oe&&q===-1){for(;X.length<ae-($&pe||$&ot?1:0);)X="0"+X;($&pe||$&ot)&&(X=($&pe?"+":" ")+X)}else for(($&pe||$&ot)&&(X=($&pe?"+":" ")+X);X.length<ae;)X=" "+X}else{for(X=(-me).toString();X.length<q;)X="0"+X;if($&B)for(X="-"+X;X.length<ae;)X=X+" ";else if($&Oe&&q===-1){for(;X.length<ae-1;)X="0"+X;X="-"+X}else for(X="-"+X;X.length<ae;)X=" "+X}break e;case"b":case"B":case"o":case"x":case"X":switch(se.charAt(Ee)){case"b":case"B":re=2,D="0b",d=/^1+/,n="1";break;case"o":re=8,D="0",d=/^3?7+/,n="7";break;case"x":case"X":re=16,D="0x",d=/^f+/,n="f";break}if(me=Le.$Integer(le()),me>=0){for(X=me.toString(re);X.length<q;)X="0"+X;if($&B)for(($&pe||$&ot)&&(X=($&pe?"+":" ")+X),$&b&&me!==0&&(X=D+X);X.length<ae;)X=X+" ";else if($&Oe&&q===-1){for(;X.length<ae-($&pe||$&ot?1:0)-($&b&&me!==0?D.length:0);)X="0"+X;$&b&&me!==0&&(X=D+X),($&pe||$&ot)&&(X=($&pe?"+":" ")+X)}else for($&b&&me!==0&&(X=D+X),($&pe||$&ot)&&(X=($&pe?"+":" ")+X);X.length<ae;)X=" "+X}else if($&pe||$&ot){for(X=(-me).toString(re);X.length<q;)X="0"+X;if($&B)for($&b&&(X=D+X),X="-"+X;X.length<ae;)X=X+" ";else if($&Oe&&q===-1){for(;X.length<ae-1-($&b?2:0);)X="0"+X;$&b&&(X=D+X),X="-"+X}else for($&b&&(X=D+X),X="-"+X;X.length<ae;)X=" "+X}else{for(X=(me>>>0).toString(re).replace(d,n);X.length<q-2;)X=n+X;if($&B)for(X=".."+X,$&b&&(X=D+X);X.length<ae;)X=X+" ";else if($&Oe&&q===-1){for(;X.length<ae-2-($&b?D.length:0);)X=n+X;X=".."+X,$&b&&(X=D+X)}else for(X=".."+X,$&b&&(X=D+X);X.length<ae;)X=" "+X}se.charAt(Ee)===se.charAt(Ee).toUpperCase()&&(X=X.toUpperCase());break e;case"f":case"e":case"E":case"g":case"G":if(me=Le.$Float(le()),me>=0||isNaN(me)){if(me===1/0)X="Inf";else switch(se.charAt(Ee)){case"f":X=me.toFixed(q===-1?6:q);break;case"e":case"E":X=me.toExponential(q===-1?6:q);break;case"g":case"G":X=me.toExponential(),m=parseInt(X.split("e")[1],10),m<-4||m>=(q===-1?6:q)||(X=me.toPrecision(q===-1?$&b?6:void 0:q));break}if($&B)for(($&pe||$&ot)&&(X=($&pe?"+":" ")+X);X.length<ae;)X=X+" ";else if($&Oe&&me!==1/0&&!isNaN(me)){for(;X.length<ae-($&pe||$&ot?1:0);)X="0"+X;($&pe||$&ot)&&(X=($&pe?"+":" ")+X)}else for(($&pe||$&ot)&&(X=($&pe?"+":" ")+X);X.length<ae;)X=" "+X}else{if(me===-1/0)X="Inf";else switch(se.charAt(Ee)){case"f":X=(-me).toFixed(q===-1?6:q);break;case"e":case"E":X=(-me).toExponential(q===-1?6:q);break;case"g":case"G":X=(-me).toExponential(),m=parseInt(X.split("e")[1],10),m<-4||m>=(q===-1?6:q)||(X=(-me).toPrecision(q===-1?$&b?6:void 0:q));break}if($&B)for(X="-"+X;X.length<ae;)X=X+" ";else if($&Oe&&me!==-1/0){for(;X.length<ae-1;)X="0"+X;X="-"+X}else for(X="-"+X;X.length<ae;)X=" "+X}se.charAt(Ee)===se.charAt(Ee).toUpperCase()&&me!==1/0&&me!==-1/0&&!isNaN(me)&&(X=X.toUpperCase()),X=X.replace(/([eE][-+]?)([0-9])$/,"$10$2");break e;case"a":case"A":Le.$raise(Ie("NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if(me=le(),me["$respond_to?"]("to_ary")&&(me=me.$to_ary()[0]),me["$respond_to?"]("to_str")?X=me.$to_str():X=String.fromCharCode(Z(me,Ie("Integer"),"to_int")),X.length!==1&&Le.$raise(Ie("ArgumentError"),"%c requires a character"),$&B)for(;X.length<ae;)X=X+" ";else for(;X.length<ae;)X=" "+X;break e;case"p":if(X=le().$inspect(),q!==-1&&(X=X.slice(0,q)),$&B)for(;X.length<ae;)X=X+" ";else for(;X.length<ae;)X=" "+X;break e;case"s":if(X=le().$to_s(),q!==-1&&(X=X.slice(0,q)),$&B)for(;X.length<ae;)X=X+" ";else for(;X.length<ae;)X=" "+X;break e;default:Le.$raise(Ie("ArgumentError"),"malformed format string - %"+se.charAt(Ee))}X===void 0&&Le.$raise(Ie("ArgumentError"),"malformed format string - %"),fe+=se.slice(_e,$e)+X,_e=Ee+1}return ye.DEBUG&&i>=0&&s<Fe.length&&Le.$raise(Ie("ArgumentError"),"too many arguments for format string"),fe+se.slice(_e)},-2),De(Ge,"sprintf","format")}("::")};Opal.modules["corelib/string/encoding"]=function(o){var Z=o.klass,Se=o.hash2,Me=o.rb_plus,he=o.truthy,Ze=o.send,Re=o.defs,Le=o.eqeq,ye=o.def,G=o.return_ivar,De=o.return_val,Pe=o.slice,Ie=o.Kernel,je=o.Opal,Ge=o.rb_lt,Te,se=o.top,qe=[],We=o.$r(qe),Fe=o.nil,xe=o.$$$;return o.add_stubs("require,+,[],clone,initialize,new,instance_eval,to_proc,each,const_set,tr,==,default_external,attr_accessor,singleton_class,attr_reader,raise,register,length,bytes,force_encoding,dup,bytesize,enum_for,each_byte,to_a,each_char,each_codepoint,coerce_to!,find,<,default_external="),se.$require("corelib/string"),function(fe,_e){var $e=Z(fe,_e,"Encoding"),Ee=$e.$$prototype;return Ee.name=Ee.dummy=Fe,Re($e,"$register",function te(me,X){var m=te.$$p||Fe,ae=this,q=Fe,J=Fe,N=Fe,ze=Fe,re=Fe,D=Fe;return te.$$p=null,X==null&&(X=Se([],{})),q=Me([me],he(J=X["$[]"]("aliases"))?J:[]),N=he(J=X["$[]"]("ascii"))&&J,ze=he(J=X["$[]"]("dummy"))&&J,he(X["$[]"]("inherits"))?(re=X["$[]"]("inherits").$clone(),re.$initialize(me,q,N,ze)):re=ae.$new(me,q,N,ze),m!==Fe&&Ze(re,"instance_eval",[],m.$to_proc()),D=o.encodings,Ze(q,"each",[],function d(n){var r=d.$$s==null?this:d.$$s;return n==null&&(n=Fe),r.$const_set(n.$tr("-","_"),re),D[n]=re},{$$s:ae})},-2),Re($e,"$find",function(me){var X=this;return Le(me,"default_external")?X.$default_external():o.find_encoding(me)}),$e.$singleton_class().$attr_accessor("default_external"),$e.$attr_reader("name","names"),ye($e,"$initialize",function(me,X,m,ae){var q=this;return q.name=me,q.names=X,q.ascii=m,q.dummy=ae}),ye($e,"$ascii_compatible?",G("ascii")),ye($e,"$dummy?",G("dummy")),ye($e,"$binary?",De(!1)),ye($e,"$to_s",G("name")),ye($e,"$inspect",function(){var me=this;return"#<Encoding:"+me.name+(he(me.dummy)?" (dummy)":Fe)+">"}),ye($e,"$charsize",function(me){for(var X=0,m=0,ae=me.length;m<ae;m++){var q=me.charCodeAt(m);q>=55296&&q<=56319||X++}return X}),ye($e,"$each_char",function te(me){var X=te.$$p||Fe;te.$$p=null;for(var m="",ae=0,q=me.length;ae<q;ae++){var J=me.charCodeAt(ae),N=me.charAt(ae);if(J>=56320&&J<=57343){m=N;continue}else J>=55296&&J<=56319&&(N=m+N);me.encoding.name!="UTF-8"&&(N=new String(N),N.encoding=me.encoding),o.yield1(X,N)}}),ye($e,"$each_byte",function(me){var X,m;return X=Pe(arguments),m=X,Ie.$raise(xe("NotImplementedError"))},-1),ye($e,"$bytesize",function(me){var X,m;return X=Pe(arguments),m=X,Ie.$raise(xe("NotImplementedError"))},-1),Z("::",xe("StandardError"),"EncodingError"),Z("::",xe("EncodingError"),"CompatibilityError"),Fe}("::",null),Ze(xe("Encoding"),"register",["UTF-8",Se(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],function fe(){var _e=fe.$$s==null?this:fe.$$s;return ye(_e,"$each_byte",function $e(Ee){var te=$e.$$p||Fe;$e.$$p=null;for(var me=1/0,X,m=Ee.length,ae=null,q=0;q<m;++q){if(X=Ee.charCodeAt(q),X>55295&&X<57344){if(!ae){if(X>56319){(me-=3)>-1&&(o.yield1(te,239),o.yield1(te,191),o.yield1(te,189));continue}else if(q+1===m){(me-=3)>-1&&(o.yield1(te,239),o.yield1(te,191),o.yield1(te,189));continue}ae=X;continue}if(X<56320){(me-=3)>-1&&(o.yield1(te,239),o.yield1(te,191),o.yield1(te,189)),ae=X;continue}X=(ae-55296<<10|X-56320)+65536}else ae&&(me-=3)>-1&&(o.yield1(te,239),o.yield1(te,191),o.yield1(te,189));if(ae=null,X<128){if((me-=1)<0)break;o.yield1(te,X)}else if(X<2048){if((me-=2)<0)break;o.yield1(te,X>>6|192),o.yield1(te,X&63|128)}else if(X<65536){if((me-=3)<0)break;o.yield1(te,X>>12|224),o.yield1(te,X>>6&63|128),o.yield1(te,X&63|128)}else if(X<1114112){if((me-=4)<0)break;o.yield1(te,X>>18|240),o.yield1(te,X>>12&63|128),o.yield1(te,X>>6&63|128),o.yield1(te,X&63|128)}}}),ye(_e,"$bytesize",function(Ee){return Ee.$bytes().$length()})},{$$s:se}),Ze(xe("Encoding"),"register",["UTF-16LE"],function fe(){var _e=fe.$$s==null?this:fe.$$s;return ye(_e,"$each_byte",function $e(Ee){var te=$e.$$p||Fe;$e.$$p=null;for(var me=0,X=Ee.length;me<X;me++){var m=Ee.charCodeAt(me);o.yield1(te,m&255),o.yield1(te,m>>8)}}),ye(_e,"$bytesize",function(Ee){return Ee.length*2})},{$$s:se}),Ze(xe("Encoding"),"register",["UTF-16BE",Se(["inherits"],{inherits:xe(xe("Encoding"),"UTF_16LE")})],function fe(){var _e=fe.$$s==null?this:fe.$$s;return ye(_e,"$each_byte",function $e(Ee){var te=$e.$$p||Fe;$e.$$p=null;for(var me=0,X=Ee.length;me<X;me++){var m=Ee.charCodeAt(me);o.yield1(te,m>>8),o.yield1(te,m&255)}})},{$$s:se}),Ze(xe("Encoding"),"register",["UTF-32LE"],function fe(){var _e=fe.$$s==null?this:fe.$$s;return ye(_e,"$each_byte",function $e(Ee){var te=$e.$$p||Fe;$e.$$p=null;for(var me=0,X=Ee.length;me<X;me++){var m=Ee.charCodeAt(me);o.yield1(te,m&255),o.yield1(te,m>>8),o.yield1(te,0),o.yield1(te,0)}}),ye(_e,"$bytesize",function(Ee){return Ee.length*4})},{$$s:se}),Ze(xe("Encoding"),"register",["UTF-32BE",Se(["inherits"],{inherits:xe(xe("Encoding"),"UTF_32LE")})],function fe(){var _e=fe.$$s==null?this:fe.$$s;return ye(_e,"$each_byte",function $e(Ee){var te=$e.$$p||Fe;$e.$$p=null;for(var me=0,X=Ee.length;me<X;me++){var m=Ee.charCodeAt(me);o.yield1(te,0),o.yield1(te,0),o.yield1(te,m>>8),o.yield1(te,m&255)}})},{$$s:se}),Ze(xe("Encoding"),"register",["ASCII-8BIT",Se(["aliases","ascii"],{aliases:["BINARY"],ascii:!0})],function fe(){var _e=fe.$$s==null?this:fe.$$s;return ye(_e,"$each_char",function $e(Ee){var te=$e.$$p||Fe;$e.$$p=null;for(var me=0,X=Ee.length;me<X;me++){var m=new String(Ee.charAt(me));m.encoding=Ee.encoding,o.yield1(te,m)}}),ye(_e,"$charsize",function(Ee){return Ee.length}),ye(_e,"$each_byte",function $e(Ee){var te=$e.$$p||Fe;$e.$$p=null;for(var me=0,X=Ee.length;me<X;me++){var m=Ee.charCodeAt(me);o.yield1(te,m&255)}}),ye(_e,"$bytesize",function(Ee){return Ee.length}),ye(_e,"$binary?",De(!0))},{$$s:se}),xe("Encoding").$register("ISO-8859-1",Se(["aliases","ascii","inherits"],{aliases:["ISO8859-1"],ascii:!0,inherits:xe(xe("Encoding"),"ASCII_8BIT")})),xe("Encoding").$register("US-ASCII",Se(["aliases","ascii","inherits"],{aliases:["ASCII"],ascii:!0,inherits:xe(xe("Encoding"),"ASCII_8BIT")})),function(fe,_e){var $e=Z(fe,_e,"String"),Ee=$e.$$prototype;return Ee.internal_encoding=Ee.bytes=Ee.encoding=Fe,$e.$attr_reader("encoding"),$e.$attr_reader("internal_encoding"),o.prop(String.prototype,"bytes",Fe),o.prop(String.prototype,"encoding",xe(xe("Encoding"),"UTF_8")),o.prop(String.prototype,"internal_encoding",xe(xe("Encoding"),"UTF_8")),ye($e,"$b",function(){var me=this;return me.$dup().$force_encoding("binary")}),ye($e,"$bytesize",function(){var me=this;return me.internal_encoding.$bytesize(me)}),ye($e,"$each_byte",function te(){var me=te.$$p||Fe,X=this;return te.$$p=null,me===Fe?Ze(X,"enum_for",["each_byte"],function m(){var ae=m.$$s==null?this:m.$$s;return ae.$bytesize()},{$$s:X}):(Ze(X.internal_encoding,"each_byte",[X],me.$to_proc()),X)}),ye($e,"$bytes",function(){var me=this,X=Fe;return typeof me=="string"?new String(me).$each_byte().$to_a():(me.bytes=he(X=me.bytes)?X:me.$each_byte().$to_a(),me.bytes.$dup())}),ye($e,"$each_char",function te(){var me=te.$$p||Fe,X=this;return te.$$p=null,me===Fe?Ze(X,"enum_for",["each_char"],function m(){var ae=m.$$s==null?this:m.$$s;return ae.$length()},{$$s:X}):(Ze(X.encoding,"each_char",[X],me.$to_proc()),X)}),ye($e,"$chars",function te(){var me=te.$$p||Fe,X=this;return te.$$p=null,he(me)?Ze(X,"each_char",[],me.$to_proc()):X.$each_char().$to_a()}),ye($e,"$each_codepoint",function te(){var me=te.$$p||Fe,X=this;if(te.$$p=null,me===Fe)return X.$enum_for("each_codepoint");for(var m=0,ae=X.length;m<ae;m++)o.yield1(me,X.codePointAt(m));return X}),ye($e,"$codepoints",function te(){var me=te.$$p||Fe,X=this;return te.$$p=null,me!==Fe?Ze(X,"each_codepoint",[],me.$to_proc()):X.$each_codepoint().$to_a()}),ye($e,"$encode",function(me){var X=this;return o.enc(X,me)}),ye($e,"$force_encoding",function(me){var X=this,m=X;return me===m.encoding||(me=je["$coerce_to!"](me,xe("String"),"to_s"),me=xe("Encoding").$find(me),me===m.encoding)||(m=o.set_encoding(m,me)),m}),ye($e,"$getbyte",function(me){var X=this,m=Fe;return m=X.$bytes(),me=je["$coerce_to!"](me,xe("Integer"),"to_int"),he(Ge(m.$length(),me))?Fe:m["$[]"](me)}),ye($e,"$initialize_copy",function(me){return`
      self.encoding = other.encoding;
      self.internal_encoding = other.internal_encoding;
    `}),ye($e,"$valid_encoding?",De(!0))}("::",null),Te=[xe(We("Encoding"),"UTF_8")],Ze(xe("Encoding"),"default_external=",Te),Te[Te.length-1]};Opal.modules["corelib/math"]=function(o){var Z=o.type_error,Se=o.module,Me=o.const_set,he=o.Class,Ze=o.slice,Re=o.Kernel,Le=o.defs,ye=o.truthy,G=o.send,De=o.def,Pe=o.rb_minus,Ie=o.eqeqeq,je=o.rb_divide,Ge=[],Te=o.nil,se=o.$$$;return o.add_stubs("new,raise,Float,Integer,module_function,each,define_method,checked,float!,===,gamma,-,integer!,/,infinite?"),function(qe,We){var Fe=Se(qe,"Math"),xe=[Fe].concat(We),fe=o.$r(xe);return Me(Fe,"E",Math.E),Me(Fe,"PI",Math.PI),Me(Fe,"DomainError",he.$new(se("StandardError"))),Le(Fe,"$checked",function($e,Ee){var te,me;if(te=Ze(arguments,1),me=te,isNaN(me[0])||me.length==2&&isNaN(me[1]))return NaN;var X=Math[$e].apply(null,me);return isNaN(X)&&Re.$raise(fe("DomainError"),'Numerical argument is out of domain - "'+$e+'"'),X},-2),Le(Fe,"$float!",function($e){try{return Re.$Float($e)}catch(Ee){if(o.rescue(Ee,[se("ArgumentError")]))try{return Re.$raise(Z($e,se("Float")))}finally{o.pop_exception()}else throw Ee}}),Le(Fe,"$integer!",function($e){try{return Re.$Integer($e)}catch(Ee){if(o.rescue(Ee,[se("ArgumentError")]))try{return Re.$raise(Z($e,se("Integer")))}finally{o.pop_exception()}else throw Ee}}),Fe.$module_function(),ye(typeof Math.erf<"u")||o.prop(Math,"erf",function(_e){var $e=.254829592,Ee=-.284496736,te=1.421413741,me=-1.453152027,X=1.061405429,m=.3275911,ae=1;_e<0&&(ae=-1),_e=Math.abs(_e);var q=1/(1+m*_e),J=1-((((X*q+me)*q+te)*q+Ee)*q+$e)*q*Math.exp(-_e*_e);return ae*J}),ye(typeof Math.erfc<"u")||o.prop(Math,"erfc",function(_e){var $e=Math.abs(_e),Ee=1/(.5*$e+1),te=Ee*.17087277+-.82215223,me=Ee*te+1.48851587,X=Ee*me+-1.13520398,m=Ee*X+.27886807,ae=Ee*m+-.18628806,q=Ee*ae+.09678418,J=Ee*q+.37409196,N=Ee*J+1.00002368,ze=Ee*N,re=-$e*$e-1.26551223+ze,D=Ee*Math.exp(re);return _e<0?2-D:D}),G(["acos","acosh","asin","asinh","atan","atanh","cbrt","cos","cosh","erf","erfc","exp","sin","sinh","sqrt","tanh"],"each",[],function _e($e){var Ee=_e.$$s==null?this:_e.$$s;return $e==null&&($e=Te),G(Ee,"define_method",[$e],function(me){return me==null&&(me=Te),se("Math").$checked($e,se("Math")["$float!"](me))})},{$$s:Fe}),De(Fe,"$atan2",function($e,Ee){return se("Math").$checked("atan2",se("Math")["$float!"]($e),se("Math")["$float!"](Ee))}),De(Fe,"$hypot",function($e,Ee){return se("Math").$checked("hypot",se("Math")["$float!"]($e),se("Math")["$float!"](Ee))}),De(Fe,"$frexp",function($e){if($e=fe("Math")["$float!"]($e),isNaN($e))return[NaN,0];var Ee=Math.floor(Math.log(Math.abs($e))/Math.log(2))+1,te=$e/Math.pow(2,Ee);return[te,Ee]}),De(Fe,"$gamma",function($e){$e=fe("Math")["$float!"]($e);var Ee,te,me,X,m,ae,q,J,N,ze=4.7421875,re=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN($e))return NaN;if($e===0&&1/$e<0)return-1/0;if(($e===-1||$e===-1/0)&&Re.$raise(fe("DomainError"),'Numerical argument is out of domain - "gamma"'),fe("Integer")["$==="]($e)){if($e<=0)return isFinite($e)?1/0:NaN;if($e>171)return 1/0;for(X=$e-2,m=$e-1;X>1;)m*=X,X--;return m==0&&(m=1),m}if($e<.5)return Math.PI/(Math.sin(Math.PI*$e)*se("Math").$gamma(Pe(1,$e)));if($e>=171.35)return 1/0;if($e>85)return ae=$e*$e,q=ae*$e,J=q*$e,N=J*$e,Math.sqrt(2*Math.PI/$e)*Math.pow($e/Math.E,$e)*(1+1/(12*$e)+1/(288*ae)-139/(51840*q)-571/(2488320*J)+163879/(209018880*N)+5246819/(75246796800*N*$e));for($e-=1,me=re[0],Ee=1;Ee<re.length;++Ee)me+=re[Ee]/($e+Ee);return te=$e+ze+.5,Math.sqrt(2*Math.PI)*Math.pow(te,$e+.5)*Math.exp(-te)*me}),De(Fe,"$ldexp",function($e,Ee){return $e=fe("Math")["$float!"]($e),Ee=fe("Math")["$integer!"](Ee),isNaN(Ee)&&Re.$raise(se("RangeError"),"float NaN out of range of integer"),$e*Math.pow(2,Ee)}),De(Fe,"$lgamma",function($e){return $e==-1?[1/0,1]:[Math.log(Math.abs(se("Math").$gamma($e))),se("Math").$gamma($e)<0?-1:1]}),De(Fe,"$log",function($e,Ee){return Ie(se("String"),$e)&&Re.$raise(Z($e,se("Float"))),ye(Ee==null)?se("Math").$checked("log",se("Math")["$float!"]($e)):(Ie(se("String"),Ee)&&Re.$raise(Z(Ee,se("Float"))),je(se("Math").$checked("log",se("Math")["$float!"]($e)),se("Math").$checked("log",se("Math")["$float!"](Ee))))},-2),De(Fe,"$log10",function($e){return Ie(se("String"),$e)&&Re.$raise(Z($e,se("Float"))),se("Math").$checked("log10",se("Math")["$float!"]($e))}),De(Fe,"$log2",function($e){return Ie(se("String"),$e)&&Re.$raise(Z($e,se("Float"))),se("Math").$checked("log2",se("Math")["$float!"]($e))}),De(Fe,"$tan",function($e){return $e=se("Math")["$float!"]($e),ye($e["$infinite?"]())?se(se("Float"),"NAN"):se("Math").$checked("tan",se("Math")["$float!"]($e))})}("::",Ge)};Opal.modules["corelib/complex/base"]=function(o){var Z=o.module,Se=o.truthy,Me=o.def,he=o.klass,Ze=[],Re=o.nil;return o.add_stubs("new,from_string"),function(Le,ye){var G=Z(Le,"Kernel"),De=[G].concat(ye),Pe=o.$r(De);return Me(G,"$Complex",function(je,Ge){return Ge==null&&(Ge=Re),Se(Ge)?Pe("Complex").$new(je,Ge):Pe("Complex").$new(je,0)},-2)}("::",Ze),function(Le,ye,G){var De=he(Le,ye,"String"),Pe=[De].concat(G),Ie=o.$r(Pe);return Me(De,"$to_c",function(){var Ge=this;return Ie("Complex").$from_string(Ge)})}("::",null,Ze)};Opal.modules["corelib/complex"]=function(o){var Z=o.klass,Se=o.truthy,Me=o.eqeqeq,he=o.Kernel,Ze=o.defs,Re=o.rb_times,Le=o.def,ye=o.rb_plus,G=o.rb_minus,De=o.rb_divide,Pe=o.eqeq,Ie=o.to_ary,je=o.rb_gt,Ge=o.neqeq,Te=o.return_val,se=o.const_set,qe=o.alias,We=o.top,Fe=[],xe=o.nil,fe=o.$$$;return o.add_stubs("require,real?,===,raise,new,*,cos,sin,attr_reader,freeze,class,==,real,imag,Complex,-@,+,__coerced__,-,nan?,/,conj,abs2,quo,polar,exp,log,>,!=,divmod,**,hypot,atan2,lcm,denominator,finite?,infinite?,numerator,abs,arg,rationalize,to_f,to_i,to_r,inspect,zero?,positive?,Rational,rect,angle"),We.$require("corelib/numeric"),We.$require("corelib/complex/base"),function(_e,$e,Ee){var te=Z(_e,$e,"Complex"),me=[te].concat(Ee),X=o.$r(me),m=te.$$prototype;return m.real=m.imag=xe,Ze(te,"$rect",function(q,J){var N=this;return J==null&&(J=0),Me(fe("Numeric"),q)&&Se(q["$real?"]())&&Me(fe("Numeric"),J)&&Se(J["$real?"]())||he.$raise(fe("TypeError"),"not a real"),N.$new(q,J)},-2),Ze(te,"$polar",function(q,J){var N=this;return J==null&&(J=0),Me(fe("Numeric"),q)&&Se(q["$real?"]())&&Me(fe("Numeric"),J)&&Se(J["$real?"]())||he.$raise(fe("TypeError"),"not a real"),N.$new(Re(q,fe("Math").$cos(J)),Re(q,fe("Math").$sin(J)))},-2),te.$attr_reader("real","imag"),Le(te,"$initialize",function(q,J){var N=this;return J==null&&(J=0),N.real=q,N.imag=J,N.$freeze()},-2),Le(te,"$coerce",function(q){var J=this;return Me(fe("Complex"),q)?[q,J]:Me(fe("Numeric"),q)&&Se(q["$real?"]())?[fe("Complex").$new(q,0),J]:he.$raise(fe("TypeError"),""+q.$class()+" can't be coerced into Complex")}),Le(te,"$==",function(q){var J=this,N=xe;return Me(fe("Complex"),q)?Se(N=J.real["$=="](q.$real()))?J.imag["$=="](q.$imag()):N:Me(fe("Numeric"),q)&&Se(q["$real?"]())?Se(N=J.real["$=="](q))?J.imag["$=="](0):N:q["$=="](J)}),Le(te,"$-@",function(){var q=this;return he.$Complex(q.real["$-@"](),q.imag["$-@"]())}),Le(te,"$+",function(q){var J=this;return Me(fe("Complex"),q)?he.$Complex(ye(J.real,q.$real()),ye(J.imag,q.$imag())):Me(fe("Numeric"),q)&&Se(q["$real?"]())?he.$Complex(ye(J.real,q),J.imag):J.$__coerced__("+",q)}),Le(te,"$-",function(q){var J=this;return Me(fe("Complex"),q)?he.$Complex(G(J.real,q.$real()),G(J.imag,q.$imag())):Me(fe("Numeric"),q)&&Se(q["$real?"]())?he.$Complex(G(J.real,q),J.imag):J.$__coerced__("-",q)}),Le(te,"$*",function(q){var J=this;return Me(fe("Complex"),q)?he.$Complex(G(Re(J.real,q.$real()),Re(J.imag,q.$imag())),ye(Re(J.real,q.$imag()),Re(J.imag,q.$real()))):Me(fe("Numeric"),q)&&Se(q["$real?"]())?he.$Complex(Re(J.real,q),Re(J.imag,q)):J.$__coerced__("*",q)}),Le(te,"$/",function(q){var J=this;return Me(fe("Complex"),q)?Me(fe("Number"),J.real)&&Se(J.real["$nan?"]())||Me(fe("Number"),J.imag)&&Se(J.imag["$nan?"]())||Me(fe("Number"),q.$real())&&Se(q.$real()["$nan?"]())||Me(fe("Number"),q.$imag())&&Se(q.$imag()["$nan?"]())?fe("Complex").$new(fe(fe("Float"),"NAN"),fe(fe("Float"),"NAN")):De(Re(J,q.$conj()),q.$abs2()):Me(fe("Numeric"),q)&&Se(q["$real?"]())?he.$Complex(J.real.$quo(q),J.imag.$quo(q)):J.$__coerced__("/",q)}),Le(te,"$**",function(q){var J,N,ze=this,re=xe,D=xe,d=xe,n=xe,r=xe,s=xe,i=xe,$=xe,h=xe,b=xe,B=xe;if(Pe(q,0))return fe("Complex").$new(1,0);if(Me(fe("Complex"),q))return N=ze.$polar(),J=Ie(N),re=J[0]==null?xe:J[0],D=J[1]==null?xe:J[1],d=q.$real(),n=q.$imag(),r=fe("Math").$exp(G(Re(d,fe("Math").$log(re)),Re(n,D))),s=ye(Re(D,d),Re(n,fe("Math").$log(re))),fe("Complex").$polar(r,s);if(Me(fe("Integer"),q))if(Se(je(q,0))){for(i=ze,$=i,h=G(q,1);Ge(h,0);){for(N=h.$divmod(2),J=Ie(N),b=J[0]==null?xe:J[0],B=J[1]==null?xe:J[1];Pe(B,0);)i=he.$Complex(G(Re(i.$real(),i.$real()),Re(i.$imag(),i.$imag())),Re(Re(2,i.$real()),i.$imag())),h=b,N=h.$divmod(2),J=Ie(N),b=J[0]==null?xe:J[0],B=J[1]==null?xe:J[1];$=Re($,i),h=G(h,1)}return $}else return De(fe("Rational").$new(1,1),ze)["$**"](q["$-@"]());else return Me(fe("Float"),q)||Me(fe("Rational"),q)?(N=ze.$polar(),J=Ie(N),re=J[0]==null?xe:J[0],D=J[1]==null?xe:J[1],fe("Complex").$polar(re["$**"](q),Re(D,q))):ze.$__coerced__("**",q)}),Le(te,"$abs",function(){var q=this;return fe("Math").$hypot(q.real,q.imag)}),Le(te,"$abs2",function(){var q=this;return ye(Re(q.real,q.real),Re(q.imag,q.imag))}),Le(te,"$angle",function(){var q=this;return fe("Math").$atan2(q.imag,q.real)}),Le(te,"$conj",function(){var q=this;return he.$Complex(q.real,q.imag["$-@"]())}),Le(te,"$denominator",function(){var q=this;return q.real.$denominator().$lcm(q.imag.$denominator())}),Le(te,"$eql?",function(q){var J=this,N=xe,ze=xe;return Se(N=Se(ze=X("Complex")["$==="](q))?J.real.$class()["$=="](J.imag.$class()):ze)?J["$=="](q):N}),Le(te,"$fdiv",function(q){var J=this;return Me(fe("Numeric"),q)||he.$raise(fe("TypeError"),""+q.$class()+" can't be coerced into Complex"),De(J,q)}),Le(te,"$finite?",function(){var q=this,J=xe;return Se(J=q.real["$finite?"]())?q.imag["$finite?"]():J}),Le(te,"$hash",function(){var q=this;return"Complex:"+q.real+":"+q.imag}),Le(te,"$infinite?",function(){var q=this,J=xe;return Se(J=q.real["$infinite?"]())?J:q.imag["$infinite?"]()}),Le(te,"$inspect",function(){var q=this;return"("+q+")"}),Le(te,"$numerator",function(){var q=this,J=xe;return J=q.$denominator(),he.$Complex(Re(q.real.$numerator(),De(J,q.real.$denominator())),Re(q.imag.$numerator(),De(J,q.imag.$denominator())))}),Le(te,"$polar",function(){var q=this;return[q.$abs(),q.$arg()]}),Le(te,"$rationalize",function(q){var J=this;return arguments.length>1&&he.$raise(fe("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),Ge(J.imag,0)&&he.$raise(fe("RangeError"),"can't convert "+J+" into Rational"),J.$real().$rationalize(q)},-1),Le(te,"$real?",Te(!1)),Le(te,"$rect",function(){var q=this;return[q.real,q.imag]}),Le(te,"$to_f",function(){var q=this;return Pe(q.imag,0)||he.$raise(fe("RangeError"),"can't convert "+q+" into Float"),q.real.$to_f()}),Le(te,"$to_i",function(){var q=this;return Pe(q.imag,0)||he.$raise(fe("RangeError"),"can't convert "+q+" into Integer"),q.real.$to_i()}),Le(te,"$to_r",function(){var q=this;return Pe(q.imag,0)||he.$raise(fe("RangeError"),"can't convert "+q+" into Rational"),q.real.$to_r()}),Le(te,"$to_s",function(){var q=this,J=xe;return J=q.real.$inspect(),J=ye(J,Me(fe("Number"),q.imag)&&Se(q.imag["$nan?"]())||Se(q.imag["$positive?"]())||Se(q.imag["$zero?"]())?"+":"-"),J=ye(J,q.imag.$abs().$inspect()),Me(fe("Number"),q.imag)&&(Se(q.imag["$nan?"]())||Se(q.imag["$infinite?"]()))&&(J=ye(J,"*")),ye(J,"i")}),se(me[0],"I",te.$new(0,1)),Ze(te,"$from_string",function(q){var J=/[+-]?[\d_]+(\.[\d_]+)?(e\d+)?/,N=q.match(J),ze,re,D;function d(){return J.test(q)}function n(){var s=q.match(J),i=s[0];return q=q.slice(i.length),i.replace(/_/g,"")}function r(){if(d()){var s=parseFloat(n());if(q[0]==="/")if(q=q.slice(1),d()){var i=parseFloat(n());return he.$Rational(s,i)}else return q="/"+q,s;else return s}else return null}return ze=r(),ze?(re=r(),re?he.$Complex(ze,re):q[0]==="i"?he.$Complex(0,ze):he.$Complex(ze,0)):q[0]==="i"?he.$Complex(0,1):q[0]==="-"&&q[1]==="i"?he.$Complex(0,-1):q[0]==="+"&&q[1]==="i"?he.$Complex(0,1):he.$Complex(0,0)}),function(ae,q){return qe(ae,"rectangular","rect")}(o.get_singleton_class(te),me),qe(te,"arg","angle"),qe(te,"conjugate","conj"),qe(te,"divide","/"),qe(te,"imaginary","imag"),qe(te,"magnitude","abs"),qe(te,"phase","arg"),qe(te,"quo","/"),qe(te,"rectangular","rect"),o.udef(te,"$negative?"),o.udef(te,"$positive?"),o.udef(te,"$step"),xe}("::",fe("Numeric"),Fe)};Opal.modules["corelib/rational/base"]=function(o){var Z=o.module,Se=o.def,Me=o.klass,he=o.nil,Ze=o.$$$;return o.add_stubs("convert,from_string"),function(Re){var Le=Z(Re,"Kernel");return Se(Le,"$Rational",function(G,De){return De==null&&(De=1),Ze("Rational").$convert(G,De)},-2)}("::"),function(Re,Le){var ye=Me(Re,Le,"String");return Se(ye,"$to_r",function(){var De=this;return Ze("Rational").$from_string(De)})}("::",null)};Opal.modules["corelib/rational"]=function(o){var Z=o.klass,Se=o.eqeq,Me=o.Kernel,he=o.truthy,Ze=o.rb_lt,Re=o.rb_divide,Le=o.defs,ye=o.eqeqeq,G=o.not,De=o.Opal,Pe=o.def,Ie=o.return_ivar,je=o.rb_minus,Ge=o.rb_times,Te=o.rb_plus,se=o.rb_gt,qe=o.rb_le,We=o.return_self,Fe=o.alias,xe=o.top,fe=o.nil,_e=o.$$$;return o.add_stubs("require,to_i,==,raise,<,-@,new,gcd,/,nil?,===,reduce,to_r,!,equal?,coerce_to!,freeze,to_f,numerator,denominator,<=>,-,*,__coerced__,+,Rational,>,**,abs,ceil,with_precision,floor,<=,truncate,send"),xe.$require("corelib/numeric"),xe.$require("corelib/rational/base"),function($e,Ee){var te=Z($e,Ee,"Rational"),me=te.$$prototype;return me.num=me.den=fe,Le(te,"$reduce",function(m,ae){var q=this,J=fe;if(m=m.$to_i(),ae=ae.$to_i(),Se(ae,0))Me.$raise(_e("ZeroDivisionError"),"divided by 0");else if(he(Ze(ae,0)))m=m["$-@"](),ae=ae["$-@"]();else if(Se(ae,1))return q.$new(m,ae);return J=m.$gcd(ae),q.$new(Re(m,J),Re(ae,J))}),Le(te,"$convert",function(m,ae){var q=this;return(he(m["$nil?"]())||he(ae["$nil?"]()))&&Me.$raise(_e("TypeError"),"cannot convert nil into Rational"),ye(_e("Integer"),m)&&ye(_e("Integer"),ae)?q.$reduce(m,ae):((ye(_e("Float"),m)||ye(_e("String"),m)||ye(_e("Complex"),m))&&(m=m.$to_r()),(ye(_e("Float"),ae)||ye(_e("String"),ae)||ye(_e("Complex"),ae))&&(ae=ae.$to_r()),he(ae["$equal?"](1))&&G(_e("Integer")["$==="](m))?De["$coerce_to!"](m,_e("Rational"),"to_r"):ye(_e("Numeric"),m)&&ye(_e("Numeric"),ae)?Re(m,ae):q.$reduce(m,ae))}),Pe(te,"$initialize",function(m,ae){var q=this;return q.num=m,q.den=ae,q.$freeze()}),Pe(te,"$numerator",Ie("num")),Pe(te,"$denominator",Ie("den")),Pe(te,"$coerce",function(m){var ae=this,q=fe;return ye(_e("Rational"),q=m)?[m,ae]:ye(_e("Integer"),q)?[m.$to_r(),ae]:ye(_e("Float"),q)?[m,ae.$to_f()]:fe}),Pe(te,"$==",function(m){var ae=this,q=fe,J=fe;return ye(_e("Rational"),q=m)?he(J=ae.num["$=="](m.$numerator()))?ae.den["$=="](m.$denominator()):J:ye(_e("Integer"),q)?he(J=ae.num["$=="](m))?ae.den["$=="](1):J:ye(_e("Float"),q)?ae.$to_f()["$=="](m):m["$=="](ae)}),Pe(te,"$<=>",function(m){var ae=this,q=fe;return ye(_e("Rational"),q=m)?je(Ge(ae.num,m.$denominator()),Ge(ae.den,m.$numerator()))["$<=>"](0):ye(_e("Integer"),q)?je(ae.num,Ge(ae.den,m))["$<=>"](0):ye(_e("Float"),q)?ae.$to_f()["$<=>"](m):ae.$__coerced__("<=>",m)}),Pe(te,"$+",function(m){var ae=this,q=fe,J=fe,N=fe;return ye(_e("Rational"),q=m)?(J=Te(Ge(ae.num,m.$denominator()),Ge(ae.den,m.$numerator())),N=Ge(ae.den,m.$denominator()),Me.$Rational(J,N)):ye(_e("Integer"),q)?Me.$Rational(Te(ae.num,Ge(m,ae.den)),ae.den):ye(_e("Float"),q)?Te(ae.$to_f(),m):ae.$__coerced__("+",m)}),Pe(te,"$-",function(m){var ae=this,q=fe,J=fe,N=fe;return ye(_e("Rational"),q=m)?(J=je(Ge(ae.num,m.$denominator()),Ge(ae.den,m.$numerator())),N=Ge(ae.den,m.$denominator()),Me.$Rational(J,N)):ye(_e("Integer"),q)?Me.$Rational(je(ae.num,Ge(m,ae.den)),ae.den):ye(_e("Float"),q)?je(ae.$to_f(),m):ae.$__coerced__("-",m)}),Pe(te,"$*",function(m){var ae=this,q=fe,J=fe,N=fe;return ye(_e("Rational"),q=m)?(J=Ge(ae.num,m.$numerator()),N=Ge(ae.den,m.$denominator()),Me.$Rational(J,N)):ye(_e("Integer"),q)?Me.$Rational(Ge(ae.num,m),ae.den):ye(_e("Float"),q)?Ge(ae.$to_f(),m):ae.$__coerced__("*",m)}),Pe(te,"$/",function(m){var ae=this,q=fe,J=fe,N=fe;return ye(_e("Rational"),q=m)?(J=Ge(ae.num,m.$denominator()),N=Ge(ae.den,m.$numerator()),Me.$Rational(J,N)):ye(_e("Integer"),q)?Se(m,0)?Re(ae.$to_f(),0):Me.$Rational(ae.num,Ge(ae.den,m)):ye(_e("Float"),q)?Re(ae.$to_f(),m):ae.$__coerced__("/",m)}),Pe(te,"$**",function(m){var ae=this,q=fe;return ye(_e("Integer"),q=m)?Se(ae,0)&&he(Ze(m,0))?_e(_e("Float"),"INFINITY"):he(se(m,0))?Me.$Rational(ae.num["$**"](m),ae.den["$**"](m)):he(Ze(m,0))?Me.$Rational(ae.den["$**"](m["$-@"]()),ae.num["$**"](m["$-@"]())):Me.$Rational(1,1):ye(_e("Float"),q)?ae.$to_f()["$**"](m):ye(_e("Rational"),q)?Se(m,0)?Me.$Rational(1,1):Se(m.$denominator(),1)?he(Ze(m,0))?Me.$Rational(ae.den["$**"](m.$numerator().$abs()),ae.num["$**"](m.$numerator().$abs())):Me.$Rational(ae.num["$**"](m.$numerator()),ae.den["$**"](m.$numerator())):Se(ae,0)&&he(Ze(m,0))?Me.$raise(_e("ZeroDivisionError"),"divided by 0"):ae.$to_f()["$**"](m):ae.$__coerced__("**",m)}),Pe(te,"$abs",function(){var m=this;return Me.$Rational(m.num.$abs(),m.den.$abs())}),Pe(te,"$ceil",function(m){var ae=this;return m==null&&(m=0),Se(m,0)?Re(ae.num["$-@"](),ae.den)["$-@"]().$ceil():ae.$with_precision("ceil",m)},-1),Pe(te,"$floor",function(m){var ae=this;return m==null&&(m=0),Se(m,0)?Re(ae.num["$-@"](),ae.den)["$-@"]().$floor():ae.$with_precision("floor",m)},-1),Pe(te,"$hash",function(){var m=this;return"Rational:"+m.num+":"+m.den}),Pe(te,"$inspect",function(){var m=this;return"("+m+")"}),Pe(te,"$rationalize",function(m){var ae=this;if(arguments.length>1&&Me.$raise(_e("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),m==null)return ae;for(var q=m.$abs(),J=je(ae,q),N=Te(ae,q),ze=0,re=1,D=1,d=0,n,r,s,i,$;s=J.$ceil(),!qe(s,N);)i=s-1,n=i*re+ze,r=i*d+D,$=Re(1,je(N,i)),N=Re(1,je(J,i)),J=$,ze=re,D=d,re=n,d=r;return Me.$Rational(s*re+ze,s*d+D)},-1),Pe(te,"$round",function(m){var ae=this,q=fe,J=fe,N=fe;return m==null&&(m=0),Se(m,0)?Se(ae.num,0)?0:Se(ae.den,1)?ae.num:(q=Te(Ge(ae.num.$abs(),2),ae.den),J=Ge(ae.den,2),N=Re(q,J).$truncate(),he(Ze(ae.num,0))?N["$-@"]():N):ae.$with_precision("round",m)},-1),Pe(te,"$to_f",function(){var m=this;return Re(m.num,m.den)}),Pe(te,"$to_i",function(){var m=this;return m.$truncate()}),Pe(te,"$to_r",We),Pe(te,"$to_s",function(){var m=this;return""+m.num+"/"+m.den}),Pe(te,"$truncate",function(m){var ae=this;return m==null&&(m=0),Se(m,0)?he(Ze(ae.num,0))?ae.$ceil():ae.$floor():ae.$with_precision("truncate",m)},-1),Pe(te,"$with_precision",function(m,ae){var q=this,J=fe,N=fe;return ye(_e("Integer"),ae)||Me.$raise(_e("TypeError"),"not an Integer"),J=10["$**"](ae),N=Ge(q,J),he(Ze(ae,1))?Re(N.$send(m),J).$to_i():Me.$Rational(N.$send(m),J)}),Le(te,"$from_string",function(m){var ae=m.trimLeft(),q=/^[+-]?[\d_]+(\.[\d_]+)?/,J=ae.match(q),N,ze;function re(){return q.test(ae)}function D(){var d=ae.match(q),n=d[0];return ae=ae.slice(n.length),n.replace(/_/g,"")}return re()?(N=parseFloat(D()),ae[0]==="/"?(ae=ae.slice(1),re()?(ze=parseFloat(D()),Me.$Rational(N,ze)):Me.$Rational(N,1)):Me.$Rational(N,1)):Me.$Rational(0,1)}),Fe(te,"divide","/"),Fe(te,"quo","/")}("::",_e("Numeric"))};Opal.modules["corelib/time"]=function(o){var Z=o.slice,Se=o.deny_frozen_access,Me=o.klass,he=o.Kernel,Ze=o.Opal,Re=o.defs,Le=o.eqeqeq,ye=o.def,G=o.truthy,De=o.rb_gt,Pe=o.rb_lt,Ie=o.send,je=o.rb_plus,Ge=o.rb_divide,Te=o.rb_minus,se=o.range,qe=o.neqeq,We=o.rb_le,Fe=o.eqeq,xe=o.alias,fe=o.top,_e=[],$e=o.nil,Ee=o.$$$;return o.add_stubs("require,include,===,raise,coerce_to!,respond_to?,to_str,to_i,_parse_offset,new,<=>,to_f,nil?,>,<,strftime,each,define_method,year,month,day,+,round,/,-,copy_instance_variables,initialize_dup,is_a?,zero?,wday,utc?,mon,yday,hour,min,sec,rjust,ljust,zone,to_s,[],cweek_cyear,jd,to_date,format,isdst,!=,<=,==,ceil,local,gm,asctime,getgm,gmt_offset,inspect,usec,gmtime,gmt?"),fe.$require("corelib/comparable"),function(te,me,X){var m=Me(te,me,"Time"),ae=[m].concat(X),q=o.$r(ae);m.$include(Ee("Comparable"));var J=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],N=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ze=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],re=["January","February","March","April","May","June","July","August","September","October","November","December"];Re(m,"$at",function(n,r){var s;return Ee("Time")["$==="](n)?(r!==void 0&&he.$raise(Ee("TypeError"),"can't convert Time into an exact number"),s=new Date(n.getTime()),s.timezone=n.timezone,s):(n.$$is_number||(n=Ze["$coerce_to!"](n,Ee("Integer"),"to_int")),r===void 0?new Date(n*1e3):(r.$$is_number||(r=Ze["$coerce_to!"](r,Ee("Integer"),"to_int")),new Date(n*1e3+r/1e3)))},-2);function D(d,n,r,s,i,$){if(d.$$is_string?d=parseInt(d,10):d=Ze["$coerce_to!"](d,Ee("Integer"),"to_int"),n===$e)n=1;else if(!n.$$is_number)if(n["$respond_to?"]("to_str"))switch(n=n.$to_str(),n.toLowerCase()){case"jan":n=1;break;case"feb":n=2;break;case"mar":n=3;break;case"apr":n=4;break;case"may":n=5;break;case"jun":n=6;break;case"jul":n=7;break;case"aug":n=8;break;case"sep":n=9;break;case"oct":n=10;break;case"nov":n=11;break;case"dec":n=12;break;default:n=n.$to_i()}else n=Ze["$coerce_to!"](n,Ee("Integer"),"to_int");return(n<1||n>12)&&he.$raise(Ee("ArgumentError"),"month out of range: "+n),n=n-1,r===$e?r=1:r.$$is_string?r=parseInt(r,10):r=Ze["$coerce_to!"](r,Ee("Integer"),"to_int"),(r<1||r>31)&&he.$raise(Ee("ArgumentError"),"day out of range: "+r),s===$e?s=0:s.$$is_string?s=parseInt(s,10):s=Ze["$coerce_to!"](s,Ee("Integer"),"to_int"),(s<0||s>24)&&he.$raise(Ee("ArgumentError"),"hour out of range: "+s),i===$e?i=0:i.$$is_string?i=parseInt(i,10):i=Ze["$coerce_to!"](i,Ee("Integer"),"to_int"),(i<0||i>59)&&he.$raise(Ee("ArgumentError"),"min out of range: "+i),$===$e?$=0:$.$$is_number||($.$$is_string?$=parseInt($,10):$=Ze["$coerce_to!"]($,Ee("Integer"),"to_int")),($<0||$>60)&&he.$raise(Ee("ArgumentError"),"sec out of range: "+$),[d,n,r,s,i,$]}return Re(m,"$new",function(n,r,s,i,$,h,b){var B=this;r==null&&(r=$e),s==null&&(s=$e),i==null&&(i=$e),$==null&&($=$e),h==null&&(h=$e),b==null&&(b=$e);var pe,Oe,ot,lt;return n===void 0?new Date:(pe=D(n,r,s,i,$,h),n=pe[0],r=pe[1],s=pe[2],i=pe[3],$=pe[4],h=pe[5],b===$e?(Oe=new Date(n,r,s,i,$,0,h*1e3),n<100&&Oe.setFullYear(n),Oe):(ot=B.$_parse_offset(b),lt=new Date(Date.UTC(n,r,s,i,$,0,h*1e3)),n<100&&lt.setUTCFullYear(n),Oe=new Date(lt.getTime()-ot*36e5),Oe.timezone=ot,Oe))},-1),Re(m,"$_parse_offset",function(n){var r;if(n.$$is_string)if(n=="UTC")r=0;else if(/^[+-]\d\d:[0-5]\d$/.test(n)){var s,i,$;s=n[0],i=+(n[1]+n[2]),$=+(n[4]+n[5]),r=(s=="-"?-1:1)*(i+$/60)}else he.$raise(Ee("ArgumentError"),'"+HH:MM", "-HH:MM", "UTC" expected for utc_offset: '+n);else n.$$is_number?r=n/3600:he.$raise(Ee("ArgumentError"),"Opal doesn't support other types for a timezone argument than Integer and String");return r}),Re(m,"$local",function(n,r,s,i,$,h,b,B,pe,Oe){r==null&&(r=$e),s==null&&(s=$e),i==null&&(i=$e),$==null&&($=$e),h==null&&(h=$e),b==null&&(b=$e),B==null&&(B=$e),pe==null&&(pe=$e),Oe==null&&(Oe=$e);var ot,lt;return arguments.length===10&&(ot=Z(arguments),n=ot[5],r=ot[4],s=ot[3],i=ot[2],$=ot[1],h=ot[0]),ot=D(n,r,s,i,$,h),n=ot[0],r=ot[1],s=ot[2],i=ot[3],$=ot[4],h=ot[5],lt=new Date(n,r,s,i,$,0,h*1e3),n<100&&lt.setFullYear(n),lt},-2),Re(m,"$gm",function(n,r,s,i,$,h,b,B,pe,Oe){r==null&&(r=$e),s==null&&(s=$e),i==null&&(i=$e),$==null&&($=$e),h==null&&(h=$e),b==null&&(b=$e),B==null&&(B=$e),pe==null&&(pe=$e),Oe==null&&(Oe=$e);var ot,lt;return arguments.length===10&&(ot=Z(arguments),n=ot[5],r=ot[4],s=ot[3],i=ot[2],$=ot[1],h=ot[0]),ot=D(n,r,s,i,$,h),n=ot[0],r=ot[1],s=ot[2],i=ot[3],$=ot[4],h=ot[5],lt=new Date(Date.UTC(n,r,s,i,$,0,h*1e3)),n<100&&lt.setUTCFullYear(n),lt.timezone=0,lt},-2),Re(m,"$now",function(){var n=this;return n.$new()}),ye(m,"$+",function(n){var r=this;Le(Ee("Time"),n)&&he.$raise(Ee("TypeError"),"time + time?"),n.$$is_number||(n=Ze["$coerce_to!"](n,Ee("Integer"),"to_int"));var s=new Date(r.getTime()+n*1e3);return s.timezone=r.timezone,s}),ye(m,"$-",function(n){var r=this;if(Le(Ee("Time"),n))return(r.getTime()-n.getTime())/1e3;n.$$is_number||(n=Ze["$coerce_to!"](n,Ee("Integer"),"to_int"));var s=new Date(r.getTime()-n*1e3);return s.timezone=r.timezone,s}),ye(m,"$<=>",function(n){var r=this,s=$e;return Le(Ee("Time"),n)?r.$to_f()["$<=>"](n.$to_f()):(s=n["$<=>"](r),G(s["$nil?"]())?$e:G(De(s,0))?-1:G(Pe(s,0))?1:0)}),ye(m,"$==",function(n){var r=this,s=$e;return G(s=Ee("Time")["$==="](n))?r.$to_f()===n.$to_f():s}),ye(m,"$asctime",function(){var n=this;return n.$strftime("%a %b %e %H:%M:%S %Y")}),Ie([["year","getFullYear","getUTCFullYear"],["mon","getMonth","getUTCMonth",1],["wday","getDay","getUTCDay"],["day","getDate","getUTCDate"],["hour","getHours","getUTCHours"],["min","getMinutes","getUTCMinutes"],["sec","getSeconds","getUTCSeconds"]],"each",[],function d(n,r,s,i){var $=d.$$s==null?this:d.$$s;return n==null&&(n=$e),r==null&&(r=$e),s==null&&(s=$e),i==null&&(i=0),Ie($,"define_method",[n],function h(){var b=h.$$s==null?this:h.$$s;return i+(b.timezone!=null?new Date(b.getTime()+b.timezone*36e5)[s]():b[r]())},{$$s:$})},{$$arity:-4,$$s:m}),ye(m,"$yday",function(){var n=this,r=$e,s=$e,i=$e;return r=q("Time").$new(n.$year()).$to_i(),s=q("Time").$new(n.$year(),n.$month(),n.$day()).$to_i(),i=86400,je(Ge(Te(s,r),i).$round(),1)}),ye(m,"$isdst",function(){var n=this,r=new Date(n.getFullYear(),0,1),s=new Date(n.getFullYear(),6,1);return n.getTimezoneOffset()<Math.max(r.getTimezoneOffset(),s.getTimezoneOffset())}),ye(m,"$dup",function(){var n=this,r=$e;return r=new Date(n.getTime()),r.$copy_instance_variables(n),r.$initialize_dup(n),r}),ye(m,"$eql?",function(n){var r=this,s=$e;return G(s=n["$is_a?"](Ee("Time")))?r["$<=>"](n)["$zero?"]():s}),Ie([["sunday?",0],["monday?",1],["tuesday?",2],["wednesday?",3],["thursday?",4],["friday?",5],["saturday?",6]],"each",[],function d(n,r){var s=d.$$s==null?this:d.$$s;return n==null&&(n=$e),r==null&&(r=$e),Ie(s,"define_method",[n],function i(){var $=i.$$s==null?this:i.$$s;return $.$wday()===r},{$$s:s})},{$$s:m}),ye(m,"$hash",function(){var n=this;return"Time:"+n.getTime()}),ye(m,"$inspect",function(){var n=this;return G(n["$utc?"]())?n.$strftime("%Y-%m-%d %H:%M:%S UTC"):n.$strftime("%Y-%m-%d %H:%M:%S %z")}),ye(m,"$succ",function(){var n=this,r=new Date(n.getTime()+1e3);return r.timezone=n.timezone,r}),ye(m,"$usec",function(){var n=this;return n.getMilliseconds()*1e3}),ye(m,"$zone",function(){var n=this;if(n.timezone===0)return"UTC";if(n.timezone!=null)return $e;var r=n.toString(),s;return r.indexOf("(")==-1?s=r.match(/[A-Z]{3,4}/)[0]:s=r.match(/\((.+)\)(?:\s|$)/)[1],s=="GMT"&&/(GMT\W*\d{4})/.test(r)?RegExp.$1:s}),ye(m,"$getgm",function(){var n=this,r=new Date(n.getTime());return r.timezone=0,r}),ye(m,"$gmtime",function(){var n=this;return n.timezone!==0&&(Se(n),n.timezone=0),n}),ye(m,"$gmt?",function(){var n=this;return n.timezone===0}),ye(m,"$gmt_offset",function(){var n=this;return n.timezone!=null?n.timezone*60:-n.getTimezoneOffset()*60}),ye(m,"$strftime",function(n){var r=this;return n.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(s,i,$,h,b){var B="",pe,Oe,ot,lt=i.indexOf("0")!==-1,pt=i.indexOf("-")===-1,dt=i.indexOf("_")!==-1,bt=i.indexOf("^")!==-1,ht=i.indexOf("#")!==-1,vt=(i.match(":")||[]).length;switch($=parseInt($,10),lt&&dt&&(i.indexOf("0")<i.indexOf("_")?lt=!1:dt=!1),b){case"Y":B+=r.$year();break;case"C":lt=!dt,B+=Math.round(r.$year()/100);break;case"y":lt=!dt,B+=r.$year()%100;break;case"m":lt=!dt,B+=r.$mon();break;case"B":B+=re[r.$mon()-1];break;case"b":case"h":dt=!lt,B+=ze[r.$mon()-1];break;case"d":lt=!dt,B+=r.$day();break;case"e":dt=!lt,B+=r.$day();break;case"j":lt=!dt,$=isNaN($)?3:$,B+=r.$yday();break;case"H":lt=!dt,B+=r.$hour();break;case"k":dt=!lt,B+=r.$hour();break;case"I":lt=!dt,B+=r.$hour()%12||12;break;case"l":dt=!lt,B+=r.$hour()%12||12;break;case"P":B+=r.$hour()>=12?"pm":"am";break;case"p":B+=r.$hour()>=12?"PM":"AM";break;case"M":lt=!dt,B+=r.$min();break;case"S":lt=!dt,B+=r.$sec();break;case"L":lt=!dt,$=isNaN($)?3:$,B+=r.getMilliseconds();break;case"N":$=isNaN($)?9:$,B+=r.getMilliseconds().toString().$rjust(3,"0"),B=B.$ljust($,"0");break;case"z":var gt=r.timezone==null?r.getTimezoneOffset():-r.timezone*60,tt=Math.floor(Math.abs(gt)/60),le=Math.abs(gt)%60;B+=gt<0?"+":"-",B+=tt<10?"0":"",B+=tt,vt>0&&(B+=":"),B+=le<10?"0":"",B+=le,vt>1&&(B+=":00");break;case"Z":B+=r.$zone();break;case"A":B+=J[r.$wday()];break;case"a":B+=N[r.$wday()];break;case"u":B+=r.$wday()+1;break;case"w":B+=r.$wday();break;case"V":B+=r.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":B+=r.$cweek_cyear()["$[]"](1);break;case"g":B+=r.$cweek_cyear()["$[]"](1)["$[]"](se(-2,-1,!1));break;case"s":B+=r.$to_i();break;case"n":B+=`
`;break;case"t":B+="	";break;case"%":B+="%";break;case"c":B+=r.$strftime("%a %b %e %T %Y");break;case"D":case"x":B+=r.$strftime("%m/%d/%y");break;case"F":B+=r.$strftime("%Y-%m-%d");break;case"v":B+=r.$strftime("%e-%^b-%4Y");break;case"r":B+=r.$strftime("%I:%M:%S %p");break;case"R":B+=r.$strftime("%H:%M");break;case"T":case"X":B+=r.$strftime("%H:%M:%S");break;case"J":if(pe=r.$to_date().$jd(),pe<2405160){B+=r.$strftime("%Y-%m-%d");break}else pe<2419614?(Oe="M",ot=1867):pe<2424875?(Oe="T",ot=1911):pe<2447535?(Oe="S",ot=1925):pe<2458605?(Oe="H",ot=1988):(Oe="R",ot=2018);B+=r.$format("%c%02d",Oe,Te(r.$year(),ot)),B+=r.$strftime("-%m-%d");break;default:return s}return bt&&(B=B.toUpperCase()),ht&&(B=B.replace(/[A-Z]/,function(be){be.toLowerCase()}).replace(/[a-z]/,function(be){be.toUpperCase()})),pt&&(lt||dt)&&(B=B.$rjust(isNaN($)?2:$,dt?" ":"0")),B})}),ye(m,"$to_a",function(){var n=this;return[n.$sec(),n.$min(),n.$hour(),n.$day(),n.$month(),n.$year(),n.$wday(),n.$yday(),n.$isdst(),n.$zone()]}),ye(m,"$to_f",function(){var n=this;return n.getTime()/1e3}),ye(m,"$to_i",function(){var n=this;return parseInt(n.getTime()/1e3,10)}),ye(m,"$cweek_cyear",function(){var n=this,r=$e,s=$e,i=$e,$=$e,h=$e,b=$e,B=$e,pe=$e;return r=Ee("Time").$new(n.$year(),1,1),s=r.$wday(),i=0,$=n.$year(),G(We(s,4))&&qe(s,0)?h=Te(s,1):(h=Te(Te(s,7),1),Fe(h,-8)&&(h=-1)),b=Ge(je(n.$yday(),h),7).$ceil(),G(We(b,0))?Ee("Time").$new(Te(n.$year(),1),12,31).$cweek_cyear():(Fe(b,53)&&(B=Ee("Time").$new(n.$year(),12,31),pe=B.$wday(),G(We(pe,3))&&qe(pe,0)&&(b=1,$=je($,1))),[b,$])}),function(d,n){return xe(d,"mktime","local"),xe(d,"utc","gm")}(o.get_singleton_class(m),ae),xe(m,"ctime","asctime"),xe(m,"dst?","isdst"),xe(m,"getutc","getgm"),xe(m,"gmtoff","gmt_offset"),xe(m,"mday","day"),xe(m,"month","mon"),xe(m,"to_s","inspect"),xe(m,"tv_sec","to_i"),xe(m,"tv_usec","usec"),xe(m,"utc","gmtime"),xe(m,"utc?","gmt?"),xe(m,"utc_offset","gmt_offset")}("::",Date,_e)};Opal.modules["corelib/struct"]=function(o){var Z=o.klass,Se=o.slice,Me=o.extract_kwargs,he=o.ensure_kwargs,Ze=o.truthy,Re=o.neqeq,Le=o.eqeq,ye=o.Opal,G=o.send,De=o.Class,Pe=o.to_a,Ie=o.def,je=o.defs,Ge=o.Kernel,Te=o.hash2,se=o.rb_gt,qe=o.rb_minus,We=o.eqeqeq,Fe=o.rb_lt,xe=o.rb_ge,fe=o.rb_plus,_e=o.alias,$e=o.top,Ee=[],te=o.nil,me=o.$$$;return o.add_stubs("require,include,!=,upcase,[],==,class,unshift,const_name!,map,coerce_to!,new,each,define_struct_attribute,allocate,initialize,alias_method,module_eval,to_proc,const_set,raise,<<,members,define_method,instance_eval,last,>,length,-,keys,any?,join,[]=,each_with_index,hash,===,<,-@,size,>=,include?,to_sym,instance_of?,__id__,eql?,enum_for,+,name,each_pair,inspect,to_h,args,each_with_object,flatten,to_a,respond_to?,dig"),$e.$require("corelib/enumerable"),function(X,m,ae){var q=Z(X,m,"Struct"),J=[q].concat(ae),N=o.$r(J);q.$include(me("Enumerable")),je(q,"$new",function re(D,d,n){var r=re.$$p||te,s,i,$,h,b=this,B=te;if(re.$$p=null,s=Se(arguments,1),i=Me(s),i=he(i),$=s,h=i.$$smap.keyword_init,h==null&&(h=!1),Ze(D))if(Le(D.$class(),me("String"))&&Re(D["$[]"](0).$upcase(),D["$[]"](0)))$.$unshift(D),D=te;else try{D=ye["$const_name!"](D)}catch(pe){if(o.rescue(pe,[me("TypeError"),me("NameError")]))try{$.$unshift(D),D=te}finally{o.pop_exception()}else throw pe}return G($,"map",[],function(Oe){return Oe==null&&(Oe=te),ye["$coerce_to!"](Oe,me("String"),"to_str")}),B=G(De,"new",[b],function pe(){var Oe=pe.$$s==null?this:pe.$$s;return G($,"each",[],function ot(lt){var pt=ot.$$s==null?this:ot.$$s;return lt==null&&(lt=te),pt.$define_struct_attribute(lt)},{$$s:Oe}),function(ot,lt){return Ie(ot,"$new",function(dt){var bt,ht,vt=this,gt=te;return bt=Se(arguments),ht=bt,gt=vt.$allocate(),gt.$$data={},G(gt,"initialize",Pe(ht)),gt},-1),ot.$alias_method("[]","new")}(o.get_singleton_class(Oe),J)},{$$s:b}),Ze(r)&&G(B,"module_eval",[],r.$to_proc()),B.$$keyword_init=h,Ze(D)&&me("Struct").$const_set(D,B),B},-2),je(q,"$define_struct_attribute",function(D){var d=this;return Le(d,me("Struct"))&&Ge.$raise(me("ArgumentError"),"you cannot define attributes to the Struct class"),d.$members()["$<<"](D),G(d,"define_method",[D],function n(){var r=n.$$s==null?this:n.$$s;return r.$$data[D]},{$$s:d}),G(d,"define_method",[""+D+"="],function n(r){var s=n.$$s==null?this:n.$$s;return r==null&&(r=te),s.$$data[D]=r},{$$s:d})}),je(q,"$members",function(){var D=this,d=te;return D.members==null&&(D.members=te),Le(D,me("Struct"))&&Ge.$raise(me("ArgumentError"),"the Struct class has no members"),D.members=Ze(d=D.members)?d:[]}),je(q,"$inherited",function(D){var d=this,n=te;return d.members==null&&(d.members=te),n=d.members,G(D,"instance_eval",[],function r(){var s=r.$$s==null?this:r.$$s;return s.members=n},{$$s:d})}),Ie(q,"$initialize",function(D){var d,n,r=this,s=te,i=te,$=te;return d=Se(arguments),n=d,Ze(r.$class().$$keyword_init)?(s=Ze(i=n.$last())?i:Te([],{}),(Ze(se(n.$length(),1))||Ze(n.length===1&&!s.$$is_hash))&&Ge.$raise(me("ArgumentError"),"wrong number of arguments (given "+n.$length()+", expected 0)"),$=qe(s.$keys(),r.$class().$members()),Ze($["$any?"]())&&Ge.$raise(me("ArgumentError"),"unknown keywords: "+$.$join(", ")),G(r.$class().$members(),"each",[],function h(b){var B,pe=h.$$s==null?this:h.$$s;return b==null&&(b=te),B=[b,s["$[]"](b)],G(pe,"[]=",B),B[B.length-1]},{$$s:r})):(Ze(se(n.$length(),r.$class().$members().$length()))&&Ge.$raise(me("ArgumentError"),"struct size differs"),G(r.$class().$members(),"each_with_index",[],function h(b,B){var pe,Oe=h.$$s==null?this:h.$$s;return b==null&&(b=te),B==null&&(B=te),pe=[b,n["$[]"](B)],G(Oe,"[]=",pe),pe[pe.length-1]},{$$s:r}))},-1),Ie(q,"$initialize_copy",function(D){var d=this;d.$$data={};var n=Object.keys(D.$$data),r,s,i;for(r=0,s=n.length;r<s;r++)i=n[r],d.$$data[i]=D.$$data[i]}),je(q,"$keyword_init?",function(){var D=this;return D.$$keyword_init}),Ie(q,"$members",function(){var D=this;return D.$class().$members()}),Ie(q,"$hash",function(){var D=this;return N("Hash").$new(D.$$data).$hash()}),Ie(q,"$[]",function(D){var d=this;return We(me("Integer"),D)?(Ze(Fe(D,d.$class().$members().$size()["$-@"]()))&&Ge.$raise(me("IndexError"),"offset "+D+" too small for struct(size:"+d.$class().$members().$size()+")"),Ze(xe(D,d.$class().$members().$size()))&&Ge.$raise(me("IndexError"),"offset "+D+" too large for struct(size:"+d.$class().$members().$size()+")"),D=d.$class().$members()["$[]"](D)):We(me("String"),D)?d.$$data.hasOwnProperty(D)||Ge.$raise(me("NameError").$new("no member '"+D+"' in struct",D)):Ge.$raise(me("TypeError"),"no implicit conversion of "+D.$class()+" into Integer"),D=ye["$coerce_to!"](D,me("String"),"to_str"),d.$$data[D]}),Ie(q,"$[]=",function(D,d){var n=this;return We(me("Integer"),D)?(Ze(Fe(D,n.$class().$members().$size()["$-@"]()))&&Ge.$raise(me("IndexError"),"offset "+D+" too small for struct(size:"+n.$class().$members().$size()+")"),Ze(xe(D,n.$class().$members().$size()))&&Ge.$raise(me("IndexError"),"offset "+D+" too large for struct(size:"+n.$class().$members().$size()+")"),D=n.$class().$members()["$[]"](D)):We(me("String"),D)?Ze(n.$class().$members()["$include?"](D.$to_sym()))||Ge.$raise(me("NameError").$new("no member '"+D+"' in struct",D)):Ge.$raise(me("TypeError"),"no implicit conversion of "+D.$class()+" into Integer"),D=ye["$coerce_to!"](D,me("String"),"to_str"),n.$$data[D]=d}),Ie(q,"$==",function(D){var d=this;if(!Ze(D["$instance_of?"](d.$class())))return!1;var n={},r={};function s(i,$){var h,b,B;n[i.$__id__()]=!0,r[$.$__id__()]=!0;for(h in i.$$data)if(b=i.$$data[h],B=$.$$data[h],me("Struct")["$==="](b)){if((!n.hasOwnProperty(b.$__id__())||!r.hasOwnProperty(B.$__id__()))&&!s(b,B))return!1}else if(!b["$=="](B))return!1;return!0}return s(d,D)}),Ie(q,"$eql?",function(D){var d=this;if(!Ze(D["$instance_of?"](d.$class())))return!1;var n={},r={};function s(i,$){var h,b,B;n[i.$__id__()]=!0,r[$.$__id__()]=!0;for(h in i.$$data)if(b=i.$$data[h],B=$.$$data[h],me("Struct")["$==="](b)){if((!n.hasOwnProperty(b.$__id__())||!r.hasOwnProperty(B.$__id__()))&&!s(b,B))return!1}else if(!b["$eql?"](B))return!1;return!0}return s(d,D)}),Ie(q,"$each",function re(){var D=re.$$p||te,d=this;return re.$$p=null,D===te?G(d,"enum_for",["each"],function n(){var r=n.$$s==null?this:n.$$s;return r.$size()},{$$s:d}):(G(d.$class().$members(),"each",[],function n(r){var s=n.$$s==null?this:n.$$s;return r==null&&(r=te),o.yield1(D,s["$[]"](r))},{$$s:d}),d)}),Ie(q,"$each_pair",function re(){var D=re.$$p||te,d=this;return re.$$p=null,D===te?G(d,"enum_for",["each_pair"],function n(){var r=n.$$s==null?this:n.$$s;return r.$size()},{$$s:d}):(G(d.$class().$members(),"each",[],function n(r){var s=n.$$s==null?this:n.$$s;return r==null&&(r=te),o.yield1(D,[r,s["$[]"](r)])},{$$s:d}),d)}),Ie(q,"$length",function(){var D=this;return D.$class().$members().$length()}),Ie(q,"$to_a",function(){var D=this;return G(D.$class().$members(),"map",[],function d(n){var r=d.$$s==null?this:d.$$s;return n==null&&(n=te),r["$[]"](n)},{$$s:D})});var ze=[];return Ie(q,"$inspect",function(){var D=this,d=te,n=te;return function(){try{return d="#<struct ",Ze(ze["$include?"](D.$__id__()))?fe(d,":...>"):(ze["$<<"](D.$__id__()),n=!0,We(me("Struct"),D)&&Ze(D.$class().$name())&&(d=fe(d,""+D.$class()+" ")),d=fe(d,G(D.$each_pair(),"map",[],function(s,i){return s==null&&(s=te),i==null&&(i=te),""+s+"="+N("Opal").$inspect(i)}).$join(", ")),d=fe(d,">"),d)}finally{Ze(n)&&ze.pop()}}()}),Ie(q,"$to_h",function re(){var D=re.$$p||te,d=this;return re.$$p=null,D!==te?G(G(d,"map",[],D.$to_proc()),"to_h",Pe(d.$args())):G(d.$class().$members(),"each_with_object",[Te([],{})],function n(r,s){var i,$=n.$$s==null?this:n.$$s;return r==null&&(r=te),s==null&&(s=te),i=[r,$["$[]"](r)],G(s,"[]=",i),i[i.length-1]},{$$s:d})}),Ie(q,"$values_at",function(D){var d,n,r=this;d=Se(arguments),n=d,n=G(n,"map",[],function(b){return b==null&&(b=te),b.$$is_range?b.$to_a():b}).$flatten();for(var s=[],i=0,$=n.length;i<$;i++)n[i].$$is_number||Ge.$raise(me("TypeError"),"no implicit conversion of "+n[i].$class()+" into Integer"),s.push(r["$[]"](n[i]));return s},-1),Ie(q,"$dig",function(D,d){var n,r,s=this,i=te;return n=Se(arguments,1),r=n,i=Ze(D.$$is_string&&s.$$data.hasOwnProperty(D))&&s.$$data[D]||te,i===te||r.length===0?i:(Ze(i["$respond_to?"]("dig"))||Ge.$raise(me("TypeError"),""+i.$class()+" does not have #dig method"),G(i,"dig",Pe(r)))},-2),_e(q,"size","length"),_e(q,"to_s","inspect"),_e(q,"values","to_a")}("::",null,Ee)};Opal.modules["corelib/set"]=function(o){var Z=o.freeze,Se=o.klass,Me=o.slice,he=o.defs,Ze=o.hash2,Re=o.truthy,Le=o.eqeqeq,ye=o.Kernel,G=o.send,De=o.def,Pe=o.eqeq,Ie=o.rb_lt,je=o.rb_le,Ge=o.alias,Te=[],se=o.nil,qe=o.$$$;return o.add_stubs("include,new,nil?,===,raise,each,add,merge,class,respond_to?,subtract,dup,join,to_a,equal?,instance_of?,==,instance_variable_get,size,is_a?,all?,include?,[]=,enum_for,[],<<,replace,compare_by_identity,name,compare_by_identity?,delete,select,frozen?,freeze,reject,delete_if,to_proc,keep_if,each_key,empty?,eql?,instance_eval,clear,<,<=,any?,!,intersect?,keys,|,proper_subset?,subset?,proper_superset?,superset?,-,select!,collect!"),function(We,Fe,xe){var fe=Se(We,Fe,"Set"),_e=[fe].concat(xe),$e=o.$r(_e),Ee=se,te=fe.$$prototype;te.hash=se,fe.$include(qe("Enumerable")),he(fe,"$[]",function(m){var ae,q,J=this;return ae=Me(arguments),q=ae,J.$new(q)},-1),De(fe,"$initialize",function X(m){var ae=X.$$p||se,q=this;return X.$$p=null,m==null&&(m=se),q.hash=Ze([],{}),Re(m["$nil?"]())?se:(Le(qe("Enumerable"),m)||ye.$raise(qe("ArgumentError"),"value must be enumerable"),Re(ae)?G(m,"each",[],function J(N){var ze=J.$$s==null?this:J.$$s;return N==null&&(N=se),ze.$add(o.yield1(ae,N))},{$$s:q}):q.$merge(m))},-1),De(fe,"$dup",function(){var m=this,ae=se;return ae=m.$class().$new(),ae.$merge(m)}),De(fe,"$-",function(m){var ae=this;return Re(m["$respond_to?"]("each"))||ye.$raise(qe("ArgumentError"),"value must be enumerable"),ae.$dup().$subtract(m)}),De(fe,"$inspect",function(){var m=this;return"#<Set: {"+m.$to_a().$join(",")+"}>"}),De(fe,"$==",function(m){var ae=this;return Re(ae["$equal?"](m))?!0:Re(m["$instance_of?"](ae.$class()))?ae.hash["$=="](m.$instance_variable_get("@hash")):Re(m["$is_a?"](qe("Set")))&&Pe(ae.$size(),m.$size())?G(m,"all?",[],function q(J){var N=q.$$s==null?this:q.$$s;return N.hash==null&&(N.hash=se),J==null&&(J=se),N.hash["$include?"](J)},{$$s:ae}):!1}),De(fe,"$add",function(m){var ae=this;return ae.hash["$[]="](m,!0),ae}),De(fe,"$classify",function X(){var m=X.$$p||se,ae=this,q=se;return X.$$p=null,m===se?ae.$enum_for("classify"):(q=G(qe("Hash"),"new",[],function J(N,ze){var re,D=J.$$s==null?this:J.$$s;return N==null&&(N=se),ze==null&&(ze=se),re=[ze,D.$class().$new()],G(N,"[]=",re),re[re.length-1]},{$$s:ae}),G(ae,"each",[],function(N){return N==null&&(N=se),q["$[]"](o.yield1(m,N)).$add(N)}),q)}),De(fe,"$collect!",function X(){var m=X.$$p||se,ae=this,q=se;return X.$$p=null,m===se?ae.$enum_for("collect!"):(q=ae.$class().$new(),G(ae,"each",[],function(N){return N==null&&(N=se),q["$<<"](o.yield1(m,N))}),ae.$replace(q))}),De(fe,"$compare_by_identity",function(){var m=this;return Re(m.hash["$respond_to?"]("compare_by_identity"))?(m.hash.$compare_by_identity(),m):m.$raise($e("NotImplementedError"),""+m.$class().$name()+"#compare_by_identity is not implemented")}),De(fe,"$compare_by_identity?",function(){var m=this,ae=se;return Re(ae=m.hash["$respond_to?"]("compare_by_identity?"))?m.hash["$compare_by_identity?"]():ae}),De(fe,"$delete",function(m){var ae=this;return ae.hash.$delete(m),ae}),De(fe,"$delete?",function(m){var ae=this;return Re(ae["$include?"](m))?(ae.$delete(m),ae):se}),De(fe,"$delete_if",function X(){var m=X.$$p||se,ae=this;return X.$$p=null,m===se?ae.$enum_for("delete_if"):(G(G(ae,"select",[],function(J){return J==null&&(J=se),o.yield1(m,J)}),"each",[],function q(J){var N=q.$$s==null?this:q.$$s;return N.hash==null&&(N.hash=se),J==null&&(J=se),N.hash.$delete(J)},{$$s:ae}),ae)}),De(fe,"$freeze",function(){var m=this;return Re(m["$frozen?"]())?m:(m.hash.$freeze(),Z(m))}),De(fe,"$keep_if",function X(){var m=X.$$p||se,ae=this;return X.$$p=null,m===se?ae.$enum_for("keep_if"):(G(G(ae,"reject",[],function(J){return J==null&&(J=se),o.yield1(m,J)}),"each",[],function q(J){var N=q.$$s==null?this:q.$$s;return N.hash==null&&(N.hash=se),J==null&&(J=se),N.hash.$delete(J)},{$$s:ae}),ae)}),De(fe,"$reject!",function X(){var m=X.$$p||se,ae=this,q=se;return X.$$p=null,m===se?ae.$enum_for("reject!"):(q=ae.$size(),G(ae,"delete_if",[],m.$to_proc()),Pe(ae.$size(),q)?se:ae)}),De(fe,"$select!",function X(){var m=X.$$p||se,ae=this,q=se;return X.$$p=null,m===se?ae.$enum_for("select!"):(q=ae.$size(),G(ae,"keep_if",[],m.$to_proc()),Pe(ae.$size(),q)?se:ae)}),De(fe,"$add?",function(m){var ae=this;return Re(ae["$include?"](m))?se:ae.$add(m)}),De(fe,"$each",function X(){var m=X.$$p||se,ae=this;return X.$$p=null,m===se?ae.$enum_for("each"):(G(ae.hash,"each_key",[],m.$to_proc()),ae)}),De(fe,"$empty?",function(){var m=this;return m.hash["$empty?"]()}),De(fe,"$eql?",function(m){var ae=this;return ae.hash["$eql?"](G(m,"instance_eval",[],function q(){var J=q.$$s==null?this:q.$$s;return J.hash==null&&(J.hash=se),J.hash},{$$s:ae}))}),De(fe,"$clear",function(){var m=this;return m.hash.$clear(),m}),De(fe,"$include?",function(m){var ae=this;return ae.hash["$include?"](m)}),De(fe,"$merge",function(m){var ae=this;return G(m,"each",[],function q(J){var N=q.$$s==null?this:q.$$s;return J==null&&(J=se),N.$add(J)},{$$s:ae}),ae}),De(fe,"$replace",function(m){var ae=this;return ae.$clear(),ae.$merge(m),ae}),De(fe,"$size",function(){var m=this;return m.hash.$size()}),De(fe,"$subtract",function(m){var ae=this;return G(m,"each",[],function q(J){var N=q.$$s==null?this:q.$$s;return J==null&&(J=se),N.$delete(J)},{$$s:ae}),ae}),De(fe,"$|",function(m){var ae=this;return Re(m["$respond_to?"]("each"))||ye.$raise(qe("ArgumentError"),"value must be enumerable"),ae.$dup().$merge(m)});function me(X){Re(Ee=X["$is_a?"](qe("Set")))||ye.$raise(qe("ArgumentError"),"value must be a set")}return De(fe,"$superset?",function(m){var ae=this;return me(m),Re(Ie(ae.$size(),m.$size()))?!1:G(m,"all?",[],function q(J){var N=q.$$s==null?this:q.$$s;return J==null&&(J=se),N["$include?"](J)},{$$s:ae})}),De(fe,"$proper_superset?",function(m){var ae=this;return me(m),Re(je(ae.$size(),m.$size()))?!1:G(m,"all?",[],function q(J){var N=q.$$s==null?this:q.$$s;return J==null&&(J=se),N["$include?"](J)},{$$s:ae})}),De(fe,"$subset?",function(m){var ae=this;return me(m),Re(Ie(m.$size(),ae.$size()))?!1:G(ae,"all?",[],function(J){return J==null&&(J=se),m["$include?"](J)})}),De(fe,"$proper_subset?",function(m){var ae=this;return me(m),Re(je(m.$size(),ae.$size()))?!1:G(ae,"all?",[],function(J){return J==null&&(J=se),m["$include?"](J)})}),De(fe,"$intersect?",function(m){var ae=this;return me(m),Re(Ie(ae.$size(),m.$size()))?G(ae,"any?",[],function(J){return J==null&&(J=se),m["$include?"](J)}):G(m,"any?",[],function q(J){var N=q.$$s==null?this:q.$$s;return J==null&&(J=se),N["$include?"](J)},{$$s:ae})}),De(fe,"$disjoint?",function(m){var ae=this;return ae["$intersect?"](m)["$!"]()}),De(fe,"$to_a",function(){var m=this;return m.hash.$keys()}),Ge(fe,"+","|"),Ge(fe,"<","proper_subset?"),Ge(fe,"<<","add"),Ge(fe,"<=","subset?"),Ge(fe,">","proper_superset?"),Ge(fe,">=","superset?"),Ge(fe,"difference","-"),Ge(fe,"filter!","select!"),Ge(fe,"length","size"),Ge(fe,"map!","collect!"),Ge(fe,"member?","include?"),Ge(fe,"union","|")}("::",null,Te)};Opal.modules["corelib/dir"]=function(o){var Z=o.klass,Se=o.def,Me=o.truthy,he=o.alias,Ze=[],Re=o.nil,Le=o.$$$;return o.add_stubs("[],pwd"),function(ye,G,De){var Pe=Z(ye,G,"Dir"),Ie=[Pe].concat(De);return function(je,Ge){return Se(je,"$chdir",function Te(se){var qe=Te.$$p||Re,We=Re;return Te.$$p=null,function(){try{return We=o.current_dir,o.current_dir=se,o.yieldX(qe,[])}finally{o.current_dir=We}}()}),Se(je,"$pwd",function(){return o.current_dir||"."}),Se(je,"$home",function(){var se=Re;return Me(se=Le("ENV")["$[]"]("HOME"))?se:"."}),he(je,"getwd","pwd")}(o.get_singleton_class(Pe),Ie)}("::",null,Ze)};Opal.modules["corelib/file"]=function(o){var Z=o.truthy,Se=o.klass,Me=o.const_set,he=o.Opal,Ze=o.regexp,Re=o.rb_plus,Le=o.def,ye=o.Kernel,G=o.eqeq,De=o.rb_lt,Pe=o.rb_minus,Ie=o.range,je=o.send,Ge=o.slice,Te=o.alias,se=[],qe=o.nil,We=o.$$$;return o.add_stubs("respond_to?,to_path,coerce_to!,pwd,split,sub,+,unshift,join,home,raise,start_with?,absolute_path,==,<,dirname,-,basename,empty?,rindex,[],length,nil?,gsub,find,=~,map,each_with_index,flatten,reject,to_proc,end_with?,expand_path,exist?"),function(Fe,xe,fe){var _e=Se(Fe,xe,"File"),$e=[_e].concat(fe),Ee=qe;return Me($e[0],"Separator",Me($e[0],"SEPARATOR","/")),Me($e[0],"ALT_SEPARATOR",qe),Me($e[0],"PATH_SEPARATOR",":"),Me($e[0],"FNM_SYSCASE",0),Ee=/^[a-zA-Z]:(?:\\|\/)/,function(te,me){var X=[te].concat(me),m=o.$r(X);Le(te,"$absolute_path",function(N,ze){var re=qe,D=qe,d=qe,n=qe,r=qe,s=qe,i=qe,$=qe,h=qe,b=qe;ze==null&&(ze=qe),re=m("SEPARATOR"),D=q(),d=[],N=Z(N["$respond_to?"]("to_path"))?N.$to_path():N,N=he["$coerce_to!"](N,We("String"),"to_str"),ze=Z(n=ze)?n:We("Dir").$pwd(),r=N.substr(0,re.length)===re||Ee.test(N),s=ze.substr(0,re.length)===re||Ee.test(ze),Z(r)?(i=N.$split(Ze(["[",D,"]"])),$=Ee.test(N)?"":N.$sub(Ze(["^([",D,"]+).*$"]),"\\1"),h=!0):(i=Re(ze.$split(Ze(["[",D,"]"])),N.$split(Ze(["[",D,"]"]))),$=Ee.test(ze)?"":ze.$sub(Ze(["^([",D,"]+).*$"]),"\\1"),h=s);for(var B,pe=0,Oe=i.length;pe<Oe;pe++)B=i[pe],!(B===qe||B===""&&(d.length===0||h)||B==="."&&(d.length===0||h))&&(B===".."?d.pop():d.push(B));return!h&&i[0]!=="."&&d.$unshift("."),b=d.$join(re),Z(h)&&(b=Re($,b)),b},-2),Le(te,"$expand_path",function(N,ze){var re=this,D=qe,d=qe,n=qe,r=qe,s=qe;return ze==null&&(ze=qe),D=m("SEPARATOR"),d=q(),Z(N[0]==="~"||ze&&ze[0]==="~")&&(n=m("Dir").$home(),Z(n)||ye.$raise(We("ArgumentError"),"couldn't find HOME environment -- expanding `~'"),r=Ee.test(n)?"":n.$sub(Ze(["^([",d,"]+).*$"]),"\\1"),Z(n["$start_with?"](r))||ye.$raise(We("ArgumentError"),"non-absolute home"),n=Re(n,D),s=Ze(["^\\~(?:",D,"|$)"]),N=N.$sub(s,n),Z(ze)&&(ze=ze.$sub(s,n))),re.$absolute_path(N,ze)},-2);function ae(J){return Z(J["$respond_to?"]("to_path"))&&(J=J.$to_path()),J=he["$coerce_to!"](J,We("String"),"to_str"),J}function q(){return m("ALT_SEPARATOR")===qe?o.escape_regexp(m("SEPARATOR")):o.escape_regexp(Re(m("SEPARATOR"),m("ALT_SEPARATOR")))}return Le(te,"$dirname",function(N,ze){var re=this,D=qe;if(ze==null&&(ze=1),G(ze,0))return N;Z(De(ze,0))&&ye.$raise(We("ArgumentError"),"level can't be negative"),D=q(),N=ae(N);var d=N.match(new RegExp("^["+D+"]")),n;return N=N.replace(new RegExp("["+D+"]+$"),""),N=N.replace(new RegExp("[^"+D+"]+$"),""),N=N.replace(new RegExp("["+D+"]+$"),""),N===""?n=d?"/":".":n=N,ze==1?n:re.$dirname(n,Pe(ze,1))},-2),Le(te,"$basename",function(N,ze){var re=qe;return ze==null&&(ze=qe),re=q(),N=ae(N),N.length==0||(ze!==qe?ze=he["$coerce_to!"](ze,We("String"),"to_str"):ze=null,N=N.replace(new RegExp("(.)["+re+"]*$"),"$1"),N=N.replace(new RegExp("^(?:.*["+re+"])?([^"+re+"]+)$"),"$1"),ze===".*"?N=N.replace(/\.[^\.]+$/,""):ze!==null&&(ze=o.escape_regexp(ze),N=N.replace(new RegExp(""+ze+"$"),""))),N},-2),Le(te,"$extname",function(N){var ze=this,re=qe,D=qe;return N=ae(N),re=ze.$basename(N),Z(re["$empty?"]())||(D=re["$[]"](Ie(1,-1,!1)).$rindex("."),Z(D["$nil?"]())||G(Re(D,1),Pe(re.$length(),1)))?"":re["$[]"](o.Range.$new(Re(D,1),-1,!1))}),Le(te,"$exist?",function(N){return o.modules[N]!=null}),Le(te,"$directory?",function(N){var ze=qe;ze=[];for(var re in o.modules)ze.push(re);return N=N.$gsub(Ze(["(^.",m("SEPARATOR"),"+|",m("SEPARATOR"),"+$)"])),je(ze,"find",[],function(d){return d==null&&(d=qe),d["$=~"](Ze(["^",N]))})}),Le(te,"$join",function(N){var ze,re,D=qe;return ze=Ge(arguments),re=ze,Z(re["$empty?"]())?"":(D="",re=je(re.$flatten().$each_with_index(),"map",[],function(n,r){return n==null&&(n=qe),r==null&&(r=qe),G(r,0)&&Z(n["$empty?"]())||G(re.$length(),Re(r,1))&&Z(n["$empty?"]())?m("SEPARATOR"):n}),re=je(re,"reject",[],"empty?".$to_proc()),je(re,"each_with_index",[],function(n,r){var s=qe;return n==null&&(n=qe),r==null&&(r=qe),s=re["$[]"](Re(r,1)),Z(s["$nil?"]())?D=""+D+n:(Z(n["$end_with?"](m("SEPARATOR")))&&Z(s["$start_with?"](m("SEPARATOR")))&&(n=n.$sub(Ze([m("SEPARATOR"),"+$"]),"")),D=Z(n["$end_with?"](m("SEPARATOR")))||Z(s["$start_with?"](m("SEPARATOR")))?""+D+n:""+D+n+m("SEPARATOR"))}),D)},-1),Le(te,"$split",function(N){return N.$split(m("SEPARATOR"))}),Te(te,"realpath","expand_path"),Te(te,"exists?","exist?")}(o.get_singleton_class(_e),$e)}("::",We("IO"),se)};Opal.modules["corelib/process/base"]=function(o){var Z=o.klass,Se=o.slice,Me=o.defs,he=o.return_val,Ze=o.nil;return function(Re,Le){var ye=Z(Re,Le,"Signal");return Me(ye,"$trap",function(De){var Pe,Ie;return Pe=Se(arguments),Ie=Pe,Ze},-1)}("::",null),function(Re,Le){var ye=Z(Re,Le,"GC");return Me(ye,"$start",he(Ze))}("::",null)};Opal.modules["corelib/process"]=function(o){var Z=o.module,Se=o.defs,Me=o.truthy,he=o.return_val,Ze=o.Kernel,Re=o.nil,Le=o.$$$;return o.add_stubs("const_set,size,<<,__register_clock__,to_f,now,new,[],raise"),function(ye){var G=Z(ye,"Process"),De=Re;if(G.__clocks__=[],Se(G,"$__register_clock__",function(je,Ge){var Te=this;return Te.__clocks__==null&&(Te.__clocks__=Re),Te.$const_set(je,Te.__clocks__.$size()),Te.__clocks__["$<<"](Ge)}),G.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),De=!1,o.global.performance)De=function(){return performance.now()};else if(o.global.process&&process.hrtime){var Pe=process.hrtime();De=function(){var Ie=process.hrtime(Pe),je=Ie[1]/1e3|0;return Ie[0]*1e3+je/1e3}}return Me(De)&&G.$__register_clock__("CLOCK_MONOTONIC",De),Se(G,"$pid",he(0)),Se(G,"$times",function(){var je=Re;return je=Le("Time").$now().$to_f(),Le(Le("Benchmark"),"Tms").$new(je,je,je,je,je)}),Se(G,"$clock_gettime",function(je,Ge){var Te=this,se=Re,qe=Re;Te.__clocks__==null&&(Te.__clocks__=Re),Ge==null&&(Ge="float_second"),Me(se=qe=Te.__clocks__["$[]"](je))||Ze.$raise(Le(Le("Errno"),"EINVAL"),"clock_gettime("+je+") "+Te.__clocks__["$[]"](je));var We=qe();switch(Ge){case"float_second":return We/1e3;case"float_millisecond":return We/1;case"float_microsecond":return We*1e3;case"second":return We/1e3|0;case"millisecond":return We/1|0;case"microsecond":return We*1e3|0;case"nanosecond":return We*1e6|0;default:Ze.$raise(Le("ArgumentError"),"unexpected unit: "+Ge)}},-2)}("::")};Opal.modules["corelib/random/formatter"]=function(o){var Z=o.klass,Se=o.module,Me=o.def,he=o.range,Ze=o.send,Re=o.rb_divide,Le=o.Kernel,ye=o.Opal,G=[],De=o.nil,Pe=o.$$$;return o.add_stubs("_verify_count,bytes,encode,strict_encode64,random_bytes,urlsafe_encode64,split,hex,[]=,[],map,to_proc,join,times,<<,|,ord,/,abs,random_float,raise,coerce_to!,flatten,new,random_number,length,include,extend"),function(Ie,je,Ge){var Te=Z(Ie,je,"Random"),se=[Te].concat(Ge);return function(qe,We){var Fe=Se(qe,"Formatter"),xe=[Fe].concat(We),fe=o.$r(xe);return Me(Fe,"$hex",function($e){var Ee=this;$e==null&&($e=De),$e=Pe("Random").$_verify_count($e);for(var te=Ee.$bytes($e),me="",X=0;X<$e;X++)me+=te.charCodeAt(X).toString(16).padStart(2,"0");return me.$encode("US-ASCII")},-1),Me(Fe,"$random_bytes",function($e){var Ee=this;return $e==null&&($e=De),Ee.$bytes($e)},-1),Me(Fe,"$base64",function($e){var Ee=this;return $e==null&&($e=De),Pe("Base64").$strict_encode64(Ee.$random_bytes($e)).$encode("US-ASCII")},-1),Me(Fe,"$urlsafe_base64",function($e,Ee){var te=this;return $e==null&&($e=De),Ee==null&&(Ee=!1),Pe("Base64").$urlsafe_encode64(te.$random_bytes($e),Ee).$encode("US-ASCII")},-1),Me(Fe,"$uuid",function(){var $e=this,Ee=De;return Ee=$e.$hex(16).$split(""),Ee["$[]="](12,"4"),Ee["$[]="](16,(parseInt(Ee["$[]"](16),16)&3|8).toString(16)),Ee=[Ee["$[]"](he(0,8,!0)),Ee["$[]"](he(8,12,!0)),Ee["$[]"](he(12,16,!0)),Ee["$[]"](he(16,20,!0)),Ee["$[]"](he(20,32,!0))],Ee=Ze(Ee,"map",[],"join".$to_proc()),Ee.$join("-")}),Me(Fe,"$random_float",function(){var $e=this,Ee=De,te=De;return Ee=$e.$bytes(4),te=0,Ze(4,"times",[],function(X){return X==null&&(X=De),te=te["$<<"](8),te=te["$|"](Ee["$[]"](X).$ord())}),Re(te.$abs(),2147483647)}),Me(Fe,"$random_number",function($e){var Ee=this;function te(){return Ee.$random_float()}function me(m){return Math.floor(te()*m)}function X(){var m=$e.begin,ae=$e.end;if(m===De||ae===De)return De;var q=ae-m;return q<0?De:q===0?m:(ae%1===0&&m%1===0&&!$e.excl&&q++,me(q)+m)}return $e==null?te():$e.$$is_range?X():$e.$$is_number?($e<=0&&Le.$raise(Pe("ArgumentError"),"invalid argument - "+$e),$e%1===0?me($e):te()*$e):($e=ye["$coerce_to!"]($e,Pe("Integer"),"to_int"),$e<=0&&Le.$raise(Pe("ArgumentError"),"invalid argument - "+$e),me($e))},-1),Me(Fe,"$alphanumeric",function($e){var Ee=this,te=De;return $e==null&&($e=De),$e=fe("Random").$_verify_count($e),te=Ze([he("0","9",!1),he("a","z",!1),he("A","Z",!1)],"map",[],"to_a".$to_proc()).$flatten(),Ze(Pe("Array"),"new",[$e],function me(X){var m=me.$$s==null?this:me.$$s;return X==null&&(X=De),te["$[]"](m.$random_number(te.$length()))},{$$s:Ee}).$join()},-1)}(Te,se),Te.$include(Pe(Pe("Random"),"Formatter")),Te.$extend(Pe(Pe("Random"),"Formatter"))}("::",null,G)};Opal.modules["corelib/random/mersenne_twister"]=function(o){var Z=o.klass,Se=o.const_set,Me=o.send,he=o.nil,Ze=o.$$$,Re=he;return o.add_stubs("generator="),Re=function(){var Le=624,ye=397,G=2567483615,De=2147483648,Pe=2147483647,Ie=function(xe,fe){return xe&De|fe&Pe},je=function(xe,fe){return Ie(xe,fe)>>>1^(fe&1?G:0)};function Ge(xe){var fe={left:0,next:Le,state:new Array(Le)};return Te(fe,xe),fe}function Te(xe,fe){var _e,$e;for(xe.state[0]=fe>>>0,_e=1;_e<Le;_e++)xe.state[_e]=1812433253*(xe.state[_e-1]^xe.state[_e-1]>>30>>>0)+_e,xe.state[_e]&=4294967295;xe.left=1,xe.next=Le}function se(xe){var fe=0,_e=xe.state,$e;for(xe.left=Le,xe.next=0,$e=Le-ye+1;--$e;fe++)_e[fe]=_e[fe+ye]^je(_e[fe+0],_e[fe+1]);for($e=ye;--$e;fe++)_e[fe]=_e[fe+(ye-Le)]^je(_e[fe+0],_e[fe+1]);_e[fe]=_e[fe+(ye-Le)]^je(_e[fe+0],_e[0])}function qe(xe){var fe;return--xe.left<=0&&se(xe),fe=xe.state[xe.next++],fe^=fe>>>11,fe^=fe<<7&2636928640,fe^=fe<<15&4022730752,fe^=fe>>>18,fe>>>0}function We(xe,fe){return xe>>>=5,fe>>>=6,(xe*67108864+fe)*(1/9007199254740992)}function Fe(xe){var fe=qe(xe),_e=qe(xe);return We(fe,_e)}return{genrand_real:Fe,init:Ge}}(),function(Le,ye){var G=Z(Le,ye,"Random"),De,Pe=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1;return Se(G,"MERSENNE_TWISTER_GENERATOR",{new_seed:function(){return Math.round(Math.random()*Pe)},reseed:function(Ie){return Re.init(Ie)},rand:function(Ie){return Re.genrand_real(Ie)}}),De=[Ze(G,"MERSENNE_TWISTER_GENERATOR")],Me(G,"generator=",De),De[De.length-1]}("::",null)};Opal.modules["corelib/random"]=function(o){var Z=o.truthy,Se=o.klass,Me=o.Kernel,he=o.defs,Ze=o.Opal,Re=o.def,Le=o.eqeqeq,ye=o.send,G=o.top,De=o.nil,Pe=o.$$$;return o.add_stubs("require,attr_reader,to_int,raise,new_seed,coerce_to!,reseed,rand,seed,bytes,===,==,state,_verify_count,encode,join,new,chr,random_number,random_float,const_defined?,const_set"),G.$require("corelib/random/formatter"),function(Ie,je){var Ge=Se(Ie,je,"Random");return Ge.$attr_reader("seed","state"),he(Ge,"$_verify_count",function(se){return Z(se)||(se=16),typeof se!="number"&&(se=se.$to_int()),se<0&&Me.$raise(Pe("ArgumentError"),"negative string size (or size too big)"),se=Math.floor(se),se}),Re(Ge,"$initialize",function(se){var qe=this;return se==null&&(se=Pe("Random").$new_seed()),se=Ze["$coerce_to!"](se,Pe("Integer"),"to_int"),qe.state=se,qe.$reseed(se)},-1),Re(Ge,"$reseed",function(se){var qe=this;return qe.seed=se,qe.$rng=o.$$rand.reseed(se)}),he(Ge,"$new_seed",function(){return o.$$rand.new_seed()}),he(Ge,"$rand",function(se){var qe=this;return Pe(qe,"DEFAULT").$rand(se)},-1),he(Ge,"$srand",function(se){var qe=this,We=De;return se==null&&(se=Pe("Random").$new_seed()),se=Ze["$coerce_to!"](se,Pe("Integer"),"to_int"),We=Pe(qe,"DEFAULT").$seed(),Pe(qe,"DEFAULT").$reseed(se),We},-1),he(Ge,"$urandom",function(se){return Pe("SecureRandom").$bytes(se)}),Re(Ge,"$==",function(se){var qe=this,We=De;return Le(Pe("Random"),se)?Z(We=qe.$seed()["$=="](se.$seed()))?qe.$state()["$=="](se.$state()):We:!1}),Re(Ge,"$bytes",function(se){var qe=this;return se=Pe("Random").$_verify_count(se),ye(Pe("Array"),"new",[se],function We(){var Fe=We.$$s==null?this:We.$$s;return Fe.$rand(255).$chr()},{$$s:qe}).$join().$encode("ASCII-8BIT")}),he(Ge,"$bytes",function(se){var qe=this;return Pe(qe,"DEFAULT").$bytes(se)}),Re(Ge,"$rand",function(se){var qe=this;return qe.$random_number(se)},-1),Re(Ge,"$random_float",function(){var se=this;return se.state++,o.$$rand.rand(se.$rng)}),he(Ge,"$random_float",function(){var se=this;return Pe(se,"DEFAULT").$random_float()}),he(Ge,"$generator=",function(se){var qe=this;return o.$$rand=se,Z(qe["$const_defined?"]("DEFAULT"))?Pe(qe,"DEFAULT").$reseed():qe.$const_set("DEFAULT",qe.$new(qe.$new_seed()))})}("::",null),G.$require("corelib/random/mersenne_twister")};Opal.modules["corelib/unsupported"]=function(o){var Z=o.Kernel,Se=o.klass,Me=o.send,he=o.slice,Ze=o.module,Re=o.def,Le=o.return_val,ye=o.alias,G=o.defs,De=o.top,Pe=[],Ie=o.nil,je=o.$$$;o.add_stubs("raise,warn,each,define_method,%,public,private_method_defined?,private_class_method,instance_method,instance_methods,method_defined?,private_methods");var Ge={};function Te(qe){switch(o.config.unsupported_features_severity){case"error":Z.$raise(je("NotImplementedError"),qe);break;case"warning":se(qe);break;default:}}function se(qe){Ge[qe]||(Ge[qe]=!0,De.$warn(qe))}return function(qe,We){var Fe=Se(qe,We,"String"),xe="String#%s not supported. Mutable String methods are not supported in Opal.";return Me(["<<","capitalize!","chomp!","chop!","downcase!","gsub!","lstrip!","next!","reverse!","slice!","squeeze!","strip!","sub!","succ!","swapcase!","tr!","tr_s!","upcase!","prepend","[]=","clear","encode!","unicode_normalize!"],"each",[],function fe(_e){var $e=fe.$$s==null?this:fe.$$s;return _e==null&&(_e=Ie),Me($e,"define_method",[_e],function(te){var me,X;return me=he(arguments),X=me,Z.$raise(je("NotImplementedError"),xe["$%"](_e))},-1)},{$$s:Fe})}("::",null),function(qe){var We=Ze(qe,"Kernel"),Fe="Object tainting is not supported by Opal";return Re(We,"$taint",function(){var fe=this;return Te(Fe),fe}),Re(We,"$untaint",function(){var fe=this;return Te(Fe),fe}),Re(We,"$tainted?",function(){return Te(Fe),!1})}("::"),function(qe,We){var Fe=Se(qe,We,"Module");return Re(Fe,"$public",function(fe){var _e,$e,Ee=this;return _e=he(arguments),$e=_e,$e.length===0?(Ee.$$module_function=!1,Ie):$e.length===1?$e[0]:$e},-1),Re(Fe,"$private_class_method",function(fe){var _e,$e;return _e=he(arguments),$e=_e,$e.length===1?$e[0]:$e},-1),Re(Fe,"$private_method_defined?",Le(!1)),Re(Fe,"$private_constant",function(fe){var _e,$e;return _e=he(arguments),$e=_e,Ie},-1),ye(Fe,"nesting","public"),ye(Fe,"private","public"),ye(Fe,"protected","public"),ye(Fe,"protected_method_defined?","private_method_defined?"),ye(Fe,"public_class_method","private_class_method"),ye(Fe,"public_instance_method","instance_method"),ye(Fe,"public_instance_methods","instance_methods"),ye(Fe,"public_method_defined?","method_defined?")}("::",null),function(qe){var We=Ze(qe,"Kernel");return Re(We,"$private_methods",function(xe){var fe,_e;return fe=he(arguments),_e=fe,[]},-1),ye(We,"protected_methods","private_methods"),ye(We,"private_instance_methods","private_methods"),ye(We,"protected_instance_methods","private_methods")}("::"),function(qe,We){var Fe=Ze(qe,"Kernel"),xe=[Fe].concat(We),fe=o.$r(xe);return Re(Fe,"$eval",function($e){var Ee,te;return Ee=he(arguments),te=Ee,Z.$raise(je("NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+fe("RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},-1)}("::",Pe),G(De,"$public",function(We){var Fe,xe;return Fe=he(arguments),xe=Fe,xe.length===1?xe[0]:xe},-1),G(De,"$private",function(We){var Fe,xe;return Fe=he(arguments),xe=Fe,xe.length===1?xe[0]:xe},-1)};Opal.queue(function(o){var Z=o.Object,Se=o.nil;return o.add_stubs("require,autoload"),Z.$require("opal/base"),Z.$require("opal/mini"),Z.$require("corelib/kernel/format"),Z.$require("corelib/string/encoding"),Z.$autoload("Math","corelib/math"),Z.$require("corelib/complex/base"),Z.$autoload("Complex","corelib/complex"),Z.$require("corelib/rational/base"),Z.$autoload("Rational","corelib/rational"),Z.$require("corelib/time"),Z.$autoload("Struct","corelib/struct"),Z.$autoload("Set","corelib/set"),Z.$autoload("Dir","corelib/dir"),Z.$autoload("File","corelib/file"),Z.$require("corelib/process/base"),Z.$autoload("Process","corelib/process"),Z.$autoload("Random","corelib/random"),Z.$require("corelib/unsupported")})});var ir=fr((wr,nr)=>{nr.exports=(rr(),hr(tr))});var sr=dr(ir());function pr(){let Z=[],Se=0;for(;;){let he=new Uint8Array(1024),Ze=0,Re=Javy.IO.readSync(Ze,he);if(Se+=Re,Re===0)break;Z.push(he.subarray(0,Re))}let{finalBuffer:Me}=Z.reduce((he,Ze)=>(he.finalBuffer.set(Ze,he.bufferOffset),he.bufferOffset+=Ze.length,he),{bufferOffset:0,finalBuffer:new Uint8Array(Se)});return new TextDecoder().decode(Me)}function mr(o){let Z=new TextEncoder().encode(JSON.stringify(o)),Se=new Uint8Array(Z),Me=1;Javy.IO.writeSync(Me,Se)}var gr=(0,sr.default)(),vr=pr(),br=gr.convert(vr);mr(br);})();
/*! Bundled license information:

@asciidoctor/core/dist/browser/asciidoctor.js:
  (**
   * @license Asciidoctor.js 3.0.2 | MIT | https://github.com/asciidoctor/asciidoctor.js
   *)
*/
